<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Stefan Bechtold, Sam Brannen, Johannes Link, Matthias Merdes, Marc Philipp, Juliette de Rancourt, Christian Stein">
<title>JUnit 5 User Guide</title>
<link rel="stylesheet" href="JUnit%205%20User%20Guide_fichiers/css.css">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="JUnit%205%20User%20Guide_fichiers/font-awesome.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<link rel="icon" type="image/png" href="https://junit.org/junit5/assets/img/junit5-logo.png">
<style>
  /* Tocbot dynamic TOC, works with tocbot 3.0.2 */
  /* Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 */
  #tocbot a.toc-link.node-name--H1{ font-style: italic }
  @media screen{
    #tocbot > ul.toc-list{ margin-bottom: 0.5em; margin-left: 0.125em }
    #tocbot ul.sectlevel0, #tocbot a.toc-link.node-name--H1 + ul{
      padding-left: 0 }
    #tocbot a.toc-link{ height:100% }
    .is-collapsible{ max-height:3000px; overflow:hidden; }
    .is-collapsed{ max-height:0 }
    .is-active-link{ font-weight:700 }
  }
  @media print{
    #tocbot a.toc-link.node-name--H4{ display:none }
  }
</style>
<style>@media print {#ghostery-purple-box {display:none !important}}</style></head>
<body id="user-guide" class="article toc2 toc-left">
<div id="header">
<h1>JUnit 5 User Guide</h1>
<div class="details">
<span id="author" class="author">Stefan Bechtold</span><br>
<span id="author2" class="author">Sam Brannen</span><br>
<span id="author3" class="author">Johannes Link</span><br>
<span id="author4" class="author">Matthias Merdes</span><br>
<span id="author5" class="author">Marc Philipp</span><br>
<span id="author6" class="author">Juliette de Rancourt</span><br>
<span id="author7" class="author">Christian Stein</span><br>
<span id="revnumber">version 5.6.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<div id="tocbot" class="js-toc"><ul class="toc-list "><li class="toc-list-item"><a href="#overview" class="toc-link node-name--H2 ">1. Overview</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#overview-what-is-junit-5" class="toc-link node-name--H3 ">1.1. What is JUnit 5?</a></li><li class="toc-list-item"><a href="#overview-java-versions" class="toc-link node-name--H3 ">1.2. Supported Java Versions</a></li><li class="toc-list-item"><a href="#overview-getting-help" class="toc-link node-name--H3 ">1.3. Getting Help</a></li><li class="toc-list-item"><a href="#overview-getting-started" class="toc-link node-name--H3 ">1.4. Getting Started</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#overview-getting-started-junit-artifacts" class="toc-link node-name--H4 ">1.4.1. Downloading JUnit Artifacts</a></li><li class="toc-list-item"><a href="#overview-getting-started-features" class="toc-link node-name--H4 ">1.4.2. JUnit 5 Features</a></li><li class="toc-list-item"><a href="#overview-getting-started-example-projects" class="toc-link node-name--H4 ">1.4.3. Example Projects</a></li></ul></li></ul></li><li class="toc-list-item"><a href="#writing-tests" class="toc-link node-name--H2 ">2. Writing Tests</a><ul class="toc-list  is-collapsible"><li class="toc-list-item"><a href="#writing-tests-annotations" class="toc-link node-name--H3 ">2.1. Annotations</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-meta-annotations" class="toc-link node-name--H4 ">2.1.1. Meta-Annotations and Composed Annotations</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-classes-and-methods" class="toc-link node-name--H3 ">2.2. Test Classes and Methods</a></li><li class="toc-list-item"><a href="#writing-tests-display-names" class="toc-link node-name--H3 ">2.3. Display Names</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-display-name-generator" class="toc-link node-name--H4 ">2.3.1. Display Name Generators</a></li><li class="toc-list-item"><a href="#writing-tests-display-name-generator-default" class="toc-link node-name--H4 ">2.3.2. Setting the Default Display Name Generator</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-assertions" class="toc-link node-name--H3 ">2.4. Assertions</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-assertions-kotlin" class="toc-link node-name--H4 ">2.4.1. Kotlin Assertion Support</a></li><li class="toc-list-item"><a href="#writing-tests-assertions-third-party" class="toc-link node-name--H4 ">2.4.2. Third-party Assertion Libraries</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-assumptions" class="toc-link node-name--H3 ">2.5. Assumptions</a></li><li class="toc-list-item"><a href="#writing-tests-disabling" class="toc-link node-name--H3 ">2.6. Disabling Tests</a></li><li class="toc-list-item"><a href="#writing-tests-conditional-execution" class="toc-link node-name--H3 ">2.7. Conditional Test Execution</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-conditional-execution-os" class="toc-link node-name--H4 ">2.7.1. Operating System Conditions</a></li><li class="toc-list-item"><a href="#writing-tests-conditional-execution-jre" class="toc-link node-name--H4 ">2.7.2. Java Runtime Environment Conditions</a></li><li class="toc-list-item"><a href="#writing-tests-conditional-execution-system-properties" class="toc-link node-name--H4 ">2.7.3. System Property Conditions</a></li><li class="toc-list-item"><a href="#writing-tests-conditional-execution-environment-variables" class="toc-link node-name--H4 ">2.7.4. Environment Variable Conditions</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-tagging-and-filtering" class="toc-link node-name--H3 ">2.8. Tagging and Filtering</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#syntax-rules-for-tags" class="toc-link node-name--H4 ">2.8.1. Syntax Rules for Tags</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-test-execution-order" class="toc-link node-name--H3 ">2.9. Test Execution Order</a></li><li class="toc-list-item"><a href="#writing-tests-test-instance-lifecycle" class="toc-link node-name--H3 ">2.10. Test Instance Lifecycle</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-test-instance-lifecycle-changing-default" class="toc-link node-name--H4 ">2.10.1. Changing the Default Test Instance Lifecycle</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-nested" class="toc-link node-name--H3 ">2.11. Nested Tests</a></li><li class="toc-list-item"><a href="#writing-tests-dependency-injection" class="toc-link node-name--H3 ">2.12. Dependency Injection for Constructors and Methods</a></li><li class="toc-list-item"><a href="#writing-tests-test-interfaces-and-default-methods" class="toc-link node-name--H3  is-active-link">2.13. Test Interfaces and Default Methods</a></li><li class="toc-list-item"><a href="#writing-tests-repeated-tests" class="toc-link node-name--H3 ">2.14. Repeated Tests</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-repeated-tests-examples" class="toc-link node-name--H4 ">2.14.1. Repeated Test Examples</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests" class="toc-link node-name--H3 ">2.15. Parameterized Tests</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-setup" class="toc-link node-name--H4 ">2.15.1. Required Setup</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-consuming-arguments" class="toc-link node-name--H4 ">2.15.2. Consuming Arguments</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources" class="toc-link node-name--H4 ">2.15.3. Sources of Arguments</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-ValueSource" class="toc-link node-name--H5 ">@ValueSource</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-null-and-empty" class="toc-link node-name--H5 ">Null and Empty Sources</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-EnumSource" class="toc-link node-name--H5 ">@EnumSource</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-MethodSource" class="toc-link node-name--H5 ">@MethodSource</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-CsvSource" class="toc-link node-name--H5 ">@CsvSource</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-CsvFileSource" class="toc-link node-name--H5 ">@CsvFileSource</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-sources-ArgumentsSource" class="toc-link node-name--H5 ">@ArgumentsSource</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-argument-conversion" class="toc-link node-name--H4 ">2.15.4. Argument Conversion</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-argument-conversion-widening" class="toc-link node-name--H5 ">Widening Conversion</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-argument-conversion-implicit" class="toc-link node-name--H5 ">Implicit Conversion</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-argument-conversion-explicit" class="toc-link node-name--H5 ">Explicit Conversion</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-argument-aggregation" class="toc-link node-name--H4 ">2.15.5. Argument Aggregation</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-argument-aggregation-custom" class="toc-link node-name--H5 ">Custom Aggregators</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-display-names" class="toc-link node-name--H4 ">2.15.6. Customizing Display Names</a></li><li class="toc-list-item"><a href="#writing-tests-parameterized-tests-lifecycle-interop" class="toc-link node-name--H4 ">2.15.7. Lifecycle and Interoperability</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-test-templates" class="toc-link node-name--H3 ">2.16. Test Templates</a></li><li class="toc-list-item"><a href="#writing-tests-dynamic-tests" class="toc-link node-name--H3 ">2.17. Dynamic Tests</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-dynamic-tests-examples" class="toc-link node-name--H4 ">2.17.1. Dynamic Test Examples</a></li><li class="toc-list-item"><a href="#writing-tests-dynamic-tests-uri-test-source" class="toc-link node-name--H4 ">2.17.2. URI Test Sources for Dynamic Tests</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-declarative-timeouts" class="toc-link node-name--H3 ">2.18. Timeouts</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-declarative-timeouts-polling" class="toc-link node-name--H4 ">2.18.1. Using @Timeout for Polling Tests</a></li><li class="toc-list-item"><a href="#writing-tests-declarative-timeouts-mode" class="toc-link node-name--H4 ">2.18.2. Disable @Timeout Globally</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-parallel-execution" class="toc-link node-name--H3 ">2.19. Parallel Execution</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-parallel-execution-config" class="toc-link node-name--H4 ">2.19.1. Configuration</a></li><li class="toc-list-item"><a href="#writing-tests-parallel-execution-synchronization" class="toc-link node-name--H4 ">2.19.2. Synchronization</a></li></ul></li><li class="toc-list-item"><a href="#writing-tests-built-in-extensions" class="toc-link node-name--H3 ">2.20. Built-in Extensions</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#writing-tests-built-in-extensions-TempDirectory" class="toc-link node-name--H4 ">2.20.1. The TempDirectory Extension</a></li></ul></li></ul></li><li class="toc-list-item"><a href="#migrating-from-junit4" class="toc-link node-name--H2 ">3. Migrating from JUnit 4</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#migrating-from-junit4-running" class="toc-link node-name--H3 ">3.1. Running JUnit 4 Tests on the JUnit Platform</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#migrating-from-junit4-categories-support" class="toc-link node-name--H4 ">3.1.1. Categories Support</a></li></ul></li><li class="toc-list-item"><a href="#migrating-from-junit4-tips" class="toc-link node-name--H3 ">3.2. Migration Tips</a></li><li class="toc-list-item"><a href="#migrating-from-junit4-rule-support" class="toc-link node-name--H3 ">3.3. Limited JUnit 4 Rule Support</a></li><li class="toc-list-item"><a href="#migrating-from-junit4-ignore-annotation-support" class="toc-link node-name--H3 ">3.4. JUnit 4 @Ignore Support</a></li></ul></li><li class="toc-list-item"><a href="#running-tests" class="toc-link node-name--H2 ">4. Running Tests</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-ide" class="toc-link node-name--H3 ">4.1. IDE Support</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-ide-intellij-idea" class="toc-link node-name--H4 ">4.1.1. IntelliJ IDEA</a></li><li class="toc-list-item"><a href="#running-tests-ide-eclipse" class="toc-link node-name--H4 ">4.1.2. Eclipse</a></li><li class="toc-list-item"><a href="#running-tests-ide-netbeans" class="toc-link node-name--H4 ">4.1.3. NetBeans</a></li><li class="toc-list-item"><a href="#running-tests-ide-vscode" class="toc-link node-name--H4 ">4.1.4. Visual Studio Code</a></li><li class="toc-list-item"><a href="#running-tests-ide-other" class="toc-link node-name--H4 ">4.1.5. Other IDEs</a></li></ul></li><li class="toc-list-item"><a href="#running-tests-build" class="toc-link node-name--H3 ">4.2. Build Support</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-build-gradle" class="toc-link node-name--H4 ">4.2.1. Gradle</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-build-gradle-config-params" class="toc-link node-name--H5 ">Configuration Parameters</a></li><li class="toc-list-item"><a href="#running-tests-build-gradle-engines-configure" class="toc-link node-name--H5 ">Configuring Test Engines</a></li><li class="toc-list-item"><a href="#running-tests-build-gradle-logging" class="toc-link node-name--H5 ">Configuring Logging (optional)</a></li></ul></li><li class="toc-list-item"><a href="#running-tests-build-maven" class="toc-link node-name--H4 ">4.2.2. Maven</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-build-maven-engines-configure" class="toc-link node-name--H5 ">Configuring Test Engines</a></li><li class="toc-list-item"><a href="#running-tests-build-maven-filter-test-class-names" class="toc-link node-name--H5 ">Filtering by Test Class Names</a></li><li class="toc-list-item"><a href="#running-tests-build-maven-filter-tags" class="toc-link node-name--H5 ">Filtering by Tags</a></li><li class="toc-list-item"><a href="#running-tests-build-maven-config-params" class="toc-link node-name--H5 ">Configuration Parameters</a></li></ul></li><li class="toc-list-item"><a href="#running-tests-build-ant" class="toc-link node-name--H4 ">4.2.3. Ant</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#basic-usage" class="toc-link node-name--H5 ">Basic Usage</a></li></ul></li></ul></li><li class="toc-list-item"><a href="#running-tests-console-launcher" class="toc-link node-name--H3 ">4.3. Console Launcher</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-console-launcher-options" class="toc-link node-name--H4 ">4.3.1. Options</a></li><li class="toc-list-item"><a href="#running-tests-console-launcher-argument-files" class="toc-link node-name--H4 ">4.3.2. Argument Files (@-files)</a></li></ul></li><li class="toc-list-item"><a href="#running-tests-junit-platform-runner" class="toc-link node-name--H3 ">4.4. Using JUnit 4 to run the JUnit Platform</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#running-tests-junit-platform-runner-setup" class="toc-link node-name--H4 ">4.4.1. Setup</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#explicit-dependencies" class="toc-link node-name--H5 ">Explicit Dependencies</a></li><li class="toc-list-item"><a href="#transitive-dependencies" class="toc-link node-name--H5 ">Transitive Dependencies</a></li></ul></li><li class="toc-list-item"><a href="#running-tests-junit-platform-runner-technical-names" class="toc-link node-name--H4 ">4.4.2. Display Names vs. Technical Names</a></li><li class="toc-list-item"><a href="#running-tests-junit-platform-runner-single-test" class="toc-link node-name--H4 ">4.4.3. Single Test Class</a></li><li class="toc-list-item"><a href="#running-tests-junit-platform-runner-test-suite" class="toc-link node-name--H4 ">4.4.4. Test Suite</a></li></ul></li><li class="toc-list-item"><a href="#running-tests-config-params" class="toc-link node-name--H3 ">4.5. Configuration Parameters</a></li><li class="toc-list-item"><a href="#running-tests-tag-expressions" class="toc-link node-name--H3 ">4.6. Tag Expressions</a></li><li class="toc-list-item"><a href="#running-tests-capturing-output" class="toc-link node-name--H3 ">4.7. Capturing Standard Output/Error</a></li></ul></li><li class="toc-list-item"><a href="#extensions" class="toc-link node-name--H2 ">5. Extension Model</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-overview" class="toc-link node-name--H3 ">5.1. Overview</a></li><li class="toc-list-item"><a href="#extensions-registration" class="toc-link node-name--H3 ">5.2. Registering Extensions</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-registration-declarative" class="toc-link node-name--H4 ">5.2.1. Declarative Extension Registration</a></li><li class="toc-list-item"><a href="#extensions-registration-programmatic" class="toc-link node-name--H4 ">5.2.2. Programmatic Extension Registration</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-registration-programmatic-static-fields" class="toc-link node-name--H5 ">Static Fields</a></li><li class="toc-list-item"><a href="#extensions-registration-programmatic-static-fields-kotlin" class="toc-link node-name--H5 ">Static Fields in Kotlin</a></li><li class="toc-list-item"><a href="#extensions-registration-programmatic-instance-fields" class="toc-link node-name--H5 ">Instance Fields</a></li></ul></li><li class="toc-list-item"><a href="#extensions-registration-automatic" class="toc-link node-name--H4 ">5.2.3. Automatic Extension Registration</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-registration-automatic-enabling" class="toc-link node-name--H5 ">Enabling Automatic Extension Detection</a></li></ul></li><li class="toc-list-item"><a href="#extensions-registration-inheritance" class="toc-link node-name--H4 ">5.2.4. Extension Inheritance</a></li></ul></li><li class="toc-list-item"><a href="#extensions-conditions" class="toc-link node-name--H3 ">5.3. Conditional Test Execution</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-conditions-deactivation" class="toc-link node-name--H4 ">5.3.1. Deactivating Conditions</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-conditions-deactivation-patterns" class="toc-link node-name--H5 ">Pattern Matching Syntax</a></li></ul></li></ul></li><li class="toc-list-item"><a href="#extensions-test-instance-factories" class="toc-link node-name--H3 ">5.4. Test Instance Factories</a></li><li class="toc-list-item"><a href="#extensions-test-instance-post-processing" class="toc-link node-name--H3 ">5.5. Test Instance Post-processing</a></li><li class="toc-list-item"><a href="#extensions-test-instance-pre-destroy-callback" class="toc-link node-name--H3 ">5.6. Test Instance Pre-destroy Callback</a></li><li class="toc-list-item"><a href="#extensions-parameter-resolution" class="toc-link node-name--H3 ">5.7. Parameter Resolution</a></li><li class="toc-list-item"><a href="#extensions-test-result-processing" class="toc-link node-name--H3 ">5.8. Test Result Processing</a></li><li class="toc-list-item"><a href="#extensions-lifecycle-callbacks" class="toc-link node-name--H3 ">5.9. Test Lifecycle Callbacks</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-lifecycle-callbacks-before-after-execution" class="toc-link node-name--H4 ">5.9.1. Before and After Test Execution Callbacks</a></li></ul></li><li class="toc-list-item"><a href="#extensions-exception-handling" class="toc-link node-name--H3 ">5.10. Exception Handling</a></li><li class="toc-list-item"><a href="#extensions-intercepting-invocations" class="toc-link node-name--H3 ">5.11. Intercepting Invocations</a></li><li class="toc-list-item"><a href="#extensions-test-templates" class="toc-link node-name--H3 ">5.12. Providing Invocation Contexts for Test Templates</a></li><li class="toc-list-item"><a href="#extensions-keeping-state" class="toc-link node-name--H3 ">5.13. Keeping State in Extensions</a></li><li class="toc-list-item"><a href="#extensions-supported-utilities" class="toc-link node-name--H3 ">5.14. Supported Utilities in Extensions</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-supported-utilities-annotations" class="toc-link node-name--H4 ">5.14.1. Annotation Support</a></li><li class="toc-list-item"><a href="#extensions-supported-utilities-classes" class="toc-link node-name--H4 ">5.14.2. Class Support</a></li><li class="toc-list-item"><a href="#extensions-supported-utilities-reflection" class="toc-link node-name--H4 ">5.14.3. Reflection Support</a></li><li class="toc-list-item"><a href="#extensions-supported-utilities-modifier" class="toc-link node-name--H4 ">5.14.4. Modifier Support</a></li></ul></li><li class="toc-list-item"><a href="#extensions-execution-order" class="toc-link node-name--H3 ">5.15. Relative Execution Order of User Code and Extensions</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#extensions-execution-order-overview" class="toc-link node-name--H4 ">5.15.1. User and Extension Code</a></li><li class="toc-list-item"><a href="#extensions-execution-order-wrapping-behavior" class="toc-link node-name--H4 ">5.15.2. Wrapping Behavior of Callbacks</a></li></ul></li></ul></li><li class="toc-list-item"><a href="#advanced-topics" class="toc-link node-name--H2 ">6. Advanced Topics</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#launcher-api" class="toc-link node-name--H3 ">6.1. JUnit Platform Launcher API</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#launcher-api-discovery" class="toc-link node-name--H4 ">6.1.1. Discovering Tests</a></li><li class="toc-list-item"><a href="#launcher-api-execution" class="toc-link node-name--H4 ">6.1.2. Executing Tests</a></li><li class="toc-list-item"><a href="#launcher-api-engines-custom" class="toc-link node-name--H4 ">6.1.3. Plugging in your own Test Engine</a></li><li class="toc-list-item"><a href="#launcher-api-listeners-custom" class="toc-link node-name--H4 ">6.1.4. Plugging in your own Test Execution Listener</a></li><li class="toc-list-item"><a href="#launcher-api-listeners-reporting" class="toc-link node-name--H4 ">6.1.5. JUnit Platform Reporting</a></li><li class="toc-list-item"><a href="#launcher-api-launcher-config" class="toc-link node-name--H4 ">6.1.6. Configuring the Launcher</a></li></ul></li><li class="toc-list-item"><a href="#testkit" class="toc-link node-name--H3 ">6.2. JUnit Platform Test Kit</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#testkit-engine" class="toc-link node-name--H4 ">6.2.1. Engine Test Kit</a></li><li class="toc-list-item"><a href="#testkit-engine-statistics" class="toc-link node-name--H4 ">6.2.2. Asserting Statistics</a></li><li class="toc-list-item"><a href="#testkit-engine-events" class="toc-link node-name--H4 ">6.2.3. Asserting Events</a></li></ul></li></ul></li><li class="toc-list-item"><a href="#api-evolution" class="toc-link node-name--H2 ">7. API Evolution</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#api-evolution-version-and-status" class="toc-link node-name--H3 ">7.1. API Version and Status</a></li><li class="toc-list-item"><a href="#api-evolution-experimental-apis" class="toc-link node-name--H3 ">7.2. Experimental APIs</a></li><li class="toc-list-item"><a href="#api-evolution-deprecated-apis" class="toc-link node-name--H3 ">7.3. Deprecated APIs</a></li><li class="toc-list-item"><a href="#api-evolution-tooling" class="toc-link node-name--H3 ">7.4. @API Tooling Support</a></li></ul></li><li class="toc-list-item"><a href="#contributors" class="toc-link node-name--H2 ">8. Contributors</a></li><li class="toc-list-item"><a href="#release-notes" class="toc-link node-name--H2 ">9. Release Notes</a></li><li class="toc-list-item"><a href="#appendix" class="toc-link node-name--H2 ">10. Appendix</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#dependency-metadata" class="toc-link node-name--H3 ">10.1. Dependency Metadata</a><ul class="toc-list  is-collapsible is-collapsed"><li class="toc-list-item"><a href="#dependency-metadata-junit-platform" class="toc-link node-name--H4 ">10.1.1. JUnit Platform</a></li><li class="toc-list-item"><a href="#dependency-metadata-junit-jupiter" class="toc-link node-name--H4 ">10.1.2. JUnit Jupiter</a></li><li class="toc-list-item"><a href="#dependency-metadata-junit-vintage" class="toc-link node-name--H4 ">10.1.3. JUnit Vintage</a></li><li class="toc-list-item"><a href="#dependency-metadata-junit-bom" class="toc-link node-name--H4 ">10.1.4. Bill of Materials (BOM)</a></li><li class="toc-list-item"><a href="#dependency-metadata-dependencies" class="toc-link node-name--H4 ">10.1.5. Dependencies</a></li></ul></li><li class="toc-list-item"><a href="#dependency-diagram" class="toc-link node-name--H3 ">10.2. Dependency Diagram</a></li></ul></li></ul></div>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of this document is to provide comprehensive reference documentation for
programmers writing tests, extension authors, and engine authors as well as build tool
and IDE vendors.</p>
</div>
<div class="paragraph">
<p>This document is also available as a <a href="https://junit.org/junit5/docs/current/user-guide/index.pdf">PDF download</a>.</p>
</div>
<div class="sect2">
<h3 id="overview-what-is-junit-5"><a class="anchor" href="#overview-what-is-junit-5"></a>1.1. What is JUnit 5?</h3>
<div class="paragraph">
<p>Unlike previous versions of JUnit, JUnit 5 is composed of several different modules from
three different sub-projects.</p>
</div>
<div class="paragraph">
<p><strong>JUnit 5 = <em>JUnit Platform</em> + <em>JUnit Jupiter</em> + <em>JUnit Vintage</em></strong></p>
</div>
<div class="paragraph">
<p>The <strong>JUnit Platform</strong> serves as a foundation for <a href="#launcher-api">launching testing
frameworks</a> on the JVM. It also defines the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/TestEngine.html">TestEngine</a></code> API for developing a testing
framework that runs on the platform. Furthermore, the platform provides a
<a href="#running-tests-console-launcher">Console Launcher</a> to launch the platform from the
command line and a <a href="#running-tests-junit-platform-runner">JUnit 4 based Runner</a> for
running any <code>TestEngine</code> on the platform in a JUnit 4 based environment. First-class
support for the JUnit Platform also exists in popular IDEs (see
<a href="#running-tests-ide-intellij-idea">IntelliJ IDEA</a>, <a href="#running-tests-ide-eclipse">Eclipse</a>,
<a href="#running-tests-ide-netbeans">NetBeans</a>, and <a href="#running-tests-ide-vscode">Visual Studio Code</a>) and build tools (see
<a href="#running-tests-build-gradle">Gradle</a>, <a href="#running-tests-build-maven">Maven</a>, and
<a href="#running-tests-build-ant">Ant</a>).</p>
</div>
<div class="paragraph">
<p><strong>JUnit Jupiter</strong> is the combination of the new <a href="#writing-tests">programming model</a> and
<a href="#extensions">extension model</a> for writing tests and extensions in JUnit 5. The Jupiter
sub-project provides a <code>TestEngine</code> for running Jupiter based tests on the platform.</p>
</div>
<div class="paragraph">
<p><strong>JUnit Vintage</strong> provides a <code>TestEngine</code> for running JUnit 3 and JUnit 4 based tests on
the platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="overview-java-versions"><a class="anchor" href="#overview-java-versions"></a>1.2. Supported Java Versions</h3>
<div class="paragraph">
<p>JUnit 5 requires Java 8 (or higher) at runtime. However, you can still test code that
has been compiled with previous versions of the JDK.</p>
</div>
</div>
<div class="sect2">
<h3 id="overview-getting-help"><a class="anchor" href="#overview-getting-help"></a>1.3. Getting Help</h3>
<div class="paragraph">
<p>Ask JUnit 5 related questions on <a href="https://stackoverflow.com/questions/tagged/junit5">Stack Overflow</a> or chat with us on <a href="https://gitter.im/junit-team/junit5">Gitter</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="overview-getting-started"><a class="anchor" href="#overview-getting-started"></a>1.4. Getting Started</h3>
<div class="sect3">
<h4 id="overview-getting-started-junit-artifacts"><a class="anchor" href="#overview-getting-started-junit-artifacts"></a>1.4.1. Downloading JUnit Artifacts</h4>
<div class="paragraph">
<p>To find out what artifacts are available for download and inclusion in your project, refer
to <a href="#dependency-metadata">Dependency Metadata</a>. To set up dependency management for your build, refer to
<a href="#running-tests-build">Build Support</a> and the <a href="#overview-getting-started-example-projects">Example Projects</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="overview-getting-started-features"><a class="anchor" href="#overview-getting-started-features"></a>1.4.2. JUnit 5 Features</h4>
<div class="paragraph">
<p>To find out what features are available in JUnit 5 and how to use them, read the
corresponding sections of this User Guide, organized by topic.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#writing-tests">Writing Tests in JUnit Jupiter</a></p>
</li>
<li>
<p><a href="#migrating-from-junit4">Migrating from JUnit 4 to JUnit Jupiter</a></p>
</li>
<li>
<p><a href="#running-tests">Running Tests</a></p>
</li>
<li>
<p><a href="#extensions">Extension Model for JUnit Jupiter</a></p>
</li>
<li>
<p>Advanced Topics</p>
<div class="ulist">
<ul>
<li>
<p><a href="#launcher-api">JUnit Platform Launcher API</a></p>
</li>
<li>
<p><a href="#testkit">JUnit Platform Test Kit</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="overview-getting-started-example-projects"><a class="anchor" href="#overview-getting-started-example-projects"></a>1.4.3. Example Projects</h4>
<div class="paragraph">
<p>To see complete, working examples of projects that you can copy and experiment with, the
<a href="https://github.com/junit-team/junit5-samples"><code>junit5-samples</code></a> repository is a good place to start. The
<code>junit5-samples</code> repository hosts a collection of sample projects based on JUnit Jupiter,
JUnit Vintage, and other testing frameworks. You’ll find appropriate build scripts (e.g.,
<code>build.gradle</code>, <code>pom.xml</code>, etc.) in the example projects. The links below highlight some
of the combinations you can choose from.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For Gradle and Java, check out the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-gradle">junit5-jupiter-starter-gradle</a></code> project.</p>
</li>
<li>
<p>For Gradle and Kotlin, check out the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-gradle-kotlin">junit5-jupiter-starter-gradle-kotlin</a></code> project.</p>
</li>
<li>
<p>For Gradle and Groovy, check out the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-gradle-groovy">junit5-jupiter-starter-gradle-groovy</a></code> project.</p>
</li>
<li>
<p>For Maven, check out the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-maven">junit5-jupiter-starter-maven</a></code> project.</p>
</li>
<li>
<p>For Ant, check out the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-ant">junit5-jupiter-starter-ant</a></code> project.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="writing-tests"><a class="anchor" href="#writing-tests"></a>2. Writing Tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following example provides a glimpse at the minimum requirements for writing a test in
JUnit Jupiter. Subsequent sections of this chapter will provide further details on all
available features.</p>
</div>
<div class="listingblock">
<div class="title">A first test case</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;

<span class="keyword">import</span> <span class="include">example.util.Calculator</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="type">class</span> <span class="class">MyFirstJUnitJupiterTests</span> {

    <span class="directive">private</span> <span class="directive">final</span> Calculator calculator = <span class="keyword">new</span> Calculator();

    <span class="annotation">@Test</span>
    <span class="type">void</span> addition() {
        assertEquals(<span class="integer">2</span>, calculator.add(<span class="integer">1</span>, <span class="integer">1</span>));
    }

}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-annotations"><a class="anchor" href="#writing-tests-annotations"></a>2.1. Annotations</h3>
<div class="paragraph">
<p>JUnit Jupiter supports the following annotations for configuring tests and extending the
framework.</p>
</div>
<div class="paragraph">
<p>Unless otherwise stated, all core annotations are located in the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/package-summary.html">org.junit.jupiter.api</a></code> package
in the <code>junit-jupiter-api</code> module.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Annotation</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a method is a test method. Unlike JUnit 4’s <code>@Test</code>
 annotation, this annotation does not declare any attributes, since test
 extensions in JUnit Jupiter operate based on their own dedicated 
annotations. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ParameterizedTest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a method is a <a href="#writing-tests-parameterized-tests">parameterized test</a>. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@RepeatedTest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a method is a test template for a <a href="#writing-tests-repeated-tests">repeated test</a>. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@TestFactory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a method is a test factory for <a href="#writing-tests-dynamic-tests">dynamic tests</a>. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@TestTemplate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that a method is a <a href="#writing-tests-test-templates">template for test cases</a> designed to be invoked multiple times depending on the number of invocation contexts returned by the registered <a href="#extensions-test-templates">providers</a>. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@TestMethodOrder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to configure the <a href="#writing-tests-test-execution-order">test method execution order</a> for the annotated test class; similar to JUnit 4’s <code>@FixMethodOrder</code>. Such annotations are <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@TestInstance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to configure the <a href="#writing-tests-test-instance-lifecycle">test instance lifecycle</a> for the annotated test class. Such annotations are <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@DisplayName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares a custom <a href="#writing-tests-display-names">display name</a> for the test class or test method. Such annotations are not <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@DisplayNameGeneration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declares a custom <a href="#writing-tests-display-name-generator">display name generator</a> for the test class. Such annotations are <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that the annotated method should be executed <em>before</em> <strong>each</strong> <code>@Test</code>, <code>@RepeatedTest</code>, <code>@ParameterizedTest</code>, or <code>@TestFactory</code> method in the current class; analogous to JUnit 4’s <code>@Before</code>. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that the annotated method should be executed <em>after</em> <strong>each</strong> <code>@Test</code>, <code>@RepeatedTest</code>, <code>@ParameterizedTest</code>, or <code>@TestFactory</code> method in the current class; analogous to JUnit 4’s <code>@After</code>. Such methods are <em>inherited</em> unless they are <em>overridden</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that the annotated method should be executed <em>before</em> <strong>all</strong> <code>@Test</code>, <code>@RepeatedTest</code>, <code>@ParameterizedTest</code>, and <code>@TestFactory</code> methods in the current class; analogous to JUnit 4’s <code>@BeforeClass</code>. Such methods are <em>inherited</em> (unless they are <em>hidden</em> or <em>overridden</em>) and must be <code>static</code> (unless the "per-class" <a href="#writing-tests-test-instance-lifecycle">test instance lifecycle</a> is used).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that the annotated method should be executed <em>after</em> <strong>all</strong> <code>@Test</code>, <code>@RepeatedTest</code>, <code>@ParameterizedTest</code>, and <code>@TestFactory</code> methods in the current class; analogous to JUnit 4’s <code>@AfterClass</code>. Such methods are <em>inherited</em> (unless they are <em>hidden</em> or <em>overridden</em>) and must be <code>static</code> (unless the "per-class" <a href="#writing-tests-test-instance-lifecycle">test instance lifecycle</a> is used).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Nested</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Denotes that the annotated class is a non-static <a href="#writing-tests-nested">nested test class</a>. <code>@BeforeAll</code> and <code>@AfterAll</code> methods cannot be used directly in a <code>@Nested</code> test class unless the "per-class" <a href="#writing-tests-test-instance-lifecycle">test instance lifecycle</a> is used. Such annotations are not <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Tag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to declare <a href="#writing-tests-tagging-and-filtering">tags for filtering tests</a>, either at the class or method level; analogous to test groups in TestNG or Categories in JUnit 4. Such annotations are <em>inherited</em> at the class level but not at the method level.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Disabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to <a href="#writing-tests-disabling">disable</a> a test class or test method; analogous to JUnit 4’s <code>@Ignore</code>. Such annotations are not <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used
 to fail a test, test factory, test template, or lifecycle method if its
 execution exceeds a given duration. Such annotations are <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ExtendWith</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to <a href="#extensions-registration-declarative">register extensions declaratively</a>. Such annotations are <em>inherited</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@RegisterExtension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to <a href="#extensions-registration-programmatic">register extensions programmatically</a> via fields. Such fields are <em>inherited</em> unless they are <em>shadowed</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@TempDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to supply a <a href="#writing-tests-built-in-extensions-TempDirectory">temporary directory</a> via field injection or parameter injection in a lifecycle method or test method; located in the <code>org.junit.jupiter.api.io</code> package.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Some annotations may currently be <em>experimental</em>. Consult the table in
<a href="#api-evolution-experimental-apis">Experimental APIs</a> for details.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="writing-tests-meta-annotations"><a class="anchor" href="#writing-tests-meta-annotations"></a>2.1.1. Meta-Annotations and Composed Annotations</h4>
<div class="paragraph">
<p>JUnit Jupiter annotations can be used as <em>meta-annotations</em>. That means that you can
define your own <em>composed annotation</em> that will automatically <em>inherit</em> the semantics of
its meta-annotations.</p>
</div>
<div class="paragraph">
<p>For example, instead of copying and pasting <code>@Tag("fast")</code> throughout your code base (see
<a href="#writing-tests-tagging-and-filtering">Tagging and Filtering</a>), you can create a custom <em>composed annotation</em>
named <code>@Fast</code> as follows. <code>@Fast</code> can then be used as a drop-in replacement for
<code>@Tag("fast")</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.lang.annotation.ElementType</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.Retention</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.RetentionPolicy</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.Target</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Tag</span>;

<span class="annotation">@Target</span>({ <span class="predefined-type">ElementType</span>.TYPE, <span class="predefined-type">ElementType</span>.METHOD })
<span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
<span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">fast</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="annotation">@interface</span> Fast {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following <code>@Test</code> method demonstrates usage of the <code>@Fast</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Fast</span>
<span class="annotation">@Test</span>
<span class="type">void</span> myFastTest() {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can even take that one step further by introducing a custom <code>@FastTest</code> annotation
that can be used as a drop-in replacement for <code>@Tag("fast")</code> <em>and</em> <code>@Test</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.lang.annotation.ElementType</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.Retention</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.RetentionPolicy</span>;
<span class="keyword">import</span> <span class="include">java.lang.annotation.Target</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Tag</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="annotation">@Target</span>(<span class="predefined-type">ElementType</span>.METHOD)
<span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
<span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">fast</span><span class="delimiter">"</span></span>)
<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="annotation">@interface</span> FastTest {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>JUnit automatically recognizes the following as a <code>@Test</code> method that is tagged with
"fast".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FastTest</span>
<span class="type">void</span> myFastTest() {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-classes-and-methods"><a class="anchor" href="#writing-tests-classes-and-methods"></a>2.2. Test Classes and Methods</h3>
<div class="paragraph">
<p><strong>Test Class</strong>: any top-level class, <code>static</code> member class, or <a href="#writing-tests-nested"><code>@Nested</code> class</a> that contains at least one <em>test method</em>.</p>
</div>
<div class="paragraph">
<p>Test classes must not be <code>abstract</code> and must have a single constructor.</p>
</div>
<div class="paragraph">
<p><strong>Test Method</strong>: any instance method that is directly annotated or meta-annotated with
<code>@Test</code>, <code>@RepeatedTest</code>, <code>@ParameterizedTest</code>, <code>@TestFactory</code>, or <code>@TestTemplate</code>.</p>
</div>
<div class="paragraph">
<p><strong>Lifecycle Method</strong>: any method that is directly annotated or meta-annotated with
<code>@BeforeAll</code>, <code>@AfterAll</code>, <code>@BeforeEach</code>, or <code>@AfterEach</code>.</p>
</div>
<div class="paragraph">
<p>Test methods and lifecycle methods may be declared locally within the current test class,
inherited from superclasses, or inherited from interfaces (see
<a href="#writing-tests-test-interfaces-and-default-methods">Test Interfaces and Default Methods</a>). In addition, test methods and
lifecycle methods must not be <code>abstract</code> and must not return a value.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Test classes, test methods, and lifecycle methods are not required to be <code>public</code>,
but they must <em>not</em> be <code>private</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following test class demonstrates the use of <code>@Test</code> methods and all supported
lifecycle methods. For further information on runtime semantics, see
<a href="#writing-tests-test-execution-order">Test Execution Order</a> and
<a href="#extensions-execution-order-wrapping-behavior">Wrapping Behavior of Callbacks</a>.</p>
</div>
<div class="listingblock">
<div class="title">A standard test class</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.fail</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assumptions.assumeTrue</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterAll</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeAll</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Disabled</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="type">class</span> <span class="class">StandardTests</span> {

    <span class="annotation">@BeforeAll</span>
    <span class="directive">static</span> <span class="type">void</span> initAll() {
    }

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> init() {
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> succeedingTest() {
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> failingTest() {
        fail(<span class="string"><span class="delimiter">"</span><span class="content">a failing test</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Disabled</span>(<span class="string"><span class="delimiter">"</span><span class="content">for demonstration purposes</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> skippedTest() {
        <span class="comment">// not executed</span>
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> abortedTest() {
        assumeTrue(<span class="string"><span class="delimiter">"</span><span class="content">abc</span><span class="delimiter">"</span></span>.contains(<span class="string"><span class="delimiter">"</span><span class="content">Z</span><span class="delimiter">"</span></span>));
        fail(<span class="string"><span class="delimiter">"</span><span class="content">test should have been aborted</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterEach</span>
    <span class="type">void</span> tearDown() {
    }

    <span class="annotation">@AfterAll</span>
    <span class="directive">static</span> <span class="type">void</span> tearDownAll() {
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-display-names"><a class="anchor" href="#writing-tests-display-names"></a>2.3. Display Names</h3>
<div class="paragraph">
<p>Test classes and test methods can declare custom display names via <code>@DisplayName</code> — with
spaces, special characters, and even emojis — that will be displayed in test reports and
by test runners and IDEs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayName</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">A special test case</span><span class="delimiter">"</span></span>)
<span class="type">class</span> <span class="class">DisplayNameDemo</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">Custom test name containing spaces</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> testWithDisplayNameContainingSpaces() {
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">╯°□°）╯</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> testWithDisplayNameContainingSpecialCharacters() {
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">😱</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> testWithDisplayNameContainingEmoji() {
    }

}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-display-name-generator"><a class="anchor" href="#writing-tests-display-name-generator"></a>2.3.1. Display Name Generators</h4>
<div class="paragraph">
<p>JUnit Jupiter supports custom display name generators that can be configured via the
<code>@DisplayNameGeneration</code> annotation. Values provided via <code>@DisplayName</code> annotations
always take precedence over display names generated by a <code>DisplayNameGenerator</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.lang.reflect.Method</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayName</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayNameGeneration</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayNameGenerator</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Nested</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.params.ParameterizedTest</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.params.provider.ValueSource</span>;

<span class="type">class</span> <span class="class">DisplayNameGeneratorDemo</span> {

    <span class="annotation">@Nested</span>
    <span class="annotation">@DisplayNameGeneration</span>(DisplayNameGenerator.ReplaceUnderscores.class)
    <span class="type">class</span> <span class="class">A_year_is_not_supported</span> {

        <span class="annotation">@Test</span>
        <span class="type">void</span> if_it_is_zero() {
        }

        <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">A negative value for year is not supported by the leap year computation.</span><span class="delimiter">"</span></span>)
        <span class="annotation">@ParameterizedTest</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">For example, year {0} is not supported.</span><span class="delimiter">"</span></span>)
        <span class="annotation">@ValueSource</span>(ints = { -<span class="integer">1</span>, -<span class="integer">4</span> })
        <span class="type">void</span> if_it_is_negative(<span class="type">int</span> year) {
        }

    }

    <span class="annotation">@Nested</span>
    <span class="annotation">@DisplayNameGeneration</span>(IndicativeSentences.class)
    <span class="type">class</span> <span class="class">A_year_is_a_leap_year</span> {

        <span class="annotation">@Test</span>
        <span class="type">void</span> if_it_is_divisible_by_4_but_not_by_100() {
        }

        <span class="annotation">@ParameterizedTest</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">Year {0} is a leap year.</span><span class="delimiter">"</span></span>)
        <span class="annotation">@ValueSource</span>(ints = { <span class="integer">2016</span>, <span class="integer">2020</span>, <span class="integer">2048</span> })
        <span class="type">void</span> if_it_is_one_of_the_following_years(<span class="type">int</span> year) {
        }

    }

    <span class="directive">static</span> <span class="type">class</span> <span class="class">IndicativeSentences</span> <span class="directive">extends</span> DisplayNameGenerator.ReplaceUnderscores {

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="predefined-type">String</span> generateDisplayNameForClass(<span class="predefined-type">Class</span>&lt;?&gt; testClass) {
            <span class="keyword">return</span> <span class="local-variable">super</span>.generateDisplayNameForClass(testClass);
        }

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="predefined-type">String</span> generateDisplayNameForNestedClass(<span class="predefined-type">Class</span>&lt;?&gt; nestedClass) {
            <span class="keyword">return</span> <span class="local-variable">super</span>.generateDisplayNameForNestedClass(nestedClass) + <span class="string"><span class="delimiter">"</span><span class="content">...</span><span class="delimiter">"</span></span>;
        }

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="predefined-type">String</span> generateDisplayNameForMethod(<span class="predefined-type">Class</span>&lt;?&gt; testClass, <span class="predefined-type">Method</span> testMethod) {
            <span class="predefined-type">String</span> name = testClass.getSimpleName() + <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span> + testMethod.getName();
            <span class="keyword">return</span> name.replace(<span class="string"><span class="delimiter">'</span><span class="content">_</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>) + <span class="string"><span class="delimiter">'</span><span class="content">.</span><span class="delimiter">'</span></span>;
        }

    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>+-- DisplayNameGeneratorDemo [OK]
  +-- A year is not supported [OK]
  | +-- A negative value for year is not supported by the leap year computation. [OK]
  | | +-- For example, year -1 is not supported. [OK]
  | | '-- For example, year -4 is not supported. [OK]
  | '-- if it is zero() [OK]
  '-- A year is a leap year... [OK]
    +-- A year is a leap year if it is divisible by 4 but not by 100. [OK]
    '-- A year is a leap year if it is one of the following years. [OK]
      +-- Year 2016 is a leap year. [OK]
      +-- Year 2020 is a leap year. [OK]
      '-- Year 2048 is a leap year. [OK]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-display-name-generator-default"><a class="anchor" href="#writing-tests-display-name-generator-default"></a>2.3.2. Setting the Default Display Name Generator</h4>
<div class="paragraph">
<p>You can use the <code>junit.jupiter.displayname.generator.default</code>
<a href="#running-tests-config-params">configuration parameter</a> to specify the fully qualified
class name of the <code>DisplayNameGenerator</code> you would like to use by default. Just like for
display name generators configured via the <code>@DisplayNameGeneration</code> annotation, the
supplied class has to implement the <code>DisplayNameGenerator</code> interface. The default display
name generator will be used for all tests unless the <code>@DisplayNameGeneration</code> annotation
is present on an enclosing test class or test interface. Values provided via
<code>@DisplayName</code> annotations always take precedence over display names generated by a
<code>DisplayNameGenerator</code>.</p>
</div>
<div class="paragraph">
<p>For example, to use the <code>ReplaceUnderscores</code> display name generator by default, you should
set the configuration parameter to the corresponding fully qualified class name (e.g., in
<code>src/test/resources/junit-platform.properties</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">junit.jupiter.displayname.generator.default = \
    org.junit.jupiter.api.DisplayNameGenerator$ReplaceUnderscores</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, you can specify the fully qualified name of any custom class that implements
<code>DisplayNameGenerator</code>.</p>
</div>
<div class="paragraph">
<p>In summary, the display name for a test class or method is determined according to the
following precedence rules:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>value of the <code>@DisplayName</code> annotation, if present</p>
</li>
<li>
<p>by calling the <code>DisplayNameGenerator</code> specified in the <code>@DisplayNameGeneration</code>
annotation, if present</p>
</li>
<li>
<p>by calling the default <code>DisplayNameGenerator</code> configured via the configuration
parameter, if present</p>
</li>
<li>
<p>by calling <code>org.junit.jupiter.api.DisplayNameGenerator.Standard</code></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-assertions"><a class="anchor" href="#writing-tests-assertions"></a>2.4. Assertions</h3>
<div class="paragraph">
<p>JUnit Jupiter comes with many of the assertion methods that JUnit 4 has and adds a few
that lend themselves well to being used with Java 8 lambdas. All JUnit Jupiter assertions
are <code>static</code> methods in the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html">org.junit.jupiter.api.Assertions</a></code> class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">java.time.Duration.ofMillis</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">java.time.Duration.ofMinutes</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertAll</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertNotNull</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertThrows</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTimeout</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTimeoutPreemptively</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>;

<span class="keyword">import</span> <span class="include">java.util.com.example.project.concurrent.CountDownLatch</span>;

<span class="keyword">import</span> <span class="include">example.domain.Person</span>;
<span class="keyword">import</span> <span class="include">example.util.Calculator</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="type">class</span> <span class="class">AssertionsDemo</span> {

    <span class="directive">private</span> <span class="directive">final</span> Calculator calculator = <span class="keyword">new</span> Calculator();

    <span class="directive">private</span> <span class="directive">final</span> Person person = <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">"</span><span class="content">Jane</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>);

    <span class="annotation">@Test</span>
    <span class="type">void</span> standardAssertions() {
        assertEquals(<span class="integer">2</span>, calculator.add(<span class="integer">1</span>, <span class="integer">1</span>));
        assertEquals(<span class="integer">4</span>, calculator.multiply(<span class="integer">2</span>, <span class="integer">2</span>),
                <span class="string"><span class="delimiter">"</span><span class="content">The optional failure message is now the last parameter</span><span class="delimiter">"</span></span>);
        assertTrue(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span> &lt; <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>, () -&gt; <span class="string"><span class="delimiter">"</span><span class="content">Assertion messages can be lazily evaluated -- </span><span class="delimiter">"</span></span>
                + <span class="string"><span class="delimiter">"</span><span class="content">to avoid constructing complex messages unnecessarily.</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> groupedAssertions() {
        <span class="comment">// In a grouped assertion all assertions are executed, and all</span>
        <span class="comment">// failures will be reported together.</span>
        assertAll(<span class="string"><span class="delimiter">"</span><span class="content">person</span><span class="delimiter">"</span></span>,
            () -&gt; assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Jane</span><span class="delimiter">"</span></span>, person.getFirstName()),
            () -&gt; assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>, person.getLastName())
        );
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> dependentAssertions() {
        <span class="comment">// Within a code block, if an assertion fails the</span>
        <span class="comment">// subsequent code in the same block will be skipped.</span>
        assertAll(<span class="string"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>,
            () -&gt; {
                <span class="predefined-type">String</span> firstName = person.getFirstName();
                assertNotNull(firstName);

                <span class="comment">// Executed only if the previous assertion is valid.</span>
                assertAll(<span class="string"><span class="delimiter">"</span><span class="content">first name</span><span class="delimiter">"</span></span>,
                    () -&gt; assertTrue(firstName.startsWith(<span class="string"><span class="delimiter">"</span><span class="content">J</span><span class="delimiter">"</span></span>)),
                    () -&gt; assertTrue(firstName.endsWith(<span class="string"><span class="delimiter">"</span><span class="content">e</span><span class="delimiter">"</span></span>))
                );
            },
            () -&gt; {
                <span class="comment">// Grouped assertion, so processed independently</span>
                <span class="comment">// of results of first name assertions.</span>
                <span class="predefined-type">String</span> lastName = person.getLastName();
                assertNotNull(lastName);

                <span class="comment">// Executed only if the previous assertion is valid.</span>
                assertAll(<span class="string"><span class="delimiter">"</span><span class="content">last name</span><span class="delimiter">"</span></span>,
                    () -&gt; assertTrue(lastName.startsWith(<span class="string"><span class="delimiter">"</span><span class="content">D</span><span class="delimiter">"</span></span>)),
                    () -&gt; assertTrue(lastName.endsWith(<span class="string"><span class="delimiter">"</span><span class="content">e</span><span class="delimiter">"</span></span>))
                );
            }
        );
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> exceptionTesting() {
        <span class="exception">Exception</span> exception = assertThrows(<span class="exception">ArithmeticException</span>.class, () -&gt;
            calculator.divide(<span class="integer">1</span>, <span class="integer">0</span>));
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">/ by zero</span><span class="delimiter">"</span></span>, exception.getMessage());
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> timeoutNotExceeded() {
        <span class="comment">// The following assertion succeeds.</span>
        assertTimeout(ofMinutes(<span class="integer">2</span>), () -&gt; {
            <span class="comment">// Perform task that takes less than 2 minutes.</span>
        });
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> timeoutNotExceededWithResult() {
        <span class="comment">// The following assertion succeeds, and returns the supplied object.</span>
        <span class="predefined-type">String</span> actualResult = assertTimeout(ofMinutes(<span class="integer">2</span>), () -&gt; {
            <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">a result</span><span class="delimiter">"</span></span>;
        });
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">a result</span><span class="delimiter">"</span></span>, actualResult);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> timeoutNotExceededWithMethod() {
        <span class="comment">// The following assertion invokes a method reference and returns an object.</span>
        <span class="predefined-type">String</span> actualGreeting = assertTimeout(ofMinutes(<span class="integer">2</span>), AssertionsDemo::greeting);
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Hello, World!</span><span class="delimiter">"</span></span>, actualGreeting);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> timeoutExceeded() {
        <span class="comment">// The following assertion fails with an error message similar to:</span>
        <span class="comment">// execution exceeded timeout of 10 ms by 91 ms</span>
        assertTimeout(ofMillis(<span class="integer">10</span>), () -&gt; {
            <span class="comment">// Simulate task that takes more than 10 ms.</span>
            <span class="predefined-type">Thread</span>.sleep(<span class="integer">100</span>);
        });
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> timeoutExceededWithPreemptiveTermination() {
        <span class="comment">// The following assertion fails with an error message similar to:</span>
        <span class="comment">// execution timed out after 10 ms</span>
        assertTimeoutPreemptively(ofMillis(<span class="integer">10</span>), () -&gt; {
            <span class="comment">// Simulate task that takes more than 10 ms.</span>
            <span class="keyword">new</span> <span class="predefined-type">CountDownLatch</span>(<span class="integer">1</span>).await();
        });
    }

    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> greeting() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">Hello, World!</span><span class="delimiter">"</span></span>;
    }

}</code></pre>
</div>
</div>
<div id="writing-tests-assertions-preemptive-timeouts" class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Preemptive Timeouts with <code>assertTimeoutPreemptively()</code></div>
<div class="paragraph">
<p>Contrary to <a href="#writing-tests-declarative-timeouts">declarative timeouts</a>, the various
<code>assertTimeoutPreemptively()</code> methods in the <code>Assertions</code> class execute the provided
<code>executable</code> or <code>supplier</code> in a different thread than that of the calling code. This
behavior can lead to undesirable side effects if the code that is executed within the
<code>executable</code> or <code>supplier</code> relies on <code>java.lang.ThreadLocal</code> storage.</p>
</div>
<div class="paragraph">
<p>One common example of this is the transactional testing support in the Spring Framework.
Specifically, Spring’s testing support binds transaction state to the current thread (via
a <code>ThreadLocal</code>) before a test method is invoked. Consequently, if an <code>executable</code> or
<code>supplier</code> provided to <code>assertTimeoutPreemptively()</code> invokes Spring-managed components
that participate in transactions, any actions taken by those components will not be rolled
back with the test-managed transaction. On the contrary, such actions will be committed to
the persistent store (e.g., relational database) even though the test-managed transaction
is rolled back.</p>
</div>
<div class="paragraph">
<p>Similar side effects may be encountered with other frameworks that rely on
<code>ThreadLocal</code> storage.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="writing-tests-assertions-kotlin"><a class="anchor" href="#writing-tests-assertions-kotlin"></a>2.4.1. Kotlin Assertion Support</h4>
<div class="paragraph">
<p>JUnit Jupiter also comes with a few assertion methods that lend themselves well to being
used in <a href="https://kotlinlang.org/">Kotlin</a>. All JUnit Jupiter Kotlin assertions are top-level
functions in the <code>org.junit.jupiter.api</code> package.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">example.domain.Person</span>
<span class="keyword">import</span> <span class="include">example.util.Calculator</span>
<span class="keyword">import</span> <span class="include">java.time.Duration</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.assertAll</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.assertDoesNotThrow</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.assertThrows</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.assertTimeout</span>
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.assertTimeoutPreemptively</span>

<span class="type">class</span> <span class="class">KotlinAssertionsDemo</span> {

    <span class="directive">private</span> val person = Person(<span class="string"><span class="delimiter">"</span><span class="content">Jane</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>)
    <span class="directive">private</span> val people = setOf(person, Person(<span class="string"><span class="delimiter">"</span><span class="content">John</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>))

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>exception absence testing<span class="error">`</span>() {
        val calculator = Calculator()
        val result = assertDoesNotThrow(<span class="string"><span class="delimiter">"</span><span class="content">Should not throw an exception</span><span class="delimiter">"</span></span>) {
            calculator.divide(<span class="integer">0</span>, <span class="integer">1</span>)
        }
        assertEquals(<span class="integer">0</span>, result)
    }

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>expected exception testing<span class="error">`</span>() {
        val calculator = Calculator()
        val exception = assertThrows&lt;<span class="exception">ArithmeticException</span>&gt; (<span class="string"><span class="delimiter">"</span><span class="content">Should throw an exception</span><span class="delimiter">"</span></span>) {
            calculator.divide(<span class="integer">1</span>, <span class="integer">0</span>)
        }
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">/ by zero</span><span class="delimiter">"</span></span>, exception.message)
    }

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>grouped assertions<span class="error">`</span>() {
        assertAll(<span class="string"><span class="delimiter">"</span><span class="content">Person properties</span><span class="delimiter">"</span></span>,
            { assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Jane</span><span class="delimiter">"</span></span>, person.firstName) },
            { assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>, person.lastName) }
        )
    }

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>grouped assertions from a stream<span class="error">`</span>() {
        assertAll(<span class="string"><span class="delimiter">"</span><span class="content">People with first name starting with J</span><span class="delimiter">"</span></span>,
            people
                .stream()
                .map {
                    <span class="comment">// This mapping returns Stream&lt;() -&gt; Unit&gt;</span>
                    { assertTrue(<span class="local-variable">it</span>.firstName.startsWith(<span class="string"><span class="delimiter">"</span><span class="content">J</span><span class="delimiter">"</span></span>)) }
                }
        )
    }

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>grouped assertions from a collection<span class="error">`</span>() {
        assertAll(<span class="string"><span class="delimiter">"</span><span class="content">People with last name of Doe</span><span class="delimiter">"</span></span>,
            people.map { { assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>, <span class="local-variable">it</span>.lastName) } }
        )
    }

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>timeout not exceeded testing<span class="error">`</span>() {
        val fibonacciCalculator = FibonacciCalculator()
        val result = assertTimeout(<span class="predefined-type">Duration</span>.ofMillis(<span class="integer">1000</span>)) {
            fibonacciCalculator.fib(<span class="integer">14</span>)
        }
        assertEquals(<span class="integer">377</span>, result)
    }

    <span class="annotation">@Test</span>
    fun <span class="error">`</span>timeout exceeded with preemptive termination<span class="error">`</span>() {
        <span class="comment">// The following assertion fails with an error message similar to:</span>
        <span class="comment">// execution timed out after 10 ms</span>
        assertTimeoutPreemptively(<span class="predefined-type">Duration</span>.ofMillis(<span class="integer">10</span>)) {
            <span class="comment">// Simulate task that takes more than 10 ms.</span>
            <span class="predefined-type">Thread</span>.sleep(<span class="integer">100</span>)
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-assertions-third-party"><a class="anchor" href="#writing-tests-assertions-third-party"></a>2.4.2. Third-party Assertion Libraries</h4>
<div class="paragraph">
<p>Even though the assertion facilities provided by JUnit Jupiter are sufficient for many
testing scenarios, there are times when more power and additional functionality such as
<em>matchers</em> are desired or required. In such cases, the JUnit team recommends the use of
third-party assertion libraries such as <a href="https://joel-costigliola.github.io/assertj/">AssertJ</a>, <a href="https://hamcrest.org/JavaHamcrest/">Hamcrest</a>, <a href="https://truth.dev/">Truth</a>, etc. Developers
are therefore free to use the assertion library of their choice.</p>
</div>
<div class="paragraph">
<p>For example, the combination of <em>matchers</em> and a fluent API can be used to make
assertions more descriptive and readable. However, JUnit Jupiter’s <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html">org.junit.jupiter.api.Assertions</a></code> class
does not provide an
<a href="https://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat"><code>assertThat()</code></a>
method like the one found in JUnit 4’s <code>org.junit.Assert</code> class which accepts a Hamcrest
<a href="https://junit.org/junit4/javadoc/latest/org/hamcrest/Matcher.html"><code>Matcher</code></a>. Instead,
developers are encouraged to use the built-in support for matchers provided by third-party
assertion libraries.</p>
</div>
<div class="paragraph">
<p>The following example demonstrates how to use the <code>assertThat()</code> support from Hamcrest in
a JUnit Jupiter test. As long as the Hamcrest library has been added to the classpath,
you can statically import methods such as <code>assertThat()</code>, <code>is()</code>, and <code>equalTo()</code> and
then use them in tests like in the <code>assertWithHamcrestMatcher()</code> method below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.hamcrest.CoreMatchers.equalTo</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.hamcrest.CoreMatchers.is</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.hamcrest.MatcherAssert.assertThat</span>;

<span class="keyword">import</span> <span class="include">example.util.Calculator</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="type">class</span> <span class="class">HamcrestAssertionsDemo</span> {

    <span class="directive">private</span> <span class="directive">final</span> Calculator calculator = <span class="keyword">new</span> Calculator();

    <span class="annotation">@Test</span>
    <span class="type">void</span> assertWithHamcrestMatcher() {
        assertThat(calculator.subtract(<span class="integer">4</span>, <span class="integer">1</span>), is(equalTo(<span class="integer">3</span>)));
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Naturally, legacy tests based on the JUnit 4 programming model can continue using
<code>org.junit.Assert#assertThat</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-assumptions"><a class="anchor" href="#writing-tests-assumptions"></a>2.5. Assumptions</h3>
<div class="paragraph">
<p>JUnit Jupiter comes with a subset of the assumption methods that JUnit 4 provides and
adds a few that lend themselves well to being used with Java 8 lambda expressions and
method references. All JUnit Jupiter assumptions are static methods in the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assumptions.html">org.junit.jupiter.api.Assumptions</a></code> class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assumptions.assumeTrue</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assumptions.assumingThat</span>;

<span class="keyword">import</span> <span class="include">example.util.Calculator</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="type">class</span> <span class="class">AssumptionsDemo</span> {

    <span class="directive">private</span> <span class="directive">final</span> Calculator calculator = <span class="keyword">new</span> Calculator();

    <span class="annotation">@Test</span>
    <span class="type">void</span> testOnlyOnCiServer() {
        assumeTrue(<span class="string"><span class="delimiter">"</span><span class="content">CI</span><span class="delimiter">"</span></span>.equals(<span class="predefined-type">System</span>.getenv(<span class="string"><span class="delimiter">"</span><span class="content">ENV</span><span class="delimiter">"</span></span>)));
        <span class="comment">// remainder of test</span>
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> testOnlyOnDeveloperWorkstation() {
        assumeTrue(<span class="string"><span class="delimiter">"</span><span class="content">DEV</span><span class="delimiter">"</span></span>.equals(<span class="predefined-type">System</span>.getenv(<span class="string"><span class="delimiter">"</span><span class="content">ENV</span><span class="delimiter">"</span></span>)),
            () -&gt; <span class="string"><span class="delimiter">"</span><span class="content">Aborting test: not on developer workstation</span><span class="delimiter">"</span></span>);
        <span class="comment">// remainder of test</span>
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> testInAllEnvironments() {
        assumingThat(<span class="string"><span class="delimiter">"</span><span class="content">CI</span><span class="delimiter">"</span></span>.equals(<span class="predefined-type">System</span>.getenv(<span class="string"><span class="delimiter">"</span><span class="content">ENV</span><span class="delimiter">"</span></span>)),
            () -&gt; {
                <span class="comment">// perform these assertions only on the CI server</span>
                assertEquals(<span class="integer">2</span>, calculator.divide(<span class="integer">4</span>, <span class="integer">2</span>));
            });

        <span class="comment">// perform these assertions in all environments</span>
        assertEquals(<span class="integer">42</span>, calculator.multiply(<span class="integer">6</span>, <span class="integer">7</span>));
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As of JUnit Jupiter 5.4, it is also possible to use methods from JUnit 4’s
<code>org.junit.Assume</code> class for assumptions. Specifically, JUnit Jupiter supports JUnit 4’s
<code>AssumptionViolatedException</code> to signal that a test should be aborted instead of marked
as a failure.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-disabling"><a class="anchor" href="#writing-tests-disabling"></a>2.6. Disabling Tests</h3>
<div class="paragraph">
<p>Entire test classes or individual test methods may be <em>disabled</em> via the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html">@Disabled</a></code>
annotation, via one of the annotations discussed in
<a href="#writing-tests-conditional-execution">Conditional Test Execution</a>, or via a custom <a href="#extensions-conditions"><code>ExecutionCondition</code></a>.</p>
</div>
<div class="paragraph">
<p>Here’s a <code>@Disabled</code> test class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Disabled</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="annotation">@Disabled</span>(<span class="string"><span class="delimiter">"</span><span class="content">Disabled until bug #99 has been fixed</span><span class="delimiter">"</span></span>)
<span class="type">class</span> <span class="class">DisabledClassDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> testWillBeSkipped() {
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And here’s a test class that contains a <code>@Disabled</code> test method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Disabled</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="type">class</span> <span class="class">DisabledTestsDemo</span> {

    <span class="annotation">@Disabled</span>(<span class="string"><span class="delimiter">"</span><span class="content">Disabled until bug #42 has been resolved</span><span class="delimiter">"</span></span>)
    <span class="annotation">@Test</span>
    <span class="type">void</span> testWillBeSkipped() {
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> testWillBeExecuted() {
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>@Disabled</code> may be declared without providing a <em>reason</em>; however, the JUnit team
recommends that developers provide a short explanation for why a test class or test
method has been disabled. Consequently, the above examples both show the use of a reason — for example, <code>@Disabled("Disabled until bug #42 has been resolved")</code>. Some development
teams even require the presence of issue tracking numbers in the <em>reason</em> for automated
traceability, etc.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-conditional-execution"><a class="anchor" href="#writing-tests-conditional-execution"></a>2.7. Conditional Test Execution</h3>
<div class="paragraph">
<p>The <a href="#extensions-conditions"><code>ExecutionCondition</code></a> extension API in JUnit Jupiter allows
developers to either <em>enable</em> or <em>disable</em> a container or test based on certain
conditions <em>programmatically</em>. The simplest example of such a condition is the built-in
<code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/DisabledCondition.java">DisabledCondition</a></code> which supports the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html">@Disabled</a></code> annotation (see
<a href="#writing-tests-disabling">Disabling Tests</a>). In addition to <code>@Disabled</code>, JUnit Jupiter also supports
several other annotation-based conditions in the <code>org.junit.jupiter.api.condition</code>
package that allow developers to enable or disable containers and tests <em>declaratively</em>.
When multiple <code>ExecutionCondition</code> extensions are registered, a container or test is
disabled as soon as one of the conditions returns <em>disabled</em>.</p>
</div>
<div class="paragraph">
<p>See <a href="#extensions-conditions"><code>ExecutionCondition</code></a> and the following sections for
details.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Composed Annotations</div>
<div class="paragraph">
<p>Note that any of the <em>conditional</em> annotations listed in the following sections may also
be used as a meta-annotation in order to create a custom <em>composed annotation</em>. For
example, the <code>@TestOnMac</code> annotation in the
<a href="#writing-tests-conditional-execution-os-demo">@EnabledOnOs demo</a> shows how you can
combine <code>@Test</code> and <code>@EnabledOnOs</code> in a single, reusable annotation.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Unless otherwise stated, each of the <em>conditional</em> annotations listed in the following
sections can only be declared once on a given test interface, test class, or test method.
If a conditional annotation is directly present, indirectly present, or meta-present
multiple times on a given element, only the first such annotation discovered by JUnit will
be used; any additional declarations will be silently ignored. Note, however, that each
conditional annotation may be used in conjunction with other conditional annotations in
the <code>org.junit.jupiter.api.condition</code> package.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="writing-tests-conditional-execution-os"><a class="anchor" href="#writing-tests-conditional-execution-os"></a>2.7.1. Operating System Conditions</h4>
<div class="paragraph">
<p>A container or test may be enabled or disabled on a particular operating system via the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledOnOs.html">@EnabledOnOs</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledOnOs.html">@DisabledOnOs</a></code> annotations.</p>
</div>
<div id="writing-tests-conditional-execution-os-demo" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="annotation">@EnabledOnOs</span>(MAC)
<span class="type">void</span> onlyOnMacOs() {
    <span class="comment">// ...</span>
}

<span class="annotation">@TestOnMac</span>
<span class="type">void</span> testOnMac() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@EnabledOnOs</span>({ LINUX, MAC })
<span class="type">void</span> onLinuxOrMac() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledOnOs</span>(WINDOWS)
<span class="type">void</span> notOnWindows() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Target</span>(<span class="predefined-type">ElementType</span>.METHOD)
<span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
<span class="annotation">@Test</span>
<span class="annotation">@EnabledOnOs</span>(MAC)
<span class="annotation">@interface</span> TestOnMac {
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-conditional-execution-jre"><a class="anchor" href="#writing-tests-conditional-execution-jre"></a>2.7.2. Java Runtime Environment Conditions</h4>
<div class="paragraph">
<p>A container or test may be enabled or disabled on particular versions of the Java
Runtime Environment (JRE) via the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledOnJre.html">@EnabledOnJre</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledOnJre.html">@DisabledOnJre</a></code> annotations
or on a particular range of versions of the JRE via the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledForJreRange.html">@EnabledForJreRange</a></code> and
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledForJreRange.html">@DisabledForJreRange</a></code> annotations. The range defaults to <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/JRE.html">JRE</a>.JAVA_8</code> as the lower
border (<code>min</code>) and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/JRE.html">JRE</a>.OTHER</code> as the higher border (<code>max</code>), which allows usage of
half open ranges.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="annotation">@EnabledOnJre</span>(JAVA_8)
<span class="type">void</span> onlyOnJava8() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@EnabledOnJre</span>({ JAVA_9, JAVA_10 })
<span class="type">void</span> onJava9Or10() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@EnabledForJreRange</span>(min = JAVA_9, max = JAVA_11)
<span class="type">void</span> fromJava9to11() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@EnabledForJreRange</span>(min = JAVA_9)
<span class="type">void</span> fromJava9toCurrentJavaFeatureNumber() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@EnabledForJreRange</span>(max = JAVA_11)
<span class="type">void</span> fromJava8To11() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledOnJre</span>(JAVA_9)
<span class="type">void</span> notOnJava9() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledForJreRange</span>(min = JAVA_9, max = JAVA_11)
<span class="type">void</span> notFromJava9to11() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledForJreRange</span>(min = JAVA_9)
<span class="type">void</span> notFromJava9toCurrentJavaFeatureNumber() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledForJreRange</span>(max = JAVA_11)
<span class="type">void</span> notFromJava8to11() {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-conditional-execution-system-properties"><a class="anchor" href="#writing-tests-conditional-execution-system-properties"></a>2.7.3. System Property Conditions</h4>
<div class="paragraph">
<p>A container or test may be enabled or disabled based on the value of the <code>named</code> JVM
system property via the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledIfSystemProperty.html">@EnabledIfSystemProperty</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledIfSystemProperty.html">@DisabledIfSystemProperty</a></code>
annotations. The value supplied via the <code>matches</code> attribute will be interpreted as a
regular expression.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="annotation">@EnabledIfSystemProperty</span>(named = <span class="string"><span class="delimiter">"</span><span class="content">os.arch</span><span class="delimiter">"</span></span>, matches = <span class="string"><span class="delimiter">"</span><span class="content">.*64.*</span><span class="delimiter">"</span></span>)
<span class="type">void</span> onlyOn64BitArchitectures() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledIfSystemProperty</span>(named = <span class="string"><span class="delimiter">"</span><span class="content">ci-server</span><span class="delimiter">"</span></span>, matches = <span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span>)
<span class="type">void</span> notOnCiServer() {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As of JUnit Jupiter 5.6, <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledIfSystemProperty.html">@EnabledIfSystemProperty</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledIfSystemProperty.html">@DisabledIfSystemProperty</a></code> are
<em>repeatable annotations</em>. Consequently, these annotations may be declared multiple times
on a test interface, test class, or test method. Specifically, these annotations will be
found if they are directly present, indirectly present, or meta-present on a given element.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-conditional-execution-environment-variables"><a class="anchor" href="#writing-tests-conditional-execution-environment-variables"></a>2.7.4. Environment Variable Conditions</h4>
<div class="paragraph">
<p>A container or test may be enabled or disabled based on the value of the <code>named</code>
environment variable from the underlying operating system via the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledIfEnvironmentVariable.html">@EnabledIfEnvironmentVariable</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledIfEnvironmentVariable.html">@DisabledIfEnvironmentVariable</a></code> annotations. The
value supplied via the <code>matches</code> attribute will be interpreted as a regular expression.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="annotation">@EnabledIfEnvironmentVariable</span>(named = <span class="string"><span class="delimiter">"</span><span class="content">ENV</span><span class="delimiter">"</span></span>, matches = <span class="string"><span class="delimiter">"</span><span class="content">staging-server</span><span class="delimiter">"</span></span>)
<span class="type">void</span> onlyOnStagingServer() {
    <span class="comment">// ...</span>
}

<span class="annotation">@Test</span>
<span class="annotation">@DisabledIfEnvironmentVariable</span>(named = <span class="string"><span class="delimiter">"</span><span class="content">ENV</span><span class="delimiter">"</span></span>, matches = <span class="string"><span class="delimiter">"</span><span class="content">.*development.*</span><span class="delimiter">"</span></span>)
<span class="type">void</span> notOnDeveloperWorkstation() {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>As of JUnit Jupiter 5.6, <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/EnabledIfEnvironmentVariable.html">@EnabledIfEnvironmentVariable</a></code> and
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/condition/DisabledIfEnvironmentVariable.html">@DisabledIfEnvironmentVariable</a></code> are <em>repeatable annotations</em>. Consequently, these
annotations may be declared multiple times on a test interface, test class, or test
method. Specifically, these annotations will be found if they are directly present,
indirectly present, or meta-present on a given element.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-tagging-and-filtering"><a class="anchor" href="#writing-tests-tagging-and-filtering"></a>2.8. Tagging and Filtering</h3>
<div class="paragraph">
<p>Test classes and methods can be tagged via the <code>@Tag</code> annotation. Those tags can later be
used to filter <a href="#running-tests">test discovery and execution</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See also: <a href="#running-tests-tag-expressions">Tag Expressions</a>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="syntax-rules-for-tags"><a class="anchor" href="#syntax-rules-for-tags"></a>2.8.1. Syntax Rules for Tags</h4>
<div class="ulist">
<ul>
<li>
<p>A tag must not be <code>null</code> or <em>blank</em>.</p>
</li>
<li>
<p>A <em>trimmed</em> tag must not contain whitespace.</p>
</li>
<li>
<p>A <em>trimmed</em> tag must not contain ISO control characters.</p>
</li>
<li>
<p>A <em>trimmed</em> tag must not contain any of the following <em>reserved characters</em>.</p>
<div class="ulist">
<ul>
<li>
<p><code>,</code>: <em>comma</em></p>
</li>
<li>
<p><code>(</code>: <em>left parenthesis</em></p>
</li>
<li>
<p><code>)</code>: <em>right parenthesis</em></p>
</li>
<li>
<p><code>&amp;</code>: <em>ampersand</em></p>
</li>
<li>
<p><code>|</code>: <em>vertical bar</em></p>
</li>
<li>
<p><code>!</code>: <em>exclamation point</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the above context, "trimmed" means that leading and trailing whitespace
characters have been removed.
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Tag</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">fast</span><span class="delimiter">"</span></span>)
<span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">model</span><span class="delimiter">"</span></span>)
<span class="type">class</span> <span class="class">TaggingDemo</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">taxes</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> testingTaxCalculation() {
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See <a href="#writing-tests-meta-annotations">Meta-Annotations and Composed Annotations</a> for examples demonstrating how to create
custom annotations for tags.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-test-execution-order"><a class="anchor" href="#writing-tests-test-execution-order"></a>2.9. Test Execution Order</h3>
<div class="paragraph">
<p>By default, test methods will be ordered using an algorithm that is deterministic but
intentionally nonobvious. This ensures that subsequent runs of a test suite execute test
methods in the same order, thereby allowing for repeatable builds.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="#writing-tests-classes-and-methods">Test Classes and Methods</a> for a definition of <em>test method</em>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Although true <em>unit tests</em> typically should not rely on the order in which they are
executed, there are times when it is necessary to enforce a specific test method execution
order — for example, when writing <em>integration tests</em> or <em>functional tests</em> where the
sequence of the tests is important, especially in conjunction with
<code>@TestInstance(Lifecycle.PER_CLASS)</code>.</p>
</div>
<div class="paragraph">
<p>To control the order in which test methods are executed, annotate your test class or test
interface with <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestMethodOrder.html">@TestMethodOrder</a></code> and specify the desired <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.html">MethodOrderer</a></code>
implementation. You can implement your own custom <code>MethodOrderer</code> or use one of the
following built-in <code>MethodOrderer</code> implementations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.Alphanumeric.html">Alphanumeric</a></code>: sorts test methods <em>alphanumerically</em> based on their names and formal
parameter lists.</p>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.OrderAnnotation.html">OrderAnnotation</a></code>: sorts test methods <em>numerically</em> based on values specified via the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Order.html">@Order</a></code> annotation.</p>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.Random.html">Random</a></code>: orders test methods <em>pseudo-randomly</em> and supports configuration of a custom
<em>seed</em>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See also: <a href="#extensions-execution-order-wrapping-behavior">Wrapping Behavior of Callbacks</a>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following example demonstrates how to guarantee that test methods are executed in the
order specified via the <code>@Order</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.MethodOrderer.OrderAnnotation</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Order</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestMethodOrder</span>;

<span class="annotation">@TestMethodOrder</span>(OrderAnnotation.class)
<span class="type">class</span> <span class="class">OrderedTestsDemo</span> {

    <span class="annotation">@Test</span>
    <span class="annotation">@Order</span>(<span class="integer">1</span>)
    <span class="type">void</span> nullValues() {
        <span class="comment">// perform assertions against null values</span>
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Order</span>(<span class="integer">2</span>)
    <span class="type">void</span> emptyValues() {
        <span class="comment">// perform assertions against empty values</span>
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Order</span>(<span class="integer">3</span>)
    <span class="type">void</span> validValues() {
        <span class="comment">// perform assertions against valid values</span>
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-test-instance-lifecycle"><a class="anchor" href="#writing-tests-test-instance-lifecycle"></a>2.10. Test Instance Lifecycle</h3>
<div class="paragraph">
<p>In order to allow individual test methods to be executed in isolation and to avoid
unexpected side effects due to mutable test instance state, JUnit creates a new instance
of each test class before executing each <em>test method</em> (see
<a href="#writing-tests-classes-and-methods">Test Classes and Methods</a>). This "per-method" test instance lifecycle is the
default behavior in JUnit Jupiter and is analogous to all previous versions of JUnit.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note that the test class will still be instantiated if a given <em>test method</em>
is <em>disabled</em> via a <a href="#writing-tests-conditional-execution">condition</a> (e.g., <code>@Disabled</code>,
<code>@DisabledOnOs</code>, etc.) even when the "per-method" test instance lifecycle mode is active.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If you would prefer that JUnit Jupiter execute all test methods on the same test
instance, annotate your test class with <code>@TestInstance(Lifecycle.PER_CLASS)</code>. When using
this mode, a new test instance will be created once per test class. Thus, if your test
methods rely on state stored in instance variables, you may need to reset that state in
<code>@BeforeEach</code> or <code>@AfterEach</code> methods.</p>
</div>
<div class="paragraph">
<p>The "per-class" mode has some additional benefits over the default "per-method" mode.
Specifically, with the "per-class" mode it becomes possible to declare <code>@BeforeAll</code> and
<code>@AfterAll</code> on non-static methods as well as on interface <code>default</code> methods. The
"per-class" mode therefore also makes it possible to use <code>@BeforeAll</code> and <code>@AfterAll</code>
methods in <code>@Nested</code> test classes.</p>
</div>
<div class="paragraph">
<p>If you are authoring tests using the Kotlin programming language, you may also find it
easier to implement <code>@BeforeAll</code> and <code>@AfterAll</code> methods by switching to the "per-class"
test instance lifecycle mode.</p>
</div>
<div class="sect3">
<h4 id="writing-tests-test-instance-lifecycle-changing-default"><a class="anchor" href="#writing-tests-test-instance-lifecycle-changing-default"></a>2.10.1. Changing the Default Test Instance Lifecycle</h4>
<div class="paragraph">
<p>If a test class or test interface is not annotated with <code>@TestInstance</code>, JUnit Jupiter
will use a <em>default</em> lifecycle mode. The standard <em>default</em> mode is <code>PER_METHOD</code>;
however, it is possible to change the <em>default</em> for the execution of an entire test plan.
To change the default test instance lifecycle mode, set the
<code>junit.jupiter.testinstance.lifecycle.default</code> <em>configuration parameter</em> to the name of
an enum constant defined in <code>TestInstance.Lifecycle</code>, ignoring case. This can be supplied
as a JVM system property, as a <em>configuration parameter</em> in the
<code>LauncherDiscoveryRequest</code> that is passed to the <code>Launcher</code>, or via the JUnit Platform
configuration file (see <a href="#running-tests-config-params">Configuration Parameters</a> for details).</p>
</div>
<div class="paragraph">
<p>For example, to set the default test instance lifecycle mode to <code>Lifecycle.PER_CLASS</code>,
you can start your JVM with the following system property.</p>
</div>
<div class="paragraph">
<p><code>-Djunit.jupiter.testinstance.lifecycle.default=per_class</code></p>
</div>
<div class="paragraph">
<p>Note, however, that setting the default test instance lifecycle mode via the JUnit
Platform configuration file is a more robust solution since the configuration file can be
checked into a version control system along with your project and can therefore be used
within IDEs and your build software.</p>
</div>
<div class="paragraph">
<p>To set the default test instance lifecycle mode to <code>Lifecycle.PER_CLASS</code> via the JUnit
Platform configuration file, create a file named <code>junit-platform.properties</code> in the root
of the class path (e.g., <code>src/test/resources</code>) with the following content.</p>
</div>
<div class="paragraph">
<p><code>junit.jupiter.testinstance.lifecycle.default = per_class</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Changing the <em>default</em> test instance lifecycle mode can lead to unpredictable
results and fragile builds if not applied consistently. For example, if the build
configures "per-class" semantics as the default but tests in the IDE are executed using
"per-method" semantics, that can make it difficult to debug errors that occur on the
build server. It is therefore recommended to change the default in the JUnit Platform
configuration file instead of via a JVM system property.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-nested"><a class="anchor" href="#writing-tests-nested"></a>2.11. Nested Tests</h3>
<div class="paragraph">
<p><code>@Nested</code> tests give the test writer more capabilities to express the relationship among
several groups of tests. Here’s an elaborate example.</p>
</div>
<div class="listingblock">
<div class="title">Nested test suite for testing a stack</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertFalse</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertThrows</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>;

<span class="keyword">import</span> <span class="include">java.util.EmptyStackException</span>;
<span class="keyword">import</span> <span class="include">java.util.Stack</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayName</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Nested</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">A stack</span><span class="delimiter">"</span></span>)
<span class="type">class</span> <span class="class">TestingAStackDemo</span> {

    <span class="predefined-type">Stack</span>&lt;<span class="predefined-type">Object</span>&gt; stack;

    <span class="annotation">@Test</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">is instantiated with new Stack()</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> isInstantiatedWithNew() {
        <span class="keyword">new</span> <span class="predefined-type">Stack</span>&lt;&gt;();
    }

    <span class="annotation">@Nested</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">when new</span><span class="delimiter">"</span></span>)
    <span class="type">class</span> <span class="class">WhenNew</span> {

        <span class="annotation">@BeforeEach</span>
        <span class="type">void</span> createNewStack() {
            stack = <span class="keyword">new</span> <span class="predefined-type">Stack</span>&lt;&gt;();
        }

        <span class="annotation">@Test</span>
        <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">is empty</span><span class="delimiter">"</span></span>)
        <span class="type">void</span> isEmpty() {
            assertTrue(stack.isEmpty());
        }

        <span class="annotation">@Test</span>
        <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">throws EmptyStackException when popped</span><span class="delimiter">"</span></span>)
        <span class="type">void</span> throwsExceptionWhenPopped() {
            assertThrows(<span class="exception">EmptyStackException</span>.class, stack::pop);
        }

        <span class="annotation">@Test</span>
        <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">throws EmptyStackException when peeked</span><span class="delimiter">"</span></span>)
        <span class="type">void</span> throwsExceptionWhenPeeked() {
            assertThrows(<span class="exception">EmptyStackException</span>.class, stack::peek);
        }

        <span class="annotation">@Nested</span>
        <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">after pushing an element</span><span class="delimiter">"</span></span>)
        <span class="type">class</span> <span class="class">AfterPushing</span> {

            <span class="predefined-type">String</span> anElement = <span class="string"><span class="delimiter">"</span><span class="content">an element</span><span class="delimiter">"</span></span>;

            <span class="annotation">@BeforeEach</span>
            <span class="type">void</span> pushAnElement() {
                stack.push(anElement);
            }

            <span class="annotation">@Test</span>
            <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">it is no longer empty</span><span class="delimiter">"</span></span>)
            <span class="type">void</span> isNotEmpty() {
                assertFalse(stack.isEmpty());
            }

            <span class="annotation">@Test</span>
            <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">returns the element when popped and is empty</span><span class="delimiter">"</span></span>)
            <span class="type">void</span> returnElementWhenPopped() {
                assertEquals(anElement, stack.pop());
                assertTrue(stack.isEmpty());
            }

            <span class="annotation">@Test</span>
            <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">returns the element when peeked but remains not empty</span><span class="delimiter">"</span></span>)
            <span class="type">void</span> returnElementWhenPeeked() {
                assertEquals(anElement, stack.peek());
                assertFalse(stack.isEmpty());
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Only non-static nested classes</em> (i.e. <em>inner classes</em>) can serve as <code>@Nested</code> test
classes. Nesting can be arbitrarily deep, and those inner classes are considered to be
full members of the test class family with one exception: <code>@BeforeAll</code> and <code>@AfterAll</code>
methods do not work <em>by default</em>. The reason is that Java does not allow <code>static</code> members
in inner classes. However, this restriction can be circumvented by annotating a <code>@Nested</code>
test class with <code>@TestInstance(Lifecycle.PER_CLASS)</code> (see
<a href="#writing-tests-test-instance-lifecycle">Test Instance Lifecycle</a>).
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-dependency-injection"><a class="anchor" href="#writing-tests-dependency-injection"></a>2.12. Dependency Injection for Constructors and Methods</h3>
<div class="paragraph">
<p>In all prior JUnit versions, test constructors or methods were not allowed to have
parameters (at least not with the standard <code>Runner</code> implementations). As one of the major
changes in JUnit Jupiter, both test constructors and methods are now permitted to have
parameters. This allows for greater flexibility and enables <em>Dependency Injection</em> for
constructors and methods.</p>
</div>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html">ParameterResolver</a></code> defines the API for test extensions that wish to <em>dynamically</em>
resolve parameters at runtime. If a <em>test class</em> constructor, a <em>test method</em>, or a
<em>lifecycle method</em> (see <a href="#writing-tests-classes-and-methods">Test Classes and Methods</a>) accepts a parameter, the
parameter must be resolved at runtime by a registered <code>ParameterResolver</code>.</p>
</div>
<div class="paragraph">
<p>There are currently three built-in resolvers that are registered automatically.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TestInfoParameterResolver.java">TestInfoParameterResolver</a></code>: if a constructor or method parameter is of type
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html">TestInfo</a></code>, the <code>TestInfoParameterResolver</code> will supply an instance of <code>TestInfo</code>
corresponding to the current container or test as the value for the parameter. The
<code>TestInfo</code> can then be used to retrieve information about the current container or test
such as the display name, the test class, the test method, and associated tags. The
display name is either a technical name, such as the name of the test class or test
method, or a custom name configured via <code>@DisplayName</code>.</p>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html">TestInfo</a></code> acts as a drop-in replacement for the <code>TestName</code> rule from JUnit 4. The
following demonstrates how to have <code>TestInfo</code> injected into a test constructor,
<code>@BeforeEach</code> method, and <code>@Test</code> method.</p>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayName</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Tag</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestInfo</span>;

<span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">TestInfo Demo</span><span class="delimiter">"</span></span>)
<span class="type">class</span> <span class="class">TestInfoDemo</span> {

    TestInfoDemo(TestInfo testInfo) {
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">TestInfo Demo</span><span class="delimiter">"</span></span>, testInfo.getDisplayName());
    }

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> init(TestInfo testInfo) {
        <span class="predefined-type">String</span> displayName = testInfo.getDisplayName();
        assertTrue(displayName.equals(<span class="string"><span class="delimiter">"</span><span class="content">TEST 1</span><span class="delimiter">"</span></span>) || displayName.equals(<span class="string"><span class="delimiter">"</span><span class="content">test2()</span><span class="delimiter">"</span></span>));
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">TEST 1</span><span class="delimiter">"</span></span>)
    <span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">my-tag</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> test1(TestInfo testInfo) {
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">TEST 1</span><span class="delimiter">"</span></span>, testInfo.getDisplayName());
        assertTrue(testInfo.getTags().contains(<span class="string"><span class="delimiter">"</span><span class="content">my-tag</span><span class="delimiter">"</span></span>));
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> test2() {
    }

}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/RepetitionInfoParameterResolver.java">RepetitionInfoParameterResolver</a></code>: if a method parameter in a <code>@RepeatedTest</code>,
<code>@BeforeEach</code>, or <code>@AfterEach</code> method is of type <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/RepetitionInfo.html">RepetitionInfo</a></code>, the
<code>RepetitionInfoParameterResolver</code> will supply an instance of <code>RepetitionInfo</code>.
<code>RepetitionInfo</code> can then be used to retrieve information about the current repetition
and the total number of repetitions for the corresponding <code>@RepeatedTest</code>. Note,
however, that <code>RepetitionInfoParameterResolver</code> is not registered outside the context
of a <code>@RepeatedTest</code>. See <a href="#writing-tests-repeated-tests-examples">Repeated Test Examples</a>.</p>
</li>
<li>
<p><code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TestReporterParameterResolver.java">TestReporterParameterResolver</a></code>: if a constructor or method parameter is of type
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestReporter.html">TestReporter</a></code>, the <code>TestReporterParameterResolver</code> will supply an instance of
<code>TestReporter</code>. The <code>TestReporter</code> can be used to publish additional data about the
current test run. The data can be consumed via the <code>reportingEntryPublished()</code> method in
a <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code>, allowing it to be viewed in IDEs or included in reports.</p>
<div class="paragraph">
<p>In JUnit Jupiter you should use <code>TestReporter</code> where you used to print information to
<code>stdout</code> or <code>stderr</code> in JUnit 4. Using <code>@RunWith(JUnitPlatform.class)</code> will output all
reported entries to <code>stdout</code>. In addition, some IDEs print report entries to <code>stdout</code> or
display them in the user interface for test results.</p>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">TestReporterDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> reportSingleValue(TestReporter testReporter) {
        testReporter.publishEntry(<span class="string"><span class="delimiter">"</span><span class="content">a status message</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> reportKeyValuePair(TestReporter testReporter) {
        testReporter.publishEntry(<span class="string"><span class="delimiter">"</span><span class="content">a key</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">a value</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> reportMultipleKeyValuePairs(TestReporter testReporter) {
        <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; values = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();
        values.put(<span class="string"><span class="delimiter">"</span><span class="content">user name</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">dk38</span><span class="delimiter">"</span></span>);
        values.put(<span class="string"><span class="delimiter">"</span><span class="content">award year</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">1974</span><span class="delimiter">"</span></span>);

        testReporter.publishEntry(values);
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Other parameter resolvers must be explicitly enabled by registering appropriate
<a href="#extensions">extensions</a> via <code>@ExtendWith</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Check out the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-extensions/src/main/java/com/example/random/RandomParametersExtension.java">RandomParametersExtension</a></code> for an example of a custom
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html">ParameterResolver</a></code>. While not intended to be production-ready, it demonstrates the
simplicity and expressiveness of both the extension model and the parameter resolution
process. <code>MyRandomParametersTest</code> demonstrates how to inject random values into <code>@Test</code>
methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExtendWith</span>(RandomParametersExtension.class)
<span class="type">class</span> <span class="class">MyRandomParametersTest</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> injectsInteger(<span class="annotation">@Random</span> <span class="type">int</span> i, <span class="annotation">@Random</span> <span class="type">int</span> j) {
        assertNotEquals(i, j);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> injectsDouble(<span class="annotation">@Random</span> <span class="type">double</span> d) {
        assertEquals(<span class="float">0.0</span>, d, <span class="float">1.0</span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For real-world use cases, check out the source code for the <code><a href="https://github.com/mockito/mockito/blob/release/2.x/subprojects/junit-jupiter/src/main/java/org/mockito/junit/jupiter/MockitoExtension.java">MockitoExtension</a></code> and the
<code><a href="https://github.com/spring-projects/spring-framework/tree/master/spring-test/src/main/java/org/springframework/test/context/junit/jupiter/SpringExtension.java">SpringExtension</a></code>.</p>
</div>
<div class="paragraph">
<p>When the type of the parameter to inject is the only condition for your
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html">ParameterResolver</a></code>, you can use the generic <code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/support/TypeBasedParameterResolver.java">TypeBasedParameterResolver</a></code> base class.
The <code>supportsParameters</code> method is implemented behind the scenes and supports
parameterized types.</p>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-test-interfaces-and-default-methods"><a class="anchor" href="#writing-tests-test-interfaces-and-default-methods"></a>2.13. Test Interfaces and Default Methods</h3>
<div class="paragraph">
<p>JUnit Jupiter allows <code>@Test</code>, <code>@RepeatedTest</code>, <code>@ParameterizedTest</code>, <code>@TestFactory</code>,
<code>@TestTemplate</code>, <code>@BeforeEach</code>, and <code>@AfterEach</code> to be declared on interface <code>default</code>
methods. <code>@BeforeAll</code> and <code>@AfterAll</code> can either be declared on <code>static</code> methods in a
test interface or on interface <code>default</code> methods <em>if</em> the test interface or test class is
annotated with <code>@TestInstance(Lifecycle.PER_CLASS)</code> (see
<a href="#writing-tests-test-instance-lifecycle">Test Instance Lifecycle</a>). Here are some examples.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@TestInstance</span>(Lifecycle.PER_CLASS)
<span class="type">interface</span> <span class="class">TestLifecycleLogger</span> {

    <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Logger</span> logger = <span class="predefined-type">Logger</span>.getLogger(TestLifecycleLogger.class.getName());

    <span class="annotation">@BeforeAll</span>
    <span class="keyword">default</span> <span class="type">void</span> beforeAllTests() {
        logger.info(<span class="string"><span class="delimiter">"</span><span class="content">Before all tests</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterAll</span>
    <span class="keyword">default</span> <span class="type">void</span> afterAllTests() {
        logger.info(<span class="string"><span class="delimiter">"</span><span class="content">After all tests</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@BeforeEach</span>
    <span class="keyword">default</span> <span class="type">void</span> beforeEachTest(TestInfo testInfo) {
        logger.info(() -&gt; <span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">"</span><span class="content">About to execute [%s]</span><span class="delimiter">"</span></span>,
            testInfo.getDisplayName()));
    }

    <span class="annotation">@AfterEach</span>
    <span class="keyword">default</span> <span class="type">void</span> afterEachTest(TestInfo testInfo) {
        logger.info(() -&gt; <span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">"</span><span class="content">Finished executing [%s]</span><span class="delimiter">"</span></span>,
            testInfo.getDisplayName()));
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">interface</span> <span class="class">TestInterfaceDynamicTestsDemo</span> {

    <span class="annotation">@TestFactory</span>
    <span class="keyword">default</span> Stream&lt;DynamicTest&gt; dynamicTestsForPalindromes() {
        <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">racecar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">radar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">mom</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">dad</span><span class="delimiter">"</span></span>)
            .map(text -&gt; dynamicTest(text, () -&gt; assertTrue(isPalindrome(text))));
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>@ExtendWith</code> and <code>@Tag</code> can be declared on a test interface so that classes that
implement the interface automatically inherit its tags and extensions. See
<a href="#extensions-lifecycle-callbacks-before-after-execution">Before and After Test Execution Callbacks</a> for the source code of the
<a href="#extensions-lifecycle-callbacks-timing-extension">TimingExtension</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Tag</span>(<span class="string"><span class="delimiter">"</span><span class="content">timed</span><span class="delimiter">"</span></span>)
<span class="annotation">@ExtendWith</span>(TimingExtension.class)
<span class="type">interface</span> <span class="class">TimeExecutionLogger</span> {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In your test class you can then implement these test interfaces to have them applied.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">TestInterfaceDemo</span> <span class="directive">implements</span> TestLifecycleLogger,
        TimeExecutionLogger, TestInterfaceDynamicTestsDemo {

    <span class="annotation">@Test</span>
    <span class="type">void</span> isEqualValue() {
        assertEquals(<span class="integer">1</span>, <span class="string"><span class="delimiter">"</span><span class="content">a</span><span class="delimiter">"</span></span>.length(), <span class="string"><span class="delimiter">"</span><span class="content">is always equal</span><span class="delimiter">"</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Running the <code>TestInterfaceDemo</code> results in output similar to the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>INFO  example.TestLifecycleLogger - Before all tests
INFO  example.TestLifecycleLogger - About to execute [dynamicTestsForPalindromes()]
INFO  example.TimingExtension - Method [dynamicTestsForPalindromes] took 19 ms.
INFO  example.TestLifecycleLogger - Finished executing [dynamicTestsForPalindromes()]
INFO  example.TestLifecycleLogger - About to execute [isEqualValue()]
INFO  example.TimingExtension - Method [isEqualValue] took 1 ms.
INFO  example.TestLifecycleLogger - Finished executing [isEqualValue()]
INFO  example.TestLifecycleLogger - After all tests</pre>
</div>
</div>
<div class="paragraph">
<p>Another possible application of this feature is to write tests for interface contracts.
For example, you can write tests for how implementations of <code>Object.equals</code> or
<code>Comparable.compareTo</code> should behave as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">Testable</span>&lt;T&gt; {

    T createValue();

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">EqualsContract</span>&lt;T&gt; <span class="directive">extends</span> Testable&lt;T&gt; {

    T createNotEqualValue();

    <span class="annotation">@Test</span>
    <span class="keyword">default</span> <span class="type">void</span> valueEqualsItself() {
        T value = createValue();
        assertEquals(value, value);
    }

    <span class="annotation">@Test</span>
    <span class="keyword">default</span> <span class="type">void</span> valueDoesNotEqualNull() {
        T value = createValue();
        assertFalse(value.equals(<span class="predefined-constant">null</span>));
    }

    <span class="annotation">@Test</span>
    <span class="keyword">default</span> <span class="type">void</span> valueDoesNotEqualDifferentValue() {
        T value = createValue();
        T differentValue = createNotEqualValue();
        assertNotEquals(value, differentValue);
        assertNotEquals(differentValue, value);
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">ComparableContract</span>&lt;T <span class="directive">extends</span> <span class="predefined-type">Comparable</span>&lt;T&gt;&gt; <span class="directive">extends</span> Testable&lt;T&gt; {

    T createSmallerValue();

    <span class="annotation">@Test</span>
    <span class="keyword">default</span> <span class="type">void</span> returnsZeroWhenComparedToItself() {
        T value = createValue();
        assertEquals(<span class="integer">0</span>, value.compareTo(value));
    }

    <span class="annotation">@Test</span>
    <span class="keyword">default</span> <span class="type">void</span> returnsPositiveNumberWhenComparedToSmallerValue() {
        T value = createValue();
        T smallerValue = createSmallerValue();
        assertTrue(value.compareTo(smallerValue) &gt; <span class="integer">0</span>);
    }

    <span class="annotation">@Test</span>
    <span class="keyword">default</span> <span class="type">void</span> returnsNegativeNumberWhenComparedToLargerValue() {
        T value = createValue();
        T smallerValue = createSmallerValue();
        assertTrue(smallerValue.compareTo(value) &lt; <span class="integer">0</span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In your test class you can then implement both contract interfaces thereby inheriting the
corresponding tests. Of course you’ll have to implement the abstract methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">StringTests</span> <span class="directive">implements</span> ComparableContract&lt;<span class="predefined-type">String</span>&gt;, EqualsContract&lt;<span class="predefined-type">String</span>&gt; {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> createValue() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> createSmallerValue() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>; <span class="comment">// 'a' &lt; 'b' in "banana"</span>
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">String</span> createNotEqualValue() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">"</span><span class="content">cherry</span><span class="delimiter">"</span></span>;
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The above tests are merely meant as examples and therefore not complete.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-repeated-tests"><a class="anchor" href="#writing-tests-repeated-tests"></a>2.14. Repeated Tests</h3>
<div class="paragraph">
<p>JUnit Jupiter provides the ability to repeat a test a specified number of times by
annotating a method with <code>@RepeatedTest</code> and specifying the total number of repetitions
desired. Each invocation of a repeated test behaves like the execution of a regular
<code>@Test</code> method with full support for the same lifecycle callbacks and extensions.</p>
</div>
<div class="paragraph">
<p>The following example demonstrates how to declare a test named <code>repeatedTest()</code> that
will be automatically repeated 10 times.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RepeatedTest</span>(<span class="integer">10</span>)
<span class="type">void</span> repeatedTest() {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to specifying the number of repetitions, a custom display name can be
configured for each repetition via the <code>name</code> attribute of the <code>@RepeatedTest</code>
annotation. Furthermore, the display name can be a pattern composed of a combination of
static text and dynamic placeholders. The following placeholders are currently supported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{displayName}</code>: display name of the <code>@RepeatedTest</code> method</p>
</li>
<li>
<p><code>{currentRepetition}</code>: the current repetition count</p>
</li>
<li>
<p><code>{totalRepetitions}</code>: the total number of repetitions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default display name for a given repetition is generated based on the following
pattern: <code>"repetition {currentRepetition} of {totalRepetitions}"</code>. Thus, the display
names for individual repetitions of the previous <code>repeatedTest()</code> example would be:
<code>repetition 1 of 10</code>, <code>repetition 2 of 10</code>, etc. If you would like the display name of
the <code>@RepeatedTest</code> method included in the name of each repetition, you can define your
own custom pattern or use the predefined <code>RepeatedTest.LONG_DISPLAY_NAME</code> pattern. The
latter is equal to <code>"{displayName} :: repetition {currentRepetition} of
{totalRepetitions}"</code> which results in display names for individual repetitions like
<code>repeatedTest() :: repetition 1 of 10</code>, <code>repeatedTest() :: repetition 2 of 10</code>, etc.</p>
</div>
<div class="paragraph">
<p>In order to retrieve information about the current repetition and the total number of
repetitions programmatically, a developer can choose to have an instance of
<code>RepetitionInfo</code> injected into a <code>@RepeatedTest</code>, <code>@BeforeEach</code>, or <code>@AfterEach</code> method.</p>
</div>
<div class="sect3">
<h4 id="writing-tests-repeated-tests-examples"><a class="anchor" href="#writing-tests-repeated-tests-examples"></a>2.14.1. Repeated Test Examples</h4>
<div class="paragraph">
<p>The <code>RepeatedTestsDemo</code> class at the end of this section demonstrates several examples of
repeated tests.</p>
</div>
<div class="paragraph">
<p>The <code>repeatedTest()</code> method is identical to example from the previous section; whereas,
<code>repeatedTestWithRepetitionInfo()</code> demonstrates how to have an instance of
<code>RepetitionInfo</code> injected into a test to access the total number of repetitions for the
current repeated test.</p>
</div>
<div class="paragraph">
<p>The next two methods demonstrate how to include a custom <code>@DisplayName</code> for the
<code>@RepeatedTest</code> method in the display name of each repetition. <code>customDisplayName()</code>
combines a custom display name with a custom pattern and then uses <code>TestInfo</code> to verify
the format of the generated display name. <code>Repeat!</code> is the <code>{displayName}</code> which comes
from the <code>@DisplayName</code> declaration, and <code>1/1</code> comes from
<code>{currentRepetition}/{totalRepetitions}</code>. In contrast,
<code>customDisplayNameWithLongPattern()</code> uses the aforementioned predefined
<code>RepeatedTest.LONG_DISPLAY_NAME</code> pattern.</p>
</div>
<div class="paragraph">
<p><code>repeatedTestInGerman()</code> demonstrates the ability to translate display names of repeated
tests into foreign languages — in this case German, resulting in names for individual
repetitions such as: <code>Wiederholung 1 von 5</code>, <code>Wiederholung 2 von 5</code>, etc.</p>
</div>
<div class="paragraph">
<p>Since the <code>beforeEach()</code> method is annotated with <code>@BeforeEach</code> it will get executed
before each repetition of each repeated test. By having the <code>TestInfo</code> and
<code>RepetitionInfo</code> injected into the method, we see that it’s possible to obtain
information about the currently executing repeated test. Executing <code>RepeatedTestsDemo</code>
with the <code>INFO</code> log level enabled results in the following output.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>INFO: About to execute repetition 1 of 10 for repeatedTest
INFO: About to execute repetition 2 of 10 for repeatedTest
INFO: About to execute repetition 3 of 10 for repeatedTest
INFO: About to execute repetition 4 of 10 for repeatedTest
INFO: About to execute repetition 5 of 10 for repeatedTest
INFO: About to execute repetition 6 of 10 for repeatedTest
INFO: About to execute repetition 7 of 10 for repeatedTest
INFO: About to execute repetition 8 of 10 for repeatedTest
INFO: About to execute repetition 9 of 10 for repeatedTest
INFO: About to execute repetition 10 of 10 for repeatedTest
INFO: About to execute repetition 1 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 2 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 3 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 4 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 5 of 5 for repeatedTestWithRepetitionInfo
INFO: About to execute repetition 1 of 1 for customDisplayName
INFO: About to execute repetition 1 of 1 for customDisplayNameWithLongPattern
INFO: About to execute repetition 1 of 5 for repeatedTestInGerman
INFO: About to execute repetition 2 of 5 for repeatedTestInGerman
INFO: About to execute repetition 3 of 5 for repeatedTestInGerman
INFO: About to execute repetition 4 of 5 for repeatedTestInGerman
INFO: About to execute repetition 5 of 5 for repeatedTestInGerman</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;

<span class="keyword">import</span> <span class="include">java.util.logging.Logger</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DisplayName</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.RepeatedTest</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.RepetitionInfo</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestInfo</span>;

<span class="type">class</span> <span class="class">RepeatedTestsDemo</span> {

    <span class="directive">private</span> <span class="predefined-type">Logger</span> logger = <span class="comment">// ...</span>

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> beforeEach(TestInfo testInfo, RepetitionInfo repetitionInfo) {
        <span class="type">int</span> currentRepetition = repetitionInfo.getCurrentRepetition();
        <span class="type">int</span> totalRepetitions = repetitionInfo.getTotalRepetitions();
        <span class="predefined-type">String</span> methodName = testInfo.getTestMethod().get().getName();
        logger.info(<span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">"</span><span class="content">About to execute repetition %d of %d for %s</span><span class="delimiter">"</span></span>, <span class="comment">//</span>
            currentRepetition, totalRepetitions, methodName));
    }

    <span class="annotation">@RepeatedTest</span>(<span class="integer">10</span>)
    <span class="type">void</span> repeatedTest() {
        <span class="comment">// ...</span>
    }

    <span class="annotation">@RepeatedTest</span>(<span class="integer">5</span>)
    <span class="type">void</span> repeatedTestWithRepetitionInfo(RepetitionInfo repetitionInfo) {
        assertEquals(<span class="integer">5</span>, repetitionInfo.getTotalRepetitions());
    }

    <span class="annotation">@RepeatedTest</span>(value = <span class="integer">1</span>, name = <span class="string"><span class="delimiter">"</span><span class="content">{displayName} {currentRepetition}/{totalRepetitions}</span><span class="delimiter">"</span></span>)
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">Repeat!</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> customDisplayName(TestInfo testInfo) {
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Repeat! 1/1</span><span class="delimiter">"</span></span>, testInfo.getDisplayName());
    }

    <span class="annotation">@RepeatedTest</span>(value = <span class="integer">1</span>, name = RepeatedTest.LONG_DISPLAY_NAME)
    <span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">Details...</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> customDisplayNameWithLongPattern(TestInfo testInfo) {
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Details... :: repetition 1 of 1</span><span class="delimiter">"</span></span>, testInfo.getDisplayName());
    }

    <span class="annotation">@RepeatedTest</span>(value = <span class="integer">5</span>, name = <span class="string"><span class="delimiter">"</span><span class="content">Wiederholung {currentRepetition} von {totalRepetitions}</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> repeatedTestInGerman() {
        <span class="comment">// ...</span>
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using the <code>ConsoleLauncher</code> with the unicode theme enabled, execution of
<code>RepeatedTestsDemo</code> results in the following output to the console.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>├─ RepeatedTestsDemo ✔
│  ├─ repeatedTest() ✔
│  │  ├─ repetition 1 of 10 ✔
│  │  ├─ repetition 2 of 10 ✔
│  │  ├─ repetition 3 of 10 ✔
│  │  ├─ repetition 4 of 10 ✔
│  │  ├─ repetition 5 of 10 ✔
│  │  ├─ repetition 6 of 10 ✔
│  │  ├─ repetition 7 of 10 ✔
│  │  ├─ repetition 8 of 10 ✔
│  │  ├─ repetition 9 of 10 ✔
│  │  └─ repetition 10 of 10 ✔
│  ├─ repeatedTestWithRepetitionInfo(RepetitionInfo) ✔
│  │  ├─ repetition 1 of 5 ✔
│  │  ├─ repetition 2 of 5 ✔
│  │  ├─ repetition 3 of 5 ✔
│  │  ├─ repetition 4 of 5 ✔
│  │  └─ repetition 5 of 5 ✔
│  ├─ Repeat! ✔
│  │  └─ Repeat! 1/1 ✔
│  ├─ Details... ✔
│  │  └─ Details... :: repetition 1 of 1 ✔
│  └─ repeatedTestInGerman() ✔
│     ├─ Wiederholung 1 von 5 ✔
│     ├─ Wiederholung 2 von 5 ✔
│     ├─ Wiederholung 3 von 5 ✔
│     ├─ Wiederholung 4 von 5 ✔
│     └─ Wiederholung 5 von 5 ✔</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-parameterized-tests"><a class="anchor" href="#writing-tests-parameterized-tests"></a>2.15. Parameterized Tests</h3>
<div class="paragraph">
<p>Parameterized tests make it possible to run a test multiple times with different
arguments. They are declared just like regular <code>@Test</code> methods but use the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/ParameterizedTest.html">@ParameterizedTest</a></code> annotation instead. In addition, you must declare at least one
<em>source</em> that will provide the arguments for each invocation and then <em>consume</em> the
arguments in the test method.</p>
</div>
<div class="paragraph">
<p>The following example demonstrates a parameterized test that uses the <code>@ValueSource</code>
annotation to specify a <code>String</code> array as the source of arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(strings = { <span class="string"><span class="delimiter">"</span><span class="content">racecar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">radar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">able was I ere I saw elba</span><span class="delimiter">"</span></span> })
<span class="type">void</span> palindromes(<span class="predefined-type">String</span> candidate) {
    assertTrue(StringUtils.isPalindrome(candidate));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When executing the above parameterized test method, each invocation will be reported
separately. For instance, the <code>ConsoleLauncher</code> will print output similar to the
following.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>palindromes(String) ✔
├─ [1] candidate=racecar ✔
├─ [2] candidate=radar ✔
└─ [3] candidate=able was I ere I saw elba ✔</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Parameterized tests are currently an <em>experimental</em> feature. Consult the table
in <a href="#api-evolution-experimental-apis">Experimental APIs</a> for details.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-setup"><a class="anchor" href="#writing-tests-parameterized-tests-setup"></a>2.15.1. Required Setup</h4>
<div class="paragraph">
<p>In order to use parameterized tests you need to add a dependency on the
<code>junit-jupiter-params</code> artifact. Please refer to <a href="#dependency-metadata">Dependency Metadata</a> for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-consuming-arguments"><a class="anchor" href="#writing-tests-parameterized-tests-consuming-arguments"></a>2.15.2. Consuming Arguments</h4>
<div class="paragraph">
<p>Parameterized test methods typically <em>consume</em> arguments directly from the configured
source (see <a href="#writing-tests-parameterized-tests-sources">Sources of Arguments</a>) following a one-to-one
correlation between argument source index and method parameter index (see examples in
<a href="#writing-tests-parameterized-tests-sources-CsvSource">@CsvSource</a>). However, a parameterized test
method may also choose to <em>aggregate</em> arguments from the source into a single object
passed to the method (see <a href="#writing-tests-parameterized-tests-argument-aggregation">Argument Aggregation</a>).
Additional arguments may also be provided by a <code>ParameterResolver</code> (e.g., to obtain an
instance of <code>TestInfo</code>, <code>TestReporter</code>, etc.). Specifically, a parameterized test method
must declare formal parameters according to the following rules.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Zero or more <em>indexed arguments</em> must be declared first.</p>
</li>
<li>
<p>Zero or more <em>aggregators</em> must be declared next.</p>
</li>
<li>
<p>Zero or more arguments supplied by a <code>ParameterResolver</code> must be declared last.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this context, an <em>indexed argument</em> is an argument for a given index in the
<code>Arguments</code> provided by an <code>ArgumentsProvider</code> that is passed as an argument to the
parameterized method at the same index in the method’s formal parameter list. An
<em>aggregator</em> is any parameter of type <code>ArgumentsAccessor</code> or any parameter annotated with
<code>@AggregateWith</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-sources"><a class="anchor" href="#writing-tests-parameterized-tests-sources"></a>2.15.3. Sources of Arguments</h4>
<div class="paragraph">
<p>Out of the box, JUnit Jupiter provides quite a few <em>source</em> annotations. Each of the
following subsections provides a brief overview and an example for each of them. Please
refer to the Javadoc in the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/package-summary.html">org.junit.jupiter.params.provider</a></code> package for additional
information.</p>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-ValueSource"><a class="anchor" href="#writing-tests-parameterized-tests-sources-ValueSource"></a>@ValueSource</h5>
<div class="paragraph">
<p><code>@ValueSource</code> is one of the simplest possible sources. It lets you specify a single
array of literal values and can only be used for providing a single argument per
parameterized test invocation.</p>
</div>
<div class="paragraph">
<p>The following types of literal values are supported by <code>@ValueSource</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>short</code></p>
</li>
<li>
<p><code>byte</code></p>
</li>
<li>
<p><code>int</code></p>
</li>
<li>
<p><code>long</code></p>
</li>
<li>
<p><code>float</code></p>
</li>
<li>
<p><code>double</code></p>
</li>
<li>
<p><code>char</code></p>
</li>
<li>
<p><code>boolean</code></p>
</li>
<li>
<p><code>java.lang.String</code></p>
</li>
<li>
<p><code>java.lang.Class</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the following <code>@ParameterizedTest</code> method will be invoked three times, with
the values <code>1</code>, <code>2</code>, and <code>3</code> respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(ints = { <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span> })
<span class="type">void</span> testWithValueSource(<span class="type">int</span> argument) {
    assertTrue(argument &gt; <span class="integer">0</span> &amp;&amp; argument &lt; <span class="integer">4</span>);
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-null-and-empty"><a class="anchor" href="#writing-tests-parameterized-tests-sources-null-and-empty"></a>Null and Empty Sources</h5>
<div class="paragraph">
<p>In order to check corner cases and verify proper behavior of our software when it is
supplied <em>bad input</em>, it can be useful to have <code>null</code> and <em>empty</em> values supplied to our
parameterized tests. The following annotations serve as sources of <code>null</code> and empty values
for parameterized tests that accept a single argument.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/NullSource.html">@NullSource</a></code>: provides a single <code>null</code> argument to the annotated <code>@ParameterizedTest</code>
method.</p>
<div class="ulist">
<ul>
<li>
<p><code>@NullSource</code> cannot be used for a parameter that has a primitive type.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/EmptySource.html">@EmptySource</a></code>: provides a single <em>empty</em> argument to the annotated <code>@ParameterizedTest</code>
method for parameters of the following types: <code>java.lang.String</code>, <code>java.util.List</code>,
<code>java.util.Set</code>, <code>java.util.Map</code>, primitive arrays (e.g., <code>int[]</code>, <code>char[][]</code>, etc.),
object arrays (e.g.,<code>String[]</code>, <code>Integer[][]</code>, etc.).</p>
<div class="ulist">
<ul>
<li>
<p>Subtypes of the supported types are not supported.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/NullAndEmptySource.html">@NullAndEmptySource</a></code>: a <em>composed annotation</em> that combines the functionality of
<code>@NullSource</code> and <code>@EmptySource</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you need to supply multiple varying types of <em>blank</em> strings to a parameterized test,
you can achieve that using <a href="#writing-tests-parameterized-tests-sources-ValueSource">@ValueSource</a> — for example, <code>@ValueSource(strings = {"&nbsp;", "&nbsp;&nbsp;&nbsp;", "\t", "\n"})</code>.</p>
</div>
<div class="paragraph">
<p>You can also combine <code>@NullSource</code>, <code>@EmptySource</code>, and <code>@ValueSource</code> to test a wider
range of <code>null</code>, <em>empty</em>, and <em>blank</em> input. The following example demonstrates how to
achieve this for strings.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@NullSource</span>
<span class="annotation">@EmptySource</span>
<span class="annotation">@ValueSource</span>(strings = { <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">   </span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="char">\t</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="char">\n</span><span class="delimiter">"</span></span> })
<span class="type">void</span> nullEmptyAndBlankStrings(<span class="predefined-type">String</span> text) {
    assertTrue(text == <span class="predefined-constant">null</span> || text.trim().isEmpty());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Making use of the composed <code>@NullAndEmptySource</code> annotation simplifies the above as
follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@NullAndEmptySource</span>
<span class="annotation">@ValueSource</span>(strings = { <span class="string"><span class="delimiter">"</span><span class="content"> </span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">   </span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="char">\t</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="char">\n</span><span class="delimiter">"</span></span> })
<span class="type">void</span> nullEmptyAndBlankStrings(<span class="predefined-type">String</span> text) {
    assertTrue(text == <span class="predefined-constant">null</span> || text.trim().isEmpty());
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Both variants of the <code>nullEmptyAndBlankStrings(String)</code> parameterized test method
result in six invocations: 1 for <code>null</code>, 1 for the empty string, and 4 for the explicit
blank strings supplied via <code>@ValueSource</code>.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-EnumSource"><a class="anchor" href="#writing-tests-parameterized-tests-sources-EnumSource"></a>@EnumSource</h5>
<div class="paragraph">
<p><code>@EnumSource</code> provides a convenient way to use <code>Enum</code> constants.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@EnumSource</span>(ChronoUnit.class)
<span class="type">void</span> testWithEnumSource(TemporalUnit unit) {
    assertNotNull(unit);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation’s <code>value</code> attribute is optional. When omitted, the declared type of the
first method parameter is used. The test will fail if it does not reference an enum type.
Thus, the <code>value</code> attribute is required in the above example because the method parameter
is declared as <code>TemporalUnit</code>, i.e. the interface implemented by <code>ChronoUnit</code>, which isn’t
an enum type. Changing the method parameter type to <code>ChronoUnit</code> allows you to omit the
explicit enum type from the annotation as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@EnumSource</span>
<span class="type">void</span> testWithEnumSourceWithAutoDetection(ChronoUnit unit) {
    assertNotNull(unit);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The annotation provides an optional <code>names</code> attribute that lets you specify which
constants shall be used, like in the following example. If omitted, all constants will be
used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@EnumSource</span>(names = { <span class="string"><span class="delimiter">"</span><span class="content">DAYS</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">HOURS</span><span class="delimiter">"</span></span> })
<span class="type">void</span> testWithEnumSourceInclude(ChronoUnit unit) {
    assertTrue(<span class="predefined-type">EnumSet</span>.of(ChronoUnit.DAYS, ChronoUnit.HOURS).contains(unit));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>@EnumSource</code> annotation also provides an optional <code>mode</code> attribute that enables
fine-grained control over which constants are passed to the test method. For example, you
can exclude names from the enum constant pool or specify regular expressions as in the
following examples.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@EnumSource</span>(mode = EXCLUDE, names = { <span class="string"><span class="delimiter">"</span><span class="content">ERAS</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">FOREVER</span><span class="delimiter">"</span></span> })
<span class="type">void</span> testWithEnumSourceExclude(ChronoUnit unit) {
    assertFalse(<span class="predefined-type">EnumSet</span>.of(ChronoUnit.ERAS, ChronoUnit.FOREVER).contains(unit));
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@EnumSource</span>(mode = MATCH_ALL, names = <span class="string"><span class="delimiter">"</span><span class="content">^.*DAYS$</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithEnumSourceRegex(ChronoUnit unit) {
    assertTrue(unit.name().endsWith(<span class="string"><span class="delimiter">"</span><span class="content">DAYS</span><span class="delimiter">"</span></span>));
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-MethodSource"><a class="anchor" href="#writing-tests-parameterized-tests-sources-MethodSource"></a>@MethodSource</h5>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/MethodSource.html">@MethodSource</a></code> allows you to refer to one or more <em>factory</em> methods of the test class
or external classes.</p>
</div>
<div class="paragraph">
<p>Factory methods within the test class must be <code>static</code> unless the test class is annotated
with <code>@TestInstance(Lifecycle.PER_CLASS)</code>; whereas, factory methods in external classes
must always be <code>static</code>. In addition, such factory methods must not accept any arguments.</p>
</div>
<div class="paragraph">
<p>Each factory method must generate a <em>stream</em> of <em>arguments</em>, and each set of arguments
within the stream will be provided as the physical arguments for individual invocations
of the annotated <code>@ParameterizedTest</code> method. Generally speaking this translates to a
<code>Stream</code> of <code>Arguments</code> (i.e., <code>Stream&lt;Arguments&gt;</code>); however, the actual concrete return
type can take on many forms. In this context, a "stream" is anything that JUnit can
reliably convert into a <code>Stream</code>, such as <code>Stream</code>, <code>DoubleStream</code>, <code>LongStream</code>,
<code>IntStream</code>, <code>Collection</code>, <code>Iterator</code>, <code>Iterable</code>, an array of objects, or an array of
primitives. The "arguments" within the stream can be supplied as an instance of
<code>Arguments</code>, an array of objects (e.g., <code>Object[]</code>), or a single value if the
parameterized test method accepts a single argument.</p>
</div>
<div class="paragraph">
<p>If you only need a single parameter, you can return a <code>Stream</code> of instances of the
parameter type as demonstrated in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@MethodSource</span>(<span class="string"><span class="delimiter">"</span><span class="content">stringProvider</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithExplicitLocalMethodSource(<span class="predefined-type">String</span> argument) {
    assertNotNull(argument);
}

<span class="directive">static</span> Stream&lt;<span class="predefined-type">String</span>&gt; stringProvider() {
    <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you do not explicitly provide a factory method name via <code>@MethodSource</code>, JUnit Jupiter
will search for a <em>factory</em> method that has the same name as the current
<code>@ParameterizedTest</code> method by convention. This is demonstrated in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@MethodSource</span>
<span class="type">void</span> testWithDefaultLocalMethodSource(<span class="predefined-type">String</span> argument) {
    assertNotNull(argument);
}

<span class="directive">static</span> Stream&lt;<span class="predefined-type">String</span>&gt; testWithDefaultLocalMethodSource() {
    <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Streams for primitive types (<code>DoubleStream</code>, <code>IntStream</code>, and <code>LongStream</code>) are also
supported as demonstrated by the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@MethodSource</span>(<span class="string"><span class="delimiter">"</span><span class="content">range</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithRangeMethodSource(<span class="type">int</span> argument) {
    assertNotEquals(<span class="integer">9</span>, argument);
}

<span class="directive">static</span> IntStream range() {
    <span class="keyword">return</span> IntStream.range(<span class="integer">0</span>, <span class="integer">20</span>).skip(<span class="integer">10</span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a parameterized test method declares multiple parameters, you need to return a
collection, stream, or array of <code>Arguments</code> instances or object arrays as shown below
(see the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/MethodSource.html">@MethodSource</a></code> for further details on supported return types).
Note that <code>arguments(Object…​)</code> is a static factory method defined in the <code>Arguments</code>
interface. In addition, <code>Arguments.of(Object…​)</code> may be used as an alternative to
<code>arguments(Object…​)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@MethodSource</span>(<span class="string"><span class="delimiter">"</span><span class="content">stringIntAndListProvider</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithMultiArgMethodSource(<span class="predefined-type">String</span> str, <span class="type">int</span> num, <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; list) {
    assertEquals(<span class="integer">5</span>, str.length());
    assertTrue(num &gt;=<span class="integer">1</span> &amp;&amp; num &lt;=<span class="integer">2</span>);
    assertEquals(<span class="integer">2</span>, list.size());
}

<span class="directive">static</span> Stream&lt;Arguments&gt; stringIntAndListProvider() {
    <span class="keyword">return</span> Stream.of(
        arguments(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>, <span class="integer">1</span>, <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">"</span><span class="content">a</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">b</span><span class="delimiter">"</span></span>)),
        arguments(<span class="string"><span class="delimiter">"</span><span class="content">lemon</span><span class="delimiter">"</span></span>, <span class="integer">2</span>, <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">"</span><span class="content">x</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">y</span><span class="delimiter">"</span></span>))
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>An external, <code>static</code> <em>factory</em> method can be referenced by providing its <em>fully
qualified method name</em> as demonstrated in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">example</span>;

<span class="keyword">import</span> <span class="include">java.util.stream.Stream</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.params.ParameterizedTest</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.params.provider.MethodSource</span>;

<span class="type">class</span> <span class="class">ExternalMethodSourceDemo</span> {

    <span class="annotation">@ParameterizedTest</span>
    <span class="annotation">@MethodSource</span>(<span class="string"><span class="delimiter">"</span><span class="content">example.StringsProviders#tinyStrings</span><span class="delimiter">"</span></span>)
    <span class="type">void</span> testWithExternalMethodSource(<span class="predefined-type">String</span> tinyString) {
        <span class="comment">// test with tiny string</span>
    }
}

<span class="type">class</span> <span class="class">StringsProviders</span> {

    <span class="directive">static</span> Stream&lt;<span class="predefined-type">String</span>&gt; tinyStrings() {
        <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">.</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">oo</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">OOO</span><span class="delimiter">"</span></span>);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-CsvSource"><a class="anchor" href="#writing-tests-parameterized-tests-sources-CsvSource"></a>@CsvSource</h5>
<div class="paragraph">
<p><code>@CsvSource</code> allows you to express argument lists as comma-separated values (i.e.,
<code>String</code> literals).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@CsvSource</span>({
    <span class="string"><span class="delimiter">"</span><span class="content">apple,         1</span><span class="delimiter">"</span></span>,
    <span class="string"><span class="delimiter">"</span><span class="content">banana,        2</span><span class="delimiter">"</span></span>,
    <span class="string"><span class="delimiter">"</span><span class="content">'lemon, lime', 0xF1</span><span class="delimiter">"</span></span>
})
<span class="type">void</span> testWithCsvSource(<span class="predefined-type">String</span> fruit, <span class="type">int</span> rank) {
    assertNotNull(fruit);
    assertNotEquals(<span class="integer">0</span>, rank);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default delimiter is a comma (<code>,</code>), but you can use another character by setting the
<code>delimiter</code> attribute. Alternatively, the <code>delimiterString</code> attribute allows you to use a
<code>String</code> delimiter instead of a single character. However, both delimiter attributes
cannot be set simultaneously.</p>
</div>
<div class="paragraph">
<p><code>@CsvSource</code> uses a single quote <code>'</code> as its quote character. See the <code>'lemon, lime'</code> value
in the example above and in the table below. An empty, quoted value <code>''</code> results in an
empty <code>String</code> unless the <code>emptyValue</code> attribute is set; whereas, an entirely <em>empty</em>
value is interpreted as a <code>null</code> reference. By specifying one or more <code>nullValues</code>, a
custom value can be interpreted as a <code>null</code> reference (see the <code>NIL</code> example in the table
below). An <code>ArgumentConversionException</code> is thrown if the target type of a <code>null</code>
reference is a primitive type.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An <em>unquoted</em> empty value will always be converted to a <code>null</code> reference regardless
of any custom values configured via the <code>nullValues</code> attribute.
</td>
</tr>
</tbody></table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Example Input</th>
<th class="tableblock halign-left valign-top">Resulting Argument List</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@CsvSource({ "apple, banana" })</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"apple"</code>, <code>"banana"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@CsvSource({ "apple, 'lemon, lime'" })</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"apple"</code>, <code>"lemon, lime"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@CsvSource({ "apple, ''" })</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"apple"</code>, <code>""</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@CsvSource({ "apple, " })</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"apple"</code>, <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@CsvSource(value = { "apple, banana, NIL" }, nullValues = "NIL")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"apple"</code>, <code>"banana"</code>, <code>null</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-CsvFileSource"><a class="anchor" href="#writing-tests-parameterized-tests-sources-CsvFileSource"></a>@CsvFileSource</h5>
<div class="paragraph">
<p><code>@CsvFileSource</code> lets you use CSV files from the classpath. Each line from a CSV file
results in one invocation of the parameterized test.</p>
</div>
<div class="paragraph">
<p>The default delimiter is a comma (<code>,</code>), but you can use another character by setting the
<code>delimiter</code> attribute. Alternatively, the <code>delimiterString</code> attribute allows you to use a
<code>String</code> delimiter instead of a single character. However, both delimiter attributes
cannot be set simultaneously.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Comments in CSV files</div>
Any line beginning with a <code>#</code> symbol will be interpreted as a comment and will be
ignored.
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@CsvFileSource</span>(resources = <span class="string"><span class="delimiter">"</span><span class="content">/two-column.csv</span><span class="delimiter">"</span></span>, numLinesToSkip = <span class="integer">1</span>)
<span class="type">void</span> testWithCsvFileSource(<span class="predefined-type">String</span> country, <span class="type">int</span> reference) {
    assertNotNull(country);
    assertNotEquals(<span class="integer">0</span>, reference);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">two-column.csv</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="csv">Country, reference
Sweden, 1
Poland, 2
"United States of America", 3</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrast to the syntax used in <code>@CsvSource</code>, <code>@CsvFileSource</code> uses a double quote <code>"</code>
as the quote character. See the <code>"United States of America"</code> value in the example above.
An empty, quoted value <code>""</code> results in an empty <code>String</code> unless the <code>emptyValue</code> attribute
is set; whereas, an entirely <em>empty</em> value is interpreted as a <code>null</code> reference. By
specifying one or more <code>nullValues</code>, a custom value can be interpreted as a <code>null</code>
reference. An <code>ArgumentConversionException</code> is thrown if the target type of a <code>null</code>
reference is a primitive type.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An <em>unquoted</em> empty value will always be converted to a <code>null</code> reference regardless
of any custom values configured via the <code>nullValues</code> attribute.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-sources-ArgumentsSource"><a class="anchor" href="#writing-tests-parameterized-tests-sources-ArgumentsSource"></a>@ArgumentsSource</h5>
<div class="paragraph">
<p><code>@ArgumentsSource</code> can be used to specify a custom, reusable <code>ArgumentsProvider</code>. Note
that an implementation of <code>ArgumentsProvider</code> must be declared as either a top-level
class or as a <code>static</code> nested class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ArgumentsSource</span>(MyArgumentsProvider.class)
<span class="type">void</span> testWithArgumentsSource(<span class="predefined-type">String</span> argument) {
    assertNotNull(argument);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyArgumentsProvider</span> <span class="directive">implements</span> ArgumentsProvider {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> Stream&lt;? <span class="directive">extends</span> Arguments&gt; provideArguments(ExtensionContext context) {
        <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>).map(Arguments::of);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-argument-conversion"><a class="anchor" href="#writing-tests-parameterized-tests-argument-conversion"></a>2.15.4. Argument Conversion</h4>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-argument-conversion-widening"><a class="anchor" href="#writing-tests-parameterized-tests-argument-conversion-widening"></a>Widening Conversion</h5>
<div class="paragraph">
<p>JUnit Jupiter supports
<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.2">Widening Primitive
Conversion</a> for arguments supplied to a <code>@ParameterizedTest</code>. For example, a
parameterized test annotated with <code>@ValueSource(ints = { 1, 2, 3 })</code> can be declared to
accept not only an argument of type <code>int</code> but also an argument of type <code>long</code>, <code>float</code>,
or <code>double</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-argument-conversion-implicit"><a class="anchor" href="#writing-tests-parameterized-tests-argument-conversion-implicit"></a>Implicit Conversion</h5>
<div class="paragraph">
<p>To support use cases like <code>@CsvSource</code>, JUnit Jupiter provides a number of built-in
implicit type converters. The conversion process depends on the declared type of each
method parameter.</p>
</div>
<div class="paragraph">
<p>For example, if a <code>@ParameterizedTest</code> declares a parameter of type <code>TimeUnit</code> and the
actual type supplied by the declared source is a <code>String</code>, the string will be
automatically converted into the corresponding <code>TimeUnit</code> enum constant.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(strings = <span class="string"><span class="delimiter">"</span><span class="content">SECONDS</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithImplicitArgumentConversion(ChronoUnit argument) {
    assertNotNull(argument.name());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>String</code> instances are implicitly converted to the following target types.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Decimal, hexadecimal, and octal <code>String</code> literals will be converted to their
integral types: <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, and their boxed counterparts.
</td>
</tr>
</tbody></table>
</div>
<table id="writing-tests-parameterized-tests-argument-conversion-implicit-table" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Target Type</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code>/<code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"true"</code>                                 → <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte</code>/<code>Byte</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"15"</code>, <code>"0xF"</code>, or <code>"017"</code>              → <code>(byte) 15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>char</code>/<code>Character</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"o"</code>                                    → <code>'o'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short</code>/<code>Short</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"15"</code>, <code>"0xF"</code>, or <code>"017"</code>              → <code>(short) 15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code>/<code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"15"</code>, <code>"0xF"</code>, or <code>"017"</code>              → <code>15</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code>/<code>Long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"15"</code>, <code>"0xF"</code>, or <code>"017"</code>              → <code>15L</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>float</code>/<code>Float</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"1.0"</code>                                  → <code>1.0f</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>double</code>/<code>Double</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"1.0"</code>                                  → <code>1.0d</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Enum</code> subclass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"SECONDS"</code>                              → <code>TimeUnit.SECONDS</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"/path/to/file"</code>                        → <code>new File("/path/to/file")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"java.lang.Integer"</code>                    → <code>java.lang.Integer.class</code> <em>(use <code>$</code> for nested classes, e.g. <code>"java.lang.Thread$State"</code>)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"byte"</code>                                 → <code>byte.class</code> <em>(primitive types are supported)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"char[]"</code>                               → <code>char[].class</code> <em>(array types are supported)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.math.BigDecimal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"123.456e789"</code>                          → <code>new BigDecimal("123.456e789")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.math.BigInteger</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"1234567890123456789"</code>                  → <code>new BigInteger("1234567890123456789")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.net.URI</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"https://junit.org/"</code>                   → <code>URI.create("https://junit.org/")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.net.URL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"https://junit.org/"</code>                   → <code>new URL("https://junit.org/")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.nio.charset.Charset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"UTF-8"</code>                                → <code>Charset.forName("UTF-8")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.nio.file.Path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"/path/to/file"</code>                        → <code>Paths.get("/path/to/file")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.Duration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"PT3S"</code>                                 → <code>Duration.ofSeconds(3)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.Instant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"1970-01-01T00:00:00Z"</code>                 → <code>Instant.ofEpochMilli(0)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.LocalDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2017-03-14T12:34:56.789"</code>              → <code>LocalDateTime.of(2017, 3, 14, 12, 34, 56, 789_000_000)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.LocalDate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2017-03-14"</code>                           → <code>LocalDate.of(2017, 3, 14)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.LocalTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"12:34:56.789"</code>                         → <code>LocalTime.of(12, 34, 56, 789_000_000)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.MonthDay</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"--03-14"</code>                              → <code>MonthDay.of(3, 14)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.OffsetDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2017-03-14T12:34:56.789Z"</code>             → <code>OffsetDateTime.of(2017, 3, 14, 12, 34, 56, 789_000_000, ZoneOffset.UTC)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.OffsetTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"12:34:56.789Z"</code>                        → <code>OffsetTime.of(12, 34, 56, 789_000_000, ZoneOffset.UTC)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.Period</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"P2M6D"</code>                                → <code>Period.of(0, 2, 6)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.YearMonth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2017-03"</code>                              → <code>YearMonth.of(2017, 3)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.Year</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2017"</code>                                 → <code>Year.of(2017)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.ZonedDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"2017-03-14T12:34:56.789Z"</code>             → <code>ZonedDateTime.of(2017, 3, 14, 12, 34, 56, 789_000_000, ZoneOffset.UTC)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.ZoneId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Europe/Berlin"</code>                        → <code>ZoneId.of("Europe/Berlin")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.time.ZoneOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"+02:30"</code>                               → <code>ZoneOffset.ofHoursMinutes(2, 30)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Currency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"JPY"</code>                                  → <code>Currency.getInstance("JPY")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Locale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"en"</code>                                   → <code>new Locale("en")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.UUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"d043e930-7b3b-48e3-bdbe-5a3ccfb833db"</code> → <code>UUID.fromString("d043e930-7b3b-48e3-bdbe-5a3ccfb833db")</code></p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="writing-tests-parameterized-tests-argument-conversion-implicit-fallback"><a class="anchor" href="#writing-tests-parameterized-tests-argument-conversion-implicit-fallback"></a>Fallback String-to-Object Conversion</h6>
<div class="paragraph">
<p>In addition to implicit conversion from strings to the target types listed in the above
table, JUnit Jupiter also provides a fallback mechanism for automatic conversion from a
<code>String</code> to a given target type if the target type declares exactly one suitable <em>factory
method</em> or a <em>factory constructor</em> as defined below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>factory method</em>: a non-private, <code>static</code> method declared in the target type that
accepts a single <code>String</code> argument and returns an instance of the target type. The name
of the method can be arbitrary and need not follow any particular convention.</p>
</li>
<li>
<p><em>factory constructor</em>: a non-private constructor in the target type that accepts a
single <code>String</code> argument. Note that the target type must be declared as either a
top-level class or as a <code>static</code> nested class.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If multiple <em>factory methods</em> are discovered, they will be ignored. If a <em>factory
method</em> and a <em>factory constructor</em> are discovered, the factory method will be used
instead of the constructor.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>For example, in the following <code>@ParameterizedTest</code> method, the <code>Book</code> argument will be
created by invoking the <code>Book.fromTitle(String)</code> factory method and passing <code>"42 Cats"</code>
as the title of the book.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(strings = <span class="string"><span class="delimiter">"</span><span class="content">42 Cats</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithImplicitFallbackArgumentConversion(<span class="predefined-type">Book</span> book) {
    assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">42 Cats</span><span class="delimiter">"</span></span>, book.getTitle());
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Book</span> {

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> title;

    <span class="directive">private</span> <span class="predefined-type">Book</span>(<span class="predefined-type">String</span> title) {
        <span class="local-variable">this</span>.title = title;
    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">Book</span> fromTitle(<span class="predefined-type">String</span> title) {
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">Book</span>(title);
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getTitle() {
        <span class="keyword">return</span> <span class="local-variable">this</span>.title;
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-argument-conversion-explicit"><a class="anchor" href="#writing-tests-parameterized-tests-argument-conversion-explicit"></a>Explicit Conversion</h5>
<div class="paragraph">
<p>Instead of relying on implicit argument conversion you may explicitly specify an
<code>ArgumentConverter</code> to use for a certain parameter using the <code>@ConvertWith</code> annotation
like in the following example. Note that an implementation of <code>ArgumentConverter</code> must be
declared as either a top-level class or as a <code>static</code> nested class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@EnumSource</span>(ChronoUnit.class)
<span class="type">void</span> testWithExplicitArgumentConversion(
        <span class="annotation">@ConvertWith</span>(ToStringArgumentConverter.class) <span class="predefined-type">String</span> argument) {

    assertNotNull(ChronoUnit.valueOf(argument));
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ToStringArgumentConverter</span> <span class="directive">extends</span> SimpleArgumentConverter {

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Object</span> convert(<span class="predefined-type">Object</span> source, <span class="predefined-type">Class</span>&lt;?&gt; targetType) {
        assertEquals(<span class="predefined-type">String</span>.class, targetType, <span class="string"><span class="delimiter">"</span><span class="content">Can only convert to String</span><span class="delimiter">"</span></span>);
        <span class="keyword">if</span> (source <span class="keyword">instanceof</span> <span class="predefined-type">Enum</span>&lt;?&gt;) {
            <span class="keyword">return</span> ((<span class="predefined-type">Enum</span>&lt;?&gt;) source).name();
        }
        <span class="keyword">return</span> <span class="predefined-type">String</span>.valueOf(source);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Explicit argument converters are meant to be implemented by test and extension authors.
Thus, <code>junit-jupiter-params</code> only provides a single explicit argument converter that may
also serve as a reference implementation: <code>JavaTimeArgumentConverter</code>. It is used via the
composed annotation <code>JavaTimeConversionPattern</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(strings = { <span class="string"><span class="delimiter">"</span><span class="content">01.01.2017</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">31.12.2017</span><span class="delimiter">"</span></span> })
<span class="type">void</span> testWithExplicitJavaTimeConverter(
        <span class="annotation">@JavaTimeConversionPattern</span>(<span class="string"><span class="delimiter">"</span><span class="content">dd.MM.yyyy</span><span class="delimiter">"</span></span>) LocalDate argument) {

    assertEquals(<span class="integer">2017</span>, argument.getYear());
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-argument-aggregation"><a class="anchor" href="#writing-tests-parameterized-tests-argument-aggregation"></a>2.15.5. Argument Aggregation</h4>
<div class="paragraph">
<p>By default, each <em>argument</em> provided to a <code>@ParameterizedTest</code> method corresponds to a
single method parameter. Consequently, argument sources which are expected to supply a
large number of arguments can lead to large method signatures.</p>
</div>
<div class="paragraph">
<p>In such cases, an <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/aggregator/ArgumentsAccessor.html">ArgumentsAccessor</a></code> can be used instead of multiple parameters. Using
this API, you can access the provided arguments through a single argument passed to your
test method. In addition, type conversion is supported as discussed in
<a href="#writing-tests-parameterized-tests-argument-conversion-implicit">Implicit Conversion</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@CsvSource</span>({
    <span class="string"><span class="delimiter">"</span><span class="content">Jane, Doe, F, 1990-05-20</span><span class="delimiter">"</span></span>,
    <span class="string"><span class="delimiter">"</span><span class="content">John, Doe, M, 1990-10-22</span><span class="delimiter">"</span></span>
})
<span class="type">void</span> testWithArgumentsAccessor(ArgumentsAccessor arguments) {
    Person person = <span class="keyword">new</span> Person(arguments.getString(<span class="integer">0</span>),
                               arguments.getString(<span class="integer">1</span>),
                               arguments.get(<span class="integer">2</span>, Gender.class),
                               arguments.get(<span class="integer">3</span>, LocalDate.class));

    <span class="keyword">if</span> (person.getFirstName().equals(<span class="string"><span class="delimiter">"</span><span class="content">Jane</span><span class="delimiter">"</span></span>)) {
        assertEquals(Gender.F, person.getGender());
    }
    <span class="keyword">else</span> {
        assertEquals(Gender.M, person.getGender());
    }
    assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Doe</span><span class="delimiter">"</span></span>, person.getLastName());
    assertEquals(<span class="integer">1990</span>, person.getDateOfBirth().getYear());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>An instance of <code>ArgumentsAccessor</code> is automatically injected into any parameter of type
<code>ArgumentsAccessor</code>.</em></p>
</div>
<div class="sect4">
<h5 id="writing-tests-parameterized-tests-argument-aggregation-custom"><a class="anchor" href="#writing-tests-parameterized-tests-argument-aggregation-custom"></a>Custom Aggregators</h5>
<div class="paragraph">
<p>Apart from direct access to a <code>@ParameterizedTest</code> method’s arguments using an
<code>ArgumentsAccessor</code>, JUnit Jupiter also supports the usage of custom, reusable
<em>aggregators</em>.</p>
</div>
<div class="paragraph">
<p>To use a custom aggregator, implement the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/aggregator/ArgumentsAggregator.html">ArgumentsAggregator</a></code> interface and register
it via the <code>@AggregateWith</code> annotation on a compatible parameter in the
<code>@ParameterizedTest</code> method. The result of the aggregation will then be provided as an
argument for the corresponding parameter when the parameterized test is invoked. Note
that an implementation of <code>ArgumentsAggregator</code> must be declared as either a top-level
class or as a <code>static</code> nested class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@CsvSource</span>({
    <span class="string"><span class="delimiter">"</span><span class="content">Jane, Doe, F, 1990-05-20</span><span class="delimiter">"</span></span>,
    <span class="string"><span class="delimiter">"</span><span class="content">John, Doe, M, 1990-10-22</span><span class="delimiter">"</span></span>
})
<span class="type">void</span> testWithArgumentsAggregator(<span class="annotation">@AggregateWith</span>(PersonAggregator.class) Person person) {
    <span class="comment">// perform assertions against person</span>
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PersonAggregator</span> <span class="directive">implements</span> ArgumentsAggregator {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> Person aggregateArguments(ArgumentsAccessor arguments, ParameterContext context) {
        <span class="keyword">return</span> <span class="keyword">new</span> Person(arguments.getString(<span class="integer">0</span>),
                          arguments.getString(<span class="integer">1</span>),
                          arguments.get(<span class="integer">2</span>, Gender.class),
                          arguments.get(<span class="integer">3</span>, LocalDate.class));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you find yourself repeatedly declaring <code>@AggregateWith(MyTypeAggregator.class)</code> for
multiple parameterized test methods across your codebase, you may wish to create a custom
<em>composed annotation</em> such as <code>@CsvToMyType</code> that is meta-annotated with
<code>@AggregateWith(MyTypeAggregator.class)</code>. The following example demonstrates this in
action with a custom <code>@CsvToPerson</code> annotation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@CsvSource</span>({
    <span class="string"><span class="delimiter">"</span><span class="content">Jane, Doe, F, 1990-05-20</span><span class="delimiter">"</span></span>,
    <span class="string"><span class="delimiter">"</span><span class="content">John, Doe, M, 1990-10-22</span><span class="delimiter">"</span></span>
})
<span class="type">void</span> testWithCustomAggregatorAnnotation(<span class="annotation">@CsvToPerson</span> Person person) {
    <span class="comment">// perform assertions against person</span>
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Retention</span>(<span class="predefined-type">RetentionPolicy</span>.RUNTIME)
<span class="annotation">@Target</span>(<span class="predefined-type">ElementType</span>.PARAMETER)
<span class="annotation">@AggregateWith</span>(PersonAggregator.class)
<span class="directive">public</span> <span class="annotation">@interface</span> CsvToPerson {
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-display-names"><a class="anchor" href="#writing-tests-parameterized-tests-display-names"></a>2.15.6. Customizing Display Names</h4>
<div class="paragraph">
<p>By default, the display name of a parameterized test invocation contains the invocation
index and the <code>String</code> representation of all arguments for that specific invocation.
Each of them is preceded by the parameter name (unless the argument is only available via
an <code>ArgumentsAccessor</code> or <code>ArgumentAggregator</code>), if present in the bytecode (for Java,
test code must be compiled with the <code>-parameters</code> compiler flag).</p>
</div>
<div class="paragraph">
<p>However, you can customize invocation display names via the <code>name</code> attribute of the
<code>@ParameterizedTest</code> annotation like in the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@DisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">Display name of container</span><span class="delimiter">"</span></span>)
<span class="annotation">@ParameterizedTest</span>(name = <span class="string"><span class="delimiter">"</span><span class="content">{index} ==&gt; the rank of ''{0}'' is {1}</span><span class="delimiter">"</span></span>)
<span class="annotation">@CsvSource</span>({ <span class="string"><span class="delimiter">"</span><span class="content">apple, 1</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">banana, 2</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">'lemon, lime', 3</span><span class="delimiter">"</span></span> })
<span class="type">void</span> testWithCustomDisplayNames(<span class="predefined-type">String</span> fruit, <span class="type">int</span> rank) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When executing the above method using the <code>ConsoleLauncher</code> you will see output similar to
the following.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Display name of container ✔
├─ 1 ==&gt; the rank of 'apple' is 1 ✔
├─ 2 ==&gt; the rank of 'banana' is 2 ✔
└─ 3 ==&gt; the rank of 'lemon, lime' is 3 ✔</pre>
</div>
</div>
<div class="paragraph">
<p>The following placeholders are supported within custom display names.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Placeholder</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{displayName}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the display name of the method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{index}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current invocation index (1-based)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{arguments}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the complete, comma-separated arguments list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{argumentsWithNames}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the complete, comma-separated arguments list with parameter names</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0}</code>, <code>{1}</code>, …​</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an individual argument</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="writing-tests-parameterized-tests-lifecycle-interop"><a class="anchor" href="#writing-tests-parameterized-tests-lifecycle-interop"></a>2.15.7. Lifecycle and Interoperability</h4>
<div class="paragraph">
<p>Each invocation of a parameterized test has the same lifecycle as a regular <code>@Test</code>
method. For example, <code>@BeforeEach</code> methods will be executed before each invocation.
Similar to <a href="#writing-tests-dynamic-tests">Dynamic Tests</a>, invocations will appear one by one in the
test tree of an IDE. You may at will mix regular <code>@Test</code> methods and <code>@ParameterizedTest</code>
methods within the same test class.</p>
</div>
<div class="paragraph">
<p>You may use <code>ParameterResolver</code> extensions with <code>@ParameterizedTest</code> methods. However,
method parameters that are resolved by argument sources need to come first in the
argument list. Since a test class may contain regular tests as well as parameterized
tests with different parameter lists, values from argument sources are not resolved for
lifecycle methods (e.g. <code>@BeforeEach</code>) and test class constructors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@BeforeEach</span>
<span class="type">void</span> beforeEach(TestInfo testInfo) {
    <span class="comment">// ...</span>
}

<span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(strings = <span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>)
<span class="type">void</span> testWithRegularParameterResolver(<span class="predefined-type">String</span> argument, TestReporter testReporter) {
    testReporter.publishEntry(<span class="string"><span class="delimiter">"</span><span class="content">argument</span><span class="delimiter">"</span></span>, argument);
}

<span class="annotation">@AfterEach</span>
<span class="type">void</span> afterEach(TestInfo testInfo) {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-test-templates"><a class="anchor" href="#writing-tests-test-templates"></a>2.16. Test Templates</h3>
<div class="paragraph">
<p>A <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestTemplate.html">@TestTemplate</a></code> method is not a regular test case but rather a template for test
cases. As such, it is designed to be invoked multiple times depending on the number of
invocation contexts returned by the registered providers. Thus, it must be used in
conjunction with a registered <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html">TestTemplateInvocationContextProvider</a></code> extension. Each
invocation of a test template method behaves like the execution of a regular <code>@Test</code>
method with full support for the same lifecycle callbacks and extensions. Please refer to
<a href="#extensions-test-templates">Providing Invocation Contexts for Test Templates</a> for usage examples.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="#writing-tests-repeated-tests">Repeated Tests</a> and <a href="#writing-tests-parameterized-tests">Parameterized Tests</a> are
built-in specializations of test templates.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-dynamic-tests"><a class="anchor" href="#writing-tests-dynamic-tests"></a>2.17. Dynamic Tests</h3>
<div class="paragraph">
<p>The standard <code>@Test</code> annotation in JUnit Jupiter described in
<a href="#writing-tests-annotations">Annotations</a> is very similar to the <code>@Test</code> annotation in JUnit 4. Both
describe methods that implement test cases. These test cases are static in the sense that
they are fully specified at compile time, and their behavior cannot be changed by
anything happening at runtime. <em>Assumptions provide a basic form of dynamic behavior but
are intentionally rather limited in their expressiveness.</em></p>
</div>
<div class="paragraph">
<p>In addition to these standard tests a completely new kind of test programming model has
been introduced in JUnit Jupiter. This new kind of test is a <em>dynamic test</em> which is
generated at runtime by a factory method that is annotated with <code>@TestFactory</code>.</p>
</div>
<div class="paragraph">
<p>In contrast to <code>@Test</code> methods, a <code>@TestFactory</code> method is not itself a test case but
rather a factory for test cases. Thus, a dynamic test is the product of a factory.
Technically speaking, a <code>@TestFactory</code> method must return a single <code>DynamicNode</code> or a
<code>Stream</code>, <code>Collection</code>, <code>Iterable</code>, <code>Iterator</code>, or array of <code>DynamicNode</code> instances.
Instantiable subclasses of <code>DynamicNode</code> are <code>DynamicContainer</code> and <code>DynamicTest</code>.
<code>DynamicContainer</code> instances are composed of a <em>display name</em> and a list of dynamic child
nodes, enabling the creation of arbitrarily nested hierarchies of dynamic nodes.
<code>DynamicTest</code> instances will be executed lazily, enabling dynamic and even
non-deterministic generation of test cases.</p>
</div>
<div class="paragraph">
<p>Any <code>Stream</code> returned by a <code>@TestFactory</code> will be properly closed by calling
<code>stream.close()</code>, making it safe to use a resource such as <code>Files.lines()</code>.</p>
</div>
<div class="paragraph">
<p>As with <code>@Test</code> methods, <code>@TestFactory</code> methods must not be <code>private</code> or <code>static</code> and may
optionally declare parameters to be resolved by <code>ParameterResolvers</code>.</p>
</div>
<div class="paragraph">
<p>A <code>DynamicTest</code> is a test case generated at runtime. It is composed of a <em>display name</em>
and an <code>Executable</code>. <code>Executable</code> is a <code>@FunctionalInterface</code> which means that the
implementations of dynamic tests can be provided as <em>lambda expressions</em> or <em>method
references</em>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Dynamic Test Lifecycle</div>
The execution lifecycle of a dynamic test is quite different than it is for a
standard <code>@Test</code> case. Specifically, there are no lifecycle callbacks for individual
dynamic tests. This means that <code>@BeforeEach</code> and <code>@AfterEach</code> methods and their
corresponding extension callbacks are executed for the <code>@TestFactory</code> method but not for
each <em>dynamic test</em>. In other words, if you access fields from the test instance within a
lambda expression for a dynamic test, those fields will not be reset by callback methods
or extensions between the execution of individual dynamic tests generated by the same
<code>@TestFactory</code> method.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>As of JUnit Jupiter 5.6.0, dynamic tests must always be created by factory
methods; however, this might be complemented by a registration facility in a later
release.</p>
</div>
<div class="sect3">
<h4 id="writing-tests-dynamic-tests-examples"><a class="anchor" href="#writing-tests-dynamic-tests-examples"></a>2.17.1. Dynamic Test Examples</h4>
<div class="paragraph">
<p>The following <code>DynamicTestsDemo</code> class demonstrates several examples of test factories
and dynamic tests.</p>
</div>
<div class="paragraph">
<p>The first method returns an invalid return type. Since an invalid return type cannot be
detected at compile time, a <code>JUnitException</code> is thrown when it is detected at runtime.</p>
</div>
<div class="paragraph">
<p>The next five methods are very simple examples that demonstrate the generation of a
<code>Collection</code>, <code>Iterable</code>, <code>Iterator</code>, or <code>Stream</code> of <code>DynamicTest</code> instances. Most of
these examples do not really exhibit dynamic behavior but merely demonstrate the
supported return types in principle. However, <code>dynamicTestsFromStream()</code> and
<code>dynamicTestsFromIntStream()</code> demonstrate how easy it is to generate dynamic tests for a
given set of strings or a range of input numbers.</p>
</div>
<div class="paragraph">
<p>The next method is truly dynamic in nature. <code>generateRandomNumberOfTests()</code> implements an
<code>Iterator</code> that generates random numbers, a display name generator, and a test executor
and then provides all three to <code>DynamicTest.stream()</code>. Although the non-deterministic
behavior of <code>generateRandomNumberOfTests()</code> is of course in conflict with test
repeatability and should thus be used with care, it serves to demonstrate the
expressiveness and power of dynamic tests.</p>
</div>
<div class="paragraph">
<p>The last method generates a nested hierarchy of dynamic tests utilizing
<code>DynamicContainer</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">example.util.StringUtils.isPalindrome</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertFalse</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertNotNull</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.DynamicContainer.dynamicContainer</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.DynamicTest.dynamicTest</span>;

<span class="keyword">import</span> <span class="include">java.util.Arrays</span>;
<span class="keyword">import</span> <span class="include">java.util.Collection</span>;
<span class="keyword">import</span> <span class="include">java.util.Iterator</span>;
<span class="keyword">import</span> <span class="include">java.util.List</span>;
<span class="keyword">import</span> <span class="include">java.util.Random</span>;
<span class="keyword">import</span> <span class="include">java.util.function.Function</span>;
<span class="keyword">import</span> <span class="include">java.util.stream.IntStream</span>;
<span class="keyword">import</span> <span class="include">java.util.stream.Stream</span>;

<span class="keyword">import</span> <span class="include">example.util.Calculator</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DynamicNode</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DynamicTest</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Tag</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestFactory</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.function.ThrowingConsumer</span>;

<span class="type">class</span> <span class="class">DynamicTestsDemo</span> {

    <span class="directive">private</span> <span class="directive">final</span> Calculator calculator = <span class="keyword">new</span> Calculator();

    <span class="comment">// This will result in a JUnitException!</span>
    <span class="annotation">@TestFactory</span>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; dynamicTestsWithInvalidReturnType() {
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">"</span><span class="content">Hello</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@TestFactory</span>
    <span class="predefined-type">Collection</span>&lt;DynamicTest&gt; dynamicTestsFromCollection() {
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">1st dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertTrue(isPalindrome(<span class="string"><span class="delimiter">"</span><span class="content">madam</span><span class="delimiter">"</span></span>))),
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">2nd dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertEquals(<span class="integer">4</span>, calculator.multiply(<span class="integer">2</span>, <span class="integer">2</span>)))
        );
    }

    <span class="annotation">@TestFactory</span>
    <span class="predefined-type">Iterable</span>&lt;DynamicTest&gt; dynamicTestsFromIterable() {
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">3rd dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertTrue(isPalindrome(<span class="string"><span class="delimiter">"</span><span class="content">madam</span><span class="delimiter">"</span></span>))),
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">4th dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertEquals(<span class="integer">4</span>, calculator.multiply(<span class="integer">2</span>, <span class="integer">2</span>)))
        );
    }

    <span class="annotation">@TestFactory</span>
    <span class="predefined-type">Iterator</span>&lt;DynamicTest&gt; dynamicTestsFromIterator() {
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">5th dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertTrue(isPalindrome(<span class="string"><span class="delimiter">"</span><span class="content">madam</span><span class="delimiter">"</span></span>))),
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">6th dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertEquals(<span class="integer">4</span>, calculator.multiply(<span class="integer">2</span>, <span class="integer">2</span>)))
        ).iterator();
    }

    <span class="annotation">@TestFactory</span>
    DynamicTest<span class="type">[]</span> dynamicTestsFromArray() {
        <span class="keyword">return</span> <span class="keyword">new</span> DynamicTest<span class="type">[]</span> {
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">7th dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertTrue(isPalindrome(<span class="string"><span class="delimiter">"</span><span class="content">madam</span><span class="delimiter">"</span></span>))),
            dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">8th dynamic test</span><span class="delimiter">"</span></span>, () -&gt; assertEquals(<span class="integer">4</span>, calculator.multiply(<span class="integer">2</span>, <span class="integer">2</span>)))
        };
    }

    <span class="annotation">@TestFactory</span>
    Stream&lt;DynamicTest&gt; dynamicTestsFromStream() {
        <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">racecar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">radar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">mom</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">dad</span><span class="delimiter">"</span></span>)
            .map(text -&gt; dynamicTest(text, () -&gt; assertTrue(isPalindrome(text))));
    }

    <span class="annotation">@TestFactory</span>
    Stream&lt;DynamicTest&gt; dynamicTestsFromIntStream() {
        <span class="comment">// Generates tests for the first 10 even integers.</span>
        <span class="keyword">return</span> IntStream.iterate(<span class="integer">0</span>, n -&gt; n + <span class="integer">2</span>).limit(<span class="integer">10</span>)
            .mapToObj(n -&gt; dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">test</span><span class="delimiter">"</span></span> + n, () -&gt; assertTrue(n % <span class="integer">2</span> == <span class="integer">0</span>)));
    }

    <span class="annotation">@TestFactory</span>
    Stream&lt;DynamicTest&gt; generateRandomNumberOfTests() {

        <span class="comment">// Generates random positive integers between 0 and 100 until</span>
        <span class="comment">// a number evenly divisible by 7 is encountered.</span>
        <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">Integer</span>&gt; inputGenerator = <span class="keyword">new</span> <span class="predefined-type">Iterator</span>&lt;<span class="predefined-type">Integer</span>&gt;() {

            <span class="predefined-type">Random</span> random = <span class="keyword">new</span> <span class="predefined-type">Random</span>();
            <span class="type">int</span> current;

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">boolean</span> hasNext() {
                current = random.nextInt(<span class="integer">100</span>);
                <span class="keyword">return</span> current % <span class="integer">7</span> != <span class="integer">0</span>;
            }

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="predefined-type">Integer</span> next() {
                <span class="keyword">return</span> current;
            }
        };

        <span class="comment">// Generates display names like: input:5, input:37, input:85, etc.</span>
        Function&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">String</span>&gt; displayNameGenerator = (input) -&gt; <span class="string"><span class="delimiter">"</span><span class="content">input:</span><span class="delimiter">"</span></span> + input;

        <span class="comment">// Executes tests based on the current input value.</span>
        ThrowingConsumer&lt;<span class="predefined-type">Integer</span>&gt; testExecutor = (input) -&gt; assertTrue(input % <span class="integer">7</span> != <span class="integer">0</span>);

        <span class="comment">// Returns a stream of dynamic tests.</span>
        <span class="keyword">return</span> DynamicTest.stream(inputGenerator, displayNameGenerator, testExecutor);
    }

    <span class="annotation">@TestFactory</span>
    Stream&lt;DynamicNode&gt; dynamicTestsWithContainers() {
        <span class="keyword">return</span> Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">A</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">B</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">C</span><span class="delimiter">"</span></span>)
            .map(input -&gt; dynamicContainer(<span class="string"><span class="delimiter">"</span><span class="content">Container </span><span class="delimiter">"</span></span> + input, Stream.of(
                dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">not null</span><span class="delimiter">"</span></span>, () -&gt; assertNotNull(input)),
                dynamicContainer(<span class="string"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>, Stream.of(
                    dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">length &gt; 0</span><span class="delimiter">"</span></span>, () -&gt; assertTrue(input.length() &gt; <span class="integer">0</span>)),
                    dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">not empty</span><span class="delimiter">"</span></span>, () -&gt; assertFalse(input.isEmpty()))
                ))
            )));
    }

    <span class="annotation">@TestFactory</span>
    DynamicNode dynamicNodeSingleTest() {
        <span class="keyword">return</span> dynamicTest(<span class="string"><span class="delimiter">"</span><span class="content">'pop' is a palindrome</span><span class="delimiter">"</span></span>, () -&gt; assertTrue(isPalindrome(<span class="string"><span class="delimiter">"</span><span class="content">pop</span><span class="delimiter">"</span></span>)));
    }

    <span class="annotation">@TestFactory</span>
    DynamicNode dynamicNodeSingleContainer() {
        <span class="keyword">return</span> dynamicContainer(<span class="string"><span class="delimiter">"</span><span class="content">palindromes</span><span class="delimiter">"</span></span>,
            Stream.of(<span class="string"><span class="delimiter">"</span><span class="content">racecar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">radar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">mom</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">dad</span><span class="delimiter">"</span></span>)
                .map(text -&gt; dynamicTest(text, () -&gt; assertTrue(isPalindrome(text)))
        ));
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-dynamic-tests-uri-test-source"><a class="anchor" href="#writing-tests-dynamic-tests-uri-test-source"></a>2.17.2. URI Test Sources for Dynamic Tests</h4>
<div class="paragraph">
<p>The JUnit Platform provides <code>TestSource</code>, a representation of the source of a test or
container used to navigate to its location by IDEs and build tools.</p>
</div>
<div class="paragraph">
<p>The <code>TestSource</code> for a dynamic test or dynamic container can be constructed from a
<code>java.net.URI</code> which can be supplied via the <code>DynamicTest.dynamicTest(String, URI,
Executable)</code> or <code>DynamicContainer.dynamicContainer(String, URI, Stream)</code> factory method,
respectively. The <code>URI</code> will be converted to one of the following <code>TestSource</code>
implementations.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ClasspathResourceSource</code> </dt>
<dd>
<p>If the <code>URI</code> contains the <code>classpath</code> scheme — for example,
<code>classpath:/test/foo.xml?line=20,column=2</code>.</p>
</dd>
<dt class="hdlist1"><code>DirectorySource</code> </dt>
<dd>
<p>If the <code>URI</code> represents a directory present in the file system.</p>
</dd>
<dt class="hdlist1"><code>FileSource</code> </dt>
<dd>
<p>If the <code>URI</code> represents a file present in the file system.</p>
</dd>
<dt class="hdlist1"><code>MethodSource</code> </dt>
<dd>
<p>If the <code>URI</code> contains the <code>method</code> scheme and the fully qualified method name (FQMN) — for example, <code>method:org.junit.Foo#bar(java.lang.String, java.lang.String[])</code>. Please
refer to the Javadoc for <code>DiscoverySelectors.selectMethod(String)</code> for the supported
formats for a FQMN.</p>
</dd>
<dt class="hdlist1"><code>UriSource</code> </dt>
<dd>
<p>If none of the above <code>TestSource</code> implementations are applicable.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-declarative-timeouts"><a class="anchor" href="#writing-tests-declarative-timeouts"></a>2.18. Timeouts</h3>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Declarative timeouts are an experimental feature</div>
You’re invited to give it a try and provide feedback to the JUnit team so they
can improve and eventually <a href="#api-evolution">promote</a> this feature.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The <code>@Timeout</code> annotation allows one to declare that a test, test factory, test template,
or lifecycle method should fail if its execution time exceeds a given duration. The time
unit for the duration defaults to seconds but is configurable.</p>
</div>
<div class="paragraph">
<p>The following example shows how <code>@Timeout</code> is applied to lifecycle and test methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">TimeoutDemo</span> {

    <span class="annotation">@BeforeEach</span>
    <span class="annotation">@Timeout</span>(<span class="integer">5</span>)
    <span class="type">void</span> setUp() {
        <span class="comment">// fails if execution time exceeds 5 seconds</span>
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Timeout</span>(value = <span class="integer">100</span>, unit = <span class="predefined-type">TimeUnit</span>.MILLISECONDS)
    <span class="type">void</span> failsIfExecutionTimeExceeds100Milliseconds() {
        <span class="comment">// fails if execution time exceeds 100 milliseconds</span>
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Contrary to the <code>assertTimeoutPreemptively()</code> assertion, the execution of the annotated
method proceeds in the main thread of the test. If the timeout is exceeded, the main
thread is interrupted from another thread. This is done to ensure interoperability with
frameworks such as Spring that make use of mechanisms that are sensitive to the currently
running thread — for example, <code>ThreadLocal</code> transaction management.</p>
</div>
<div class="paragraph">
<p>To apply the same timeout to all test methods within a test class and all of its <code>@Nested</code>
classes, you can declare the <code>@Timeout</code> annotation at the class level. It will then be
applied to all test, test factory, and test template methods within that class and its
<code>@Nested</code> classes unless overridden by a <code>@Timeout</code> annotation on a specific method or
<code>@Nested</code> class. Please note that <code>@Timeout</code> annotations declared at the class level are
not applied to lifecycle methods.</p>
</div>
<div class="paragraph">
<p>Declaring <code>@Timeout</code> on a <code>@TestFactory</code> method checks that the factory method returns
within the specified duration but does not verify the execution time of each individual
<code>DynamicTest</code> generated by the factory. Please use
<code>assertTimeout()</code> or <code>assertTimeoutPreemptively()</code> for that purpose.</p>
</div>
<div class="paragraph">
<p>If <code>@Timeout</code> is present on a <code>@TestTemplate</code> method — for example, a <code>@RepeatedTest</code> or
<code>@ParameterizedTest</code> — each invocation will have the given timeout applied to it.</p>
</div>
<div class="paragraph">
<p>The following <a href="#running-tests-config-params">configuration parameters</a> can be used to
specify global timeouts for all methods of a certain category unless they or an enclosing
test class is annotated with <code>@Timeout</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.default</code></dt>
<dd>
<p>Default timeout for all testable and lifecycle methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.testable.method.default</code></dt>
<dd>
<p>Default timeout for all testable methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.test.method.default</code></dt>
<dd>
<p>Default timeout for <code>@Test</code> methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.testtemplate.method.default</code></dt>
<dd>
<p>Default timeout for <code>@TestTemplate</code> methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.testfactory.method.default</code></dt>
<dd>
<p>Default timeout for <code>@TestFactory</code> methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.lifecycle.method.default</code></dt>
<dd>
<p>Default timeout for all lifecycle methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.beforeall.method.default</code></dt>
<dd>
<p>Default timeout for <code>@BeforeAll</code> methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.beforeeach.method.default</code></dt>
<dd>
<p>Default timeout for <code>@BeforeEach</code> methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.aftereach.method.default</code></dt>
<dd>
<p>Default timeout for <code>@AfterEach</code> methods</p>
</dd>
<dt class="hdlist1"><code>junit.jupiter.execution.timeout.afterall.method.default</code></dt>
<dd>
<p>Default timeout for <code>@AfterAll</code> methods</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>More specific configuration parameters override less specific ones. For example,
<code>junit.jupiter.execution.timeout.test.method.default</code> overrides
<code>junit.jupiter.execution.timeout.testable.method.default</code> which overrides
<code>junit.jupiter.execution.timeout.default</code>.</p>
</div>
<div class="paragraph">
<p>The values of such configuration parameters must be in the following, case-insensitive
format: <code>&lt;number&gt; [ns|μs|ms|s|m|h|d]</code>. The space between the number and the unit may be
omitted. Specifying no unit is equivalent to using seconds.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Example timeout configuration parameter values</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter value</th>
<th class="tableblock halign-left valign-top">Equivalent annotation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(42)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 ns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = NANOSECONDS)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 μs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = MICROSECONDS)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 ms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = MILLISECONDS)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = SECONDS)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = MINUTES)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = HOURS)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>42 d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Timeout(value = 42, unit = DAYS)</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="writing-tests-declarative-timeouts-polling"><a class="anchor" href="#writing-tests-declarative-timeouts-polling"></a>2.18.1. Using @Timeout for Polling Tests</h4>
<div class="paragraph">
<p>When dealing with asynchronous code, it is common to write tests that poll while waiting
for something to happen before performing any assertions. In some cases you can rewrite
the logic to use a <code>CountDownLatch</code> or another synchronization mechanism, but sometimes
that is not possible — for example, if the subject under test sends a message to a channel
in an external message broker and assertions cannot be performed until the message has
been successfully sent through the channel. Asynchronous tests like these require some
form of timeout to ensure they don’t hang the test suite by executing indefinitely, as
would be the case if an asynchronous message never gets successfully delivered.</p>
</div>
<div class="paragraph">
<p>By configuring a timeout for an asynchronous test that polls, you can ensure that the test
does not execute indefinitely. The following example demonstrates how to achieve this with
JUnit Jupiter’s <code>@Timeout</code> annotation. This technique can be used to implement "poll
until" logic very easily.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="annotation">@Timeout</span>(<span class="integer">5</span>) <span class="comment">// Poll at most 5 seconds</span>
<span class="type">void</span> pollUntil() <span class="directive">throws</span> <span class="exception">InterruptedException</span> {
    <span class="keyword">while</span> (asynchronousResultNotAvailable()) {
        <span class="predefined-type">Thread</span>.sleep(<span class="integer">250</span>); <span class="comment">// custom poll interval</span>
    }
    <span class="comment">// Obtain the asynchronous result and perform assertions</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you need more control over polling intervals and greater flexibility with
asynchronous tests, consider using a dedicated library such as
<a href="https://github.com/awaitility/awaitility">Awaitility</a>.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-declarative-timeouts-mode"><a class="anchor" href="#writing-tests-declarative-timeouts-mode"></a>2.18.2. Disable @Timeout Globally</h4>
<div class="paragraph">
<p>When stepping through your code in a debug session, a fixed timeout limit may influence
the result of the test, e.g. mark the test as failed although all assertions were met.</p>
</div>
<div class="paragraph">
<p>JUnit Jupiter supports the <code>junit.jupiter.execution.timeout.mode</code> configuration parameter
to configure when timeouts are applied. There are three modes: <code>enabled</code>, <code>disabled</code>,
and <code>disabled_on_debug</code>. The default mode is <code>enabled</code>.
A VM runtime is considered to run in debug mode when one of its input parameters starts
with <code>-agentlib:jdwp</code>. This heuristic is queried by the <code>disabled_on_debug</code> mode.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-parallel-execution"><a class="anchor" href="#writing-tests-parallel-execution"></a>2.19. Parallel Execution</h3>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Parallel test execution is an experimental feature</div>
You’re invited to give it a try and provide feedback to the JUnit team so they
can improve and eventually <a href="#api-evolution">promote</a> this feature.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>By default, JUnit Jupiter tests are run sequentially in a single thread. Running tests in
parallel — for example, to speed up execution — is available as an opt-in feature since
version 5.3. To enable parallel execution, set the
<code>junit.jupiter.execution.parallel.enabled</code> configuration parameter to <code>true</code> — for
example, in <code>junit-platform.properties</code> (see <a href="#running-tests-config-params">Configuration Parameters</a> for other
options).</p>
</div>
<div class="paragraph">
<p>Please note that enabling this property is only the first step required to execute tests
in parallel. If enabled, test classes and methods will still be executed sequentially by
default. Whether or not a node in the test tree is executed concurrently is controlled by
its execution mode. The following two modes are available.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>SAME_THREAD</code></dt>
<dd>
<p>Force execution in the same thread used by the parent. For example, when used on a test
method, the test method will be executed in the same thread as any <code>@BeforeAll</code> or
<code>@AfterAll</code> methods of the containing test class.</p>
</dd>
<dt class="hdlist1"><code>CONCURRENT</code></dt>
<dd>
<p>Execute concurrently unless a resource lock forces execution in the same thread.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>By default, nodes in the test tree use the <code>SAME_THREAD</code> execution mode. You can change
the default by setting the <code>junit.jupiter.execution.parallel.mode.default</code> configuration
parameter. Alternatively, you can use the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/Execution.html">@Execution</a></code> annotation to change the
execution mode for the annotated element and its subelements (if any) which allows you to
activate parallel execution for individual test classes, one by one.</p>
</div>
<div class="listingblock">
<div class="title">Configuration parameters to execute all tests in parallel</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">junit.jupiter.execution.parallel.enabled = true
junit.jupiter.execution.parallel.mode.default = concurrent</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default execution mode is applied to all nodes of the test tree with a few notable
exceptions, namely test classes that use the <code>Lifecycle.PER_CLASS</code> mode or a
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.html">MethodOrderer</a></code> (except for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/MethodOrderer.Random.html">Random</a></code>). In the former case, test authors have to
ensure that the test class is thread-safe; in the latter, concurrent execution might
conflict with the configured execution order. Thus, in both cases, test methods in such
test classes are only executed concurrently if the <code>@Execution(CONCURRENT)</code> annotation is
present on the test class or method.</p>
</div>
<div class="paragraph">
<p>All nodes of the test tree that are configured with the <code>CONCURRENT</code> execution mode will
be executed fully in parallel according to the provided
<a href="#writing-tests-parallel-execution-config">configuration</a> while observing the
declarative <a href="#writing-tests-parallel-execution-synchronization">synchronization</a>
mechanism. Please note that <a href="#running-tests-capturing-output">Capturing Standard Output/Error</a> needs to be enabled
separately.</p>
</div>
<div class="paragraph">
<p>In addition, you can configure the default execution mode for top-level classes by setting
the <code>junit.jupiter.execution.parallel.mode.classes.default</code> configuration parameter. By
combining both configuration parameters, you can configure classes to run in parallel but
their methods in the same thread:</p>
</div>
<div class="listingblock">
<div class="title">Configuration parameters to execute top-level classes in parallel but methods in same thread</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">junit.jupiter.execution.parallel.enabled = true
junit.jupiter.execution.parallel.mode.default = same_thread
junit.jupiter.execution.parallel.mode.classes.default = concurrent</code></pre>
</div>
</div>
<div class="paragraph">
<p>The opposite combination will run all methods within one class in parallel, but top-level
classes will run sequentially:</p>
</div>
<div class="listingblock">
<div class="title">Configuration parameters to execute top-level classes in sequentially but their methods in parallel</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">junit.jupiter.execution.parallel.enabled = true
junit.jupiter.execution.parallel.mode.default = concurrent
junit.jupiter.execution.parallel.mode.classes.default = same_thread</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following diagram illustrates how the execution of two top-level test classes <code>A</code> and
<code>B</code> with two test methods per class behaves for all four combinations of
<code>junit.jupiter.execution.parallel.mode.default</code> and
<code>junit.jupiter.execution.parallel.mode.classes.default</code> (see labels in first column).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="JUnit%205%20User%20Guide_fichiers/writing-tests_execution_mode.svg" alt="writing tests execution mode">
</div>
<div class="title">Default execution mode configuration combinations</div>
</div>
<div class="paragraph">
<p>If the <code>junit.jupiter.execution.parallel.mode.classes.default</code> configuration parameter is
not explicitly set, the value for <code>junit.jupiter.execution.parallel.mode.default</code> will be
used instead.</p>
</div>
<div class="sect3">
<h4 id="writing-tests-parallel-execution-config"><a class="anchor" href="#writing-tests-parallel-execution-config"></a>2.19.1. Configuration</h4>
<div class="paragraph">
<p>Properties such as the desired parallelism and the maximum pool size can be configured
using a <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/ParallelExecutionConfigurationStrategy.html">ParallelExecutionConfigurationStrategy</a></code>. The JUnit Platform provides two
implementations out of the box: <code>dynamic</code> and <code>fixed</code>. Alternatively, you may implement a
<code>custom</code> strategy.</p>
</div>
<div class="paragraph">
<p>To select a strategy, set the <code>junit.jupiter.execution.parallel.config.strategy</code>
configuration parameter to one of the following options.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>dynamic</code></dt>
<dd>
<p>Computes the desired parallelism based on the number of available processors/cores
multiplied by the <code>junit.jupiter.execution.parallel.config.dynamic.factor</code>
configuration parameter (defaults to <code>1</code>).</p>
</dd>
<dt class="hdlist1"><code>fixed</code></dt>
<dd>
<p>Uses the mandatory <code>junit.jupiter.execution.parallel.config.fixed.parallelism</code>
configuration parameter as the desired parallelism.</p>
</dd>
<dt class="hdlist1"><code>custom</code></dt>
<dd>
<p>Allows you to specify a custom <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/ParallelExecutionConfigurationStrategy.html">ParallelExecutionConfigurationStrategy</a></code>
implementation via the mandatory <code>junit.jupiter.execution.parallel.config.custom.class</code>
configuration parameter to determine the desired configuration.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If no configuration strategy is set, JUnit Jupiter uses the <code>dynamic</code> configuration
strategy with a factor of <code>1</code>. Consequently, the desired parallelism will be equal to the
number of available processors/cores.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Parallelism does not imply maximum number of concurrent threads</div>
JUnit Jupiter does not guarantee that the number of concurrently executing tests
will not exceed the configured parallelism. For example, when using one of the
synchronization mechanisms described in the next section, the <code>ForkJoinPool</code> that is used
behind the scenes may spawn additional threads to ensure execution continues with
sufficient parallelism. Thus, if you require such guarantees in a test class, please use
your own means of controlling concurrency.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="writing-tests-parallel-execution-synchronization"><a class="anchor" href="#writing-tests-parallel-execution-synchronization"></a>2.19.2. Synchronization</h4>
<div class="paragraph">
<p>In addition to controlling the execution mode using the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/Execution.html">@Execution</a></code> annotation, JUnit
Jupiter provides another annotation-based declarative synchronization mechanism. The
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/ResourceLock.html">@ResourceLock</a></code> annotation allows you to declare that a test class or method uses a
specific shared resource that requires synchronized access to ensure reliable test
execution. The shared resource is identified by a unique name which is a <code>String</code>. The
name can be user-defined or one of the predefined constants in <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/Resources.html">Resources</a></code>:
<code>SYSTEM_PROPERTIES</code>, <code>SYSTEM_OUT</code>, <code>SYSTEM_ERR</code>, <code>LOCALE</code>, or <code>TIME_ZONE</code>.</p>
</div>
<div class="paragraph">
<p>If the tests in the following example were run in parallel <em>without</em> the use of
<a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/ResourceLock.html">@ResourceLock</a>, they would be <em>flaky</em>. Sometimes they would pass, and at other times they
would fail due to the inherent race condition of writing and then reading the same JVM
System Property.</p>
</div>
<div class="paragraph">
<p>When access to shared resources is declared using the <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/ResourceLock.html">@ResourceLock</a> annotation, the
JUnit Jupiter engine uses this information to ensure that no conflicting tests are run in
parallel.</p>
</div>
<div class="paragraph">
<p>In addition to the <code>String</code> that uniquely identifies the shared resource, you may specify
an access mode. Two tests that require <code>READ</code> access to a shared resource may run in
parallel with each other but not while any other test that requires <code>READ_WRITE</code> access
to the same shared resource is running.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Execution</span>(CONCURRENT)
<span class="type">class</span> <span class="class">SharedResourcesDemo</span> {

    <span class="directive">private</span> <span class="predefined-type">Properties</span> backup;

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> backup() {
        backup = <span class="keyword">new</span> <span class="predefined-type">Properties</span>();
        backup.putAll(<span class="predefined-type">System</span>.getProperties());
    }

    <span class="annotation">@AfterEach</span>
    <span class="type">void</span> restore() {
        <span class="predefined-type">System</span>.setProperties(backup);
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@ResourceLock</span>(value = SYSTEM_PROPERTIES, mode = READ)
    <span class="type">void</span> customPropertyIsNotSetByDefault() {
        assertNull(<span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">my.prop</span><span class="delimiter">"</span></span>));
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@ResourceLock</span>(value = SYSTEM_PROPERTIES, mode = READ_WRITE)
    <span class="type">void</span> canSetCustomPropertyToApple() {
        <span class="predefined-type">System</span>.setProperty(<span class="string"><span class="delimiter">"</span><span class="content">my.prop</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>);
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>, <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">my.prop</span><span class="delimiter">"</span></span>));
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@ResourceLock</span>(value = SYSTEM_PROPERTIES, mode = READ_WRITE)
    <span class="type">void</span> canSetCustomPropertyToBanana() {
        <span class="predefined-type">System</span>.setProperty(<span class="string"><span class="delimiter">"</span><span class="content">my.prop</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>);
        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>, <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">my.prop</span><span class="delimiter">"</span></span>));
    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="writing-tests-built-in-extensions"><a class="anchor" href="#writing-tests-built-in-extensions"></a>2.20. Built-in Extensions</h3>
<div class="paragraph">
<p>While the JUnit team encourages reusable extensions to be packaged and maintained in
separate libraries, the JUnit Jupiter API artifact includes a few user-facing extension
implementations that are considered so generally useful that users shouldn’t have to add
another dependency.</p>
</div>
<div class="sect3">
<h4 id="writing-tests-built-in-extensions-TempDirectory"><a class="anchor" href="#writing-tests-built-in-extensions-TempDirectory"></a>2.20.1. The TempDirectory Extension</h4>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title"><code>@TempDir</code> is an experimental feature</div>
You’re invited to give it a try and provide feedback to the JUnit team so they
can improve and eventually <a href="#api-evolution">promote</a> this feature.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The built-in <code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TempDirectory.java">TempDirectory</a></code> extension is used to create and clean up a temporary
directory for an individual test or all tests in a test class. It is registered by
default. To use it, annotate a non-private field of type <code>java.nio.file.Path</code> or
<code>java.io.File</code> with <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/io/TempDir.html">@TempDir</a></code> or add a parameter of type <code>java.nio.file.Path</code> or
<code>java.io.File</code> annotated with <code>@TempDir</code> to a lifecycle method or test method.</p>
</div>
<div class="paragraph">
<p>For example, the following test declares a parameter annotated with <code>@TempDir</code> for a
single test method, creates and writes to a file in the temporary directory, and checks
its content.</p>
</div>
<div class="listingblock">
<div class="title">A test method that requires a temporary directory</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="type">void</span> writeItemsToFile(<span class="annotation">@TempDir</span> Path tempDir) <span class="directive">throws</span> <span class="exception">IOException</span> {
    Path file = tempDir.resolve(<span class="string"><span class="delimiter">"</span><span class="content">test.txt</span><span class="delimiter">"</span></span>);

    <span class="keyword">new</span> ListWriter(file).write(<span class="string"><span class="delimiter">"</span><span class="content">a</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">b</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">c</span><span class="delimiter">"</span></span>);

    assertEquals(singletonList(<span class="string"><span class="delimiter">"</span><span class="content">a,b,c</span><span class="delimiter">"</span></span>), Files.readAllLines(file));
}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<code>@TempDir</code> is not supported on constructor parameters. If you wish to retain a
single reference to a temp directory across lifecycle methods and the current test method,
please use field injection, by annotating a non-private instance field with <code>@TempDir</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following example stores a <em>shared</em> temporary directory in a <code>static</code> field. This
allows the same <code>sharedTempDir</code> to be used in all lifecycle methods and test methods of
the test class.</p>
</div>
<div class="listingblock">
<div class="title">A test class that shares a temporary directory across test methods</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">SharedTempDirectoryDemo</span> {

    <span class="annotation">@TempDir</span>
    <span class="directive">static</span> Path sharedTempDir;

    <span class="annotation">@Test</span>
    <span class="type">void</span> writeItemsToFile() <span class="directive">throws</span> <span class="exception">IOException</span> {
        Path file = sharedTempDir.resolve(<span class="string"><span class="delimiter">"</span><span class="content">test.txt</span><span class="delimiter">"</span></span>);

        <span class="keyword">new</span> ListWriter(file).write(<span class="string"><span class="delimiter">"</span><span class="content">a</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">b</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">c</span><span class="delimiter">"</span></span>);

        assertEquals(singletonList(<span class="string"><span class="delimiter">"</span><span class="content">a,b,c</span><span class="delimiter">"</span></span>), Files.readAllLines(file));
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> anotherTestThatUsesTheSameTempDir() {
        <span class="comment">// use sharedTempDir</span>
    }

}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="migrating-from-junit4"><a class="anchor" href="#migrating-from-junit4"></a>3. Migrating from JUnit 4</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although the JUnit Jupiter programming model and extension model will not support JUnit 4
features such as <code>Rules</code> and <code>Runners</code> natively, it is not expected that source code
maintainers will need to update all of their existing tests, test extensions, and custom
build test infrastructure to migrate to JUnit Jupiter.</p>
</div>
<div class="paragraph">
<p>Instead, JUnit provides a gentle migration path via a <em>JUnit Vintage test engine</em> which
allows existing tests based on JUnit 3 and JUnit 4 to be executed using the JUnit
Platform infrastructure. Since all classes and annotations specific to JUnit Jupiter
reside under a new <code>org.junit.jupiter</code> base package, having both JUnit 4 and JUnit
Jupiter in the classpath does not lead to any conflicts. It is therefore safe to maintain
existing JUnit 4 tests alongside JUnit Jupiter tests. Furthermore, since the JUnit team
will continue to provide maintenance and bug fix releases for the JUnit 4.x baseline,
developers have plenty of time to migrate to JUnit Jupiter on their own schedule.</p>
</div>
<div class="sect2">
<h3 id="migrating-from-junit4-running"><a class="anchor" href="#migrating-from-junit4-running"></a>3.1. Running JUnit 4 Tests on the JUnit Platform</h3>
<div class="paragraph">
<p>Just make sure that the <code>junit-vintage-engine</code> artifact is in your test runtime path. In
that case JUnit 3 and JUnit 4 tests will automatically be picked up by the JUnit Platform
launcher.</p>
</div>
<div class="paragraph">
<p>See the example projects in the <a href="https://github.com/junit-team/junit5-samples"><code>junit5-samples</code></a> repository to
find out how this is done with Gradle and Maven.</p>
</div>
<div class="sect3">
<h4 id="migrating-from-junit4-categories-support"><a class="anchor" href="#migrating-from-junit4-categories-support"></a>3.1.1. Categories Support</h4>
<div class="paragraph">
<p>For test classes or methods that are annotated with <code>@Category</code>, the <em>JUnit Vintage test
engine</em> exposes the category’s fully qualified class name as a tag of the corresponding
test identifier. For example, if a test method is annotated with
<code>@Category(Example.class)</code>, it will be tagged with <code>"com.acme.Example"</code>. Similar to the
<code>Categories</code> runner in JUnit 4, this information can be used to filter the discovered
tests before executing them (see <a href="#running-tests">Running Tests</a> for details).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="migrating-from-junit4-tips"><a class="anchor" href="#migrating-from-junit4-tips"></a>3.2. Migration Tips</h3>
<div class="paragraph">
<p>The following are topics that you should be aware of when migrating existing JUnit 4
tests to JUnit Jupiter.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Annotations reside in the <code>org.junit.jupiter.api</code> package.</p>
</li>
<li>
<p>Assertions reside in <code>org.junit.jupiter.api.Assertions</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Note that you may continue to use assertion methods from <code>org.junit.Assert</code> or any
other assertion library such as <a href="https://joel-costigliola.github.io/assertj/">AssertJ</a>, <a href="https://hamcrest.org/JavaHamcrest/">Hamcrest</a>, <a href="https://truth.dev/">Truth</a>, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Assumptions reside in <code>org.junit.jupiter.api.Assumptions</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Note that JUnit Jupiter 5.4 and later versions support methods from JUnit 4’s
<code>org.junit.Assume</code> class for assumptions. Specifically, JUnit Jupiter supports JUnit
4’s <code>AssumptionViolatedException</code> to signal that a test should be aborted instead of
marked as a failure.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>@Before</code> and <code>@After</code> no longer exist; use <code>@BeforeEach</code> and <code>@AfterEach</code> instead.</p>
</li>
<li>
<p><code>@BeforeClass</code> and <code>@AfterClass</code> no longer exist; use <code>@BeforeAll</code> and <code>@AfterAll</code>
instead.</p>
</li>
<li>
<p><code>@Ignore</code> no longer exists: use <code>@Disabled</code> or one of the other built-in
<a href="#writing-tests-conditional-execution">execution conditions</a> instead</p>
<div class="ulist">
<ul>
<li>
<p>See also <a href="#migrating-from-junit4-ignore-annotation-support">JUnit 4 @Ignore Support</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>@Category</code> no longer exists; use <code>@Tag</code> instead.</p>
</li>
<li>
<p><code>@RunWith</code> no longer exists; superseded by <code>@ExtendWith</code>.</p>
</li>
<li>
<p><code>@Rule</code> and <code>@ClassRule</code> no longer exist; superseded by <code>@ExtendWith</code> and
<code>@RegisterExtension</code></p>
<div class="ulist">
<ul>
<li>
<p>See also <a href="#migrating-from-junit4-rule-support">Limited JUnit 4 Rule Support</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="migrating-from-junit4-rule-support"><a class="anchor" href="#migrating-from-junit4-rule-support"></a>3.3. Limited JUnit 4 Rule Support</h3>
<div class="paragraph">
<p>As stated above, JUnit Jupiter does not and will not support JUnit 4 rules natively. The
JUnit team realizes, however, that many organizations, especially large ones, are likely
to have large JUnit 4 code bases that make use of custom rules. To serve these
organizations and enable a gradual migration path the JUnit team has decided to support a
selection of JUnit 4 rules verbatim within JUnit Jupiter. This support is based on
adapters and is limited to those rules that are semantically compatible to the JUnit
Jupiter extension model, i.e. those that do not completely change the overall execution
flow of the test.</p>
</div>
<div class="paragraph">
<p>The <code>junit-jupiter-migrationsupport</code> module from JUnit Jupiter currently supports the
following three <code>Rule</code> types including subclasses of these types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.junit.rules.ExternalResource</code> (including <code>org.junit.rules.TemporaryFolder</code>)</p>
</li>
<li>
<p><code>org.junit.rules.Verifier</code> (including <code>org.junit.rules.ErrorCollector</code>)</p>
</li>
<li>
<p><code>org.junit.rules.ExpectedException</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As in JUnit 4, Rule-annotated fields as well as methods are supported. By using these
class-level extensions on a test class such <code>Rule</code> implementations in legacy code bases
can be <em>left unchanged</em> including the JUnit 4 rule import statements.</p>
</div>
<div class="paragraph">
<p>This limited form of <code>Rule</code> support can be switched on by the class-level annotation
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.migrationsupport/org/junit/jupiter/migrationsupport/rules/EnableRuleMigrationSupport.html">@EnableRuleMigrationSupport</a></code>. This annotation is a <em>composed annotation</em> which enables
all rule migration support extensions: <code>VerifierSupport</code>, <code>ExternalResourceSupport</code>, and
<code>ExpectedExceptionSupport</code>. You may alternatively choose to annotate your test class with
<code>@EnableJUnit4MigrationSupport</code> which registers migration support for rules <em>and</em> JUnit
4’s <code>@Ignore</code> annotation (see <a href="#migrating-from-junit4-ignore-annotation-support">JUnit 4 @Ignore Support</a>).</p>
</div>
<div class="paragraph">
<p>However, if you intend to develop a new extension for JUnit 5 please use the new
extension model of JUnit Jupiter instead of the rule-based model of JUnit 4.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JUnit 4 <code>Rule</code> support in JUnit Jupiter is currently an <em>experimental</em> feature.
Consult the table in <a href="#api-evolution-experimental-apis">Experimental APIs</a> for detail.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="migrating-from-junit4-ignore-annotation-support"><a class="anchor" href="#migrating-from-junit4-ignore-annotation-support"></a>3.4. JUnit 4 @Ignore Support</h3>
<div class="paragraph">
<p>In order to provide a smooth migration path from JUnit 4 to JUnit Jupiter, the
<code>junit-jupiter-migrationsupport</code> module provides support for JUnit 4’s <code>@Ignore</code>
annotation analogous to Jupiter’s <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html">@Disabled</a></code> annotation.</p>
</div>
<div class="paragraph">
<p>To use <code>@Ignore</code> with JUnit Jupiter based tests, configure a <em>test</em> dependency on the
<code>junit-jupiter-migrationsupport</code> module in your build and then annotate your test class
with <code>@ExtendWith(IgnoreCondition.class)</code> or <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.migrationsupport/org/junit/jupiter/migrationsupport/EnableJUnit4MigrationSupport.html">@EnableJUnit4MigrationSupport</a></code> (which
automatically registers the <code>IgnoreCondition</code> along with
<a href="#migrating-from-junit4-rule-support">Limited JUnit 4 Rule Support</a>). The <code>IgnoreCondition</code> is an
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExecutionCondition.html">ExecutionCondition</a></code> that disables test classes or test methods that are annotated with
<code>@Ignore</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.Ignore</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.migrationsupport.EnableJUnit4MigrationSupport</span>;

<span class="comment">// @ExtendWith(IgnoreCondition.class)</span>
<span class="annotation">@EnableJUnit4MigrationSupport</span>
<span class="type">class</span> <span class="class">IgnoredTestsDemo</span> {

    <span class="annotation">@Ignore</span>
    <span class="annotation">@Test</span>
    <span class="type">void</span> testWillBeIgnored() {
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> testWillBeExecuted() {
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JUnit 4 <code>@Ignore</code> support in JUnit Jupiter is currently an <em>experimental</em>
feature. Consult the table in <a href="#api-evolution-experimental-apis">Experimental APIs</a> for detail.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-tests"><a class="anchor" href="#running-tests"></a>4. Running Tests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-tests-ide"><a class="anchor" href="#running-tests-ide"></a>4.1. IDE Support</h3>
<div class="sect3">
<h4 id="running-tests-ide-intellij-idea"><a class="anchor" href="#running-tests-ide-intellij-idea"></a>4.1.1. IntelliJ IDEA</h4>
<div class="paragraph">
<p>IntelliJ IDEA supports running tests on the JUnit Platform since version 2016.2. For
details please see the
<a href="https://blog.jetbrains.com/idea/2016/08/using-junit-5-in-intellij-idea/">post on the
IntelliJ IDEA blog</a>. Note, however, that it is recommended to use IDEA 2017.3 or newer
since these newer versions of IDEA will download the following JARs automatically based
on the API version used in the project: <code>junit-platform-launcher</code>,
<code>junit-jupiter-engine</code>, and <code>junit-vintage-engine</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
IntelliJ IDEA releases prior to IDEA 2017.3 bundle specific versions of JUnit 5.
Thus, if you want to use a newer version of JUnit Jupiter, execution of tests within the
IDE might fail due to version conflicts. In such cases, please follow the instructions
below to use a newer version of JUnit 5 than the one bundled with IntelliJ IDEA.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In order to use a different JUnit 5 version (e.g., 5.6.0), you may need to
include the corresponding versions of the <code>junit-platform-launcher</code>,
<code>junit-jupiter-engine</code>, and <code>junit-vintage-engine</code> JARs in the classpath.</p>
</div>
<div class="listingblock">
<div class="title">Additional Gradle Dependencies</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="comment">// Only needed to run tests in a version of IntelliJ IDEA that bundles older versions</span>
testRuntimeOnly(<span class="string"><span class="delimiter">"</span><span class="content">org.junit.platform:junit-platform-launcher:1.6.0</span><span class="delimiter">"</span></span>)
testRuntimeOnly(<span class="string"><span class="delimiter">"</span><span class="content">org.junit.jupiter:junit-jupiter-engine:5.6.0</span><span class="delimiter">"</span></span>)
testRuntimeOnly(<span class="string"><span class="delimiter">"</span><span class="content">org.junit.vintage:junit-vintage-engine:5.6.0</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Additional Maven Dependencies</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- Only needed to run tests in a version of IntelliJ IDEA that bundles older versions --&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.junit.platform<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>junit-platform-launcher<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.6.0<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>5.6.0<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.junit.vintage<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>junit-vintage-engine<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>5.6.0<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-ide-eclipse"><a class="anchor" href="#running-tests-ide-eclipse"></a>4.1.2. Eclipse</h4>
<div class="paragraph">
<p>Eclipse IDE offers support for the JUnit Platform since the Eclipse Oxygen.1a (4.7.1a)
release.</p>
</div>
<div class="paragraph">
<p>For more information on using JUnit 5 in Eclipse consult the official <em>Eclipse support
for JUnit 5</em> section of the
<a href="https://www.eclipse.org/eclipse/news/4.7.1a/#junit-5-support">Eclipse Project Oxygen.1a
(4.7.1a) - New and Noteworthy</a> documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-ide-netbeans"><a class="anchor" href="#running-tests-ide-netbeans"></a>4.1.3. NetBeans</h4>
<div class="paragraph">
<p>NetBeans offers support for JUnit Jupiter and the JUnit Platform since the
<a href="https://netbeans.apache.org/download/nb100/nb100.html">Apache NetBeans 10.0 release</a>.</p>
</div>
<div class="paragraph">
<p>For more information consult the JUnit 5 section of the
<a href="https://netbeans.apache.org/download/nb100/index.html#_junit_5">Apache NetBeans 10.0
release notes</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-ide-vscode"><a class="anchor" href="#running-tests-ide-vscode"></a>4.1.4. Visual Studio Code</h4>
<div class="paragraph">
<p><a href="https://code.visualstudio.com/">Visual Studio Code</a> supports JUnit Jupiter and the JUnit
Platform via the
<a href="https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test">Java Test
Runner</a> extension which is installed by default as part of the
<a href="https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack">Java
Extension Pack</a>.</p>
</div>
<div class="paragraph">
<p>For more information consult the <em>Testing</em> section of the
<a href="https://code.visualstudio.com/docs/languages/java#_testing">Java in Visual Studio Code</a>
documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-ide-other"><a class="anchor" href="#running-tests-ide-other"></a>4.1.5. Other IDEs</h4>
<div class="paragraph">
<p>If you are using an editor or IDE other than one of those listed in the previous sections,
the JUnit team provides two alternative solutions to assist you in using JUnit 5. You can
use the <a href="#running-tests-console-launcher">Console Launcher</a> manually — for example, from the command line — or execute tests with a <a href="#running-tests-junit-platform-runner">JUnit 4 based Runner</a> if
your IDE has built-in support for JUnit 4.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-tests-build"><a class="anchor" href="#running-tests-build"></a>4.2. Build Support</h3>
<div class="sect3">
<h4 id="running-tests-build-gradle"><a class="anchor" href="#running-tests-build-gradle"></a>4.2.1. Gradle</h4>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">The JUnit Platform Gradle Plugin has been discontinued</div>
<div class="paragraph">
<p>The <code>junit-platform-gradle-plugin</code> developed by the JUnit team was deprecated in JUnit
Platform 1.2 and discontinued in 1.3. Please switch to Gradle’s standard <code>test</code> task.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Starting with <a href="https://docs.gradle.org/4.6/release-notes.html">version 4.6</a>, Gradle provides
<a href="https://docs.gradle.org/current/userguide/java_testing.html#using_junit5">native support</a>
for executing tests on the JUnit Platform. To enable it, you just need to specify
<code>useJUnitPlatform()</code> within a <code>test</code> task declaration in <code>build.gradle</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">test {
    useJUnitPlatform()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Filtering by tags or engines is also supported:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">test {
    useJUnitPlatform {
        includeTags <span class="string"><span class="delimiter">'</span><span class="content">fast</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">smoke &amp; feature-a</span><span class="delimiter">'</span></span>
        <span class="comment">// excludeTags 'slow', 'ci'</span>
        includeEngines <span class="string"><span class="delimiter">'</span><span class="content">junit-jupiter</span><span class="delimiter">'</span></span>
        <span class="comment">// excludeEngines 'junit-vintage'</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please refer to the
<a href="https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_test">official Gradle documentation</a>
for a comprehensive list of options.</p>
</div>
<div class="sect4">
<h5 id="running-tests-build-gradle-config-params"><a class="anchor" href="#running-tests-build-gradle-config-params"></a>Configuration Parameters</h5>
<div class="paragraph">
<p>The standard Gradle <code>test</code> task currently does not provide a dedicated DSL to set JUnit
Platform <a href="#running-tests-config-params">configuration parameters</a> to influence test
discovery and execution. However, you can provide configuration parameters within the
build script via system properties (as shown below) or via the
<code>junit-platform.properties</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">test {
    <span class="comment">// ...</span>
    systemProperty <span class="string"><span class="delimiter">'</span><span class="content">junit.jupiter.conditions.deactivate</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">*</span><span class="delimiter">'</span></span>
    systemProperties = [
        <span class="string"><span class="delimiter">'</span><span class="content">junit.jupiter.extensions.autodetection.enabled</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">true</span><span class="delimiter">'</span></span>,
        <span class="string"><span class="delimiter">'</span><span class="content">junit.jupiter.testinstance.lifecycle.default</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">per_class</span><span class="delimiter">'</span></span>
    ]
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="running-tests-build-gradle-engines-configure"><a class="anchor" href="#running-tests-build-gradle-engines-configure"></a>Configuring Test Engines</h5>
<div class="paragraph">
<p>In order to run any tests at all, a <code>TestEngine</code> implementation must be on the classpath.</p>
</div>
<div class="paragraph">
<p>To configure support for JUnit Jupiter based tests, configure a <code>testImplementation</code> dependency
on the JUnit Jupiter API and a <code>testRuntimeOnly</code> dependency on the JUnit Jupiter <code>TestEngine</code>
implementation similar to the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">dependencies {
    testImplementation(<span class="string"><span class="delimiter">"</span><span class="content">org.junit.jupiter:junit-jupiter-api:5.6.0</span><span class="delimiter">"</span></span>)
    testRuntimeOnly(<span class="string"><span class="delimiter">"</span><span class="content">org.junit.jupiter:junit-jupiter-engine:5.6.0</span><span class="delimiter">"</span></span>)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The JUnit Platform can run JUnit 4 based tests as long as you configure a <code>testImplementation</code>
dependency on JUnit 4 and a <code>testRuntimeOnly</code> dependency on the JUnit Vintage <code>TestEngine</code>
implementation similar to the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">dependencies {
    testImplementation(<span class="string"><span class="delimiter">"</span><span class="content">junit:junit:4.13</span><span class="delimiter">"</span></span>)
    testRuntimeOnly(<span class="string"><span class="delimiter">"</span><span class="content">org.junit.vintage:junit-vintage-engine:5.6.0</span><span class="delimiter">"</span></span>)
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="running-tests-build-gradle-logging"><a class="anchor" href="#running-tests-build-gradle-logging"></a>Configuring Logging (optional)</h5>
<div class="paragraph">
<p>JUnit uses the Java Logging APIs in the <code>java.util.logging</code> package (a.k.a. <em>JUL</em>) to
emit warnings and debug information. Please refer to the official documentation of
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html">LogManager</a></code> for configuration options.</p>
</div>
<div class="paragraph">
<p>Alternatively, it’s possible to redirect log messages to other logging frameworks such as
<a href="https://logging.apache.org/log4j/2.x/">Log4j</a> or <a href="https://logback.qos.ch/">Logback</a>. To use a logging framework that provides a custom implementation of
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html">LogManager</a></code>, set the <code>java.util.logging.manager</code> system property to the <em>fully
qualified class name</em> of the <code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/LogManager.html">LogManager</a></code> implementation to use. The example below
demonstrates how to configure Log4j&nbsp;2.x (see <a href="https://logging.apache.org/log4j/2.x/log4j-jul/index.html">Log4j JDK Logging Adapter</a> for
details).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">test {
    systemProperty <span class="string"><span class="delimiter">'</span><span class="content">java.util.logging.manager</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">org.apache.logging.log4j.jul.LogManager</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other logging frameworks provide different means to redirect messages logged using
<code>java.util.logging</code>. For example, for <a href="https://logback.qos.ch/">Logback</a> you can use the
<a href="https://www.slf4j.org/legacy.html#jul-to-slf4j">JUL to SLF4J Bridge</a> by adding an
additional dependency to the runtime classpath.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-build-maven"><a class="anchor" href="#running-tests-build-maven"></a>4.2.2. Maven</h4>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">The JUnit Platform Maven Surefire Provider has been discontinued</div>
<div class="paragraph">
<p>The <code>junit-platform-surefire-provider</code>, which was originally developed by the JUnit team,
was deprecated in JUnit Platform 1.3 and discontinued in 1.4. Please use Maven Surefire’s
native support instead.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Starting with <a href="https://issues.apache.org/jira/browse/SUREFIRE-1330">version 2.22.0</a>, Maven
Surefire and Maven Failsafe provide
<a href="https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html">native support</a>
for executing tests on the JUnit Platform. The <code>pom.xml</code> file in the
<code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-maven">junit5-jupiter-starter-maven</a></code> project demonstrates how to use the Maven Surefire plugin
and can serve as a starting point for configuring your Maven build.</p>
</div>
<div class="sect4">
<h5 id="running-tests-build-maven-engines-configure"><a class="anchor" href="#running-tests-build-maven-engines-configure"></a>Configuring Test Engines</h5>
<div class="paragraph">
<p>In order to have Maven Surefire or Maven Failsafe run any tests at all, at least one
<code>TestEngine</code> implementation must be added to the test classpath.</p>
</div>
<div class="paragraph">
<p>To configure support for JUnit Jupiter based tests, configure <code>test</code> scoped dependencies
on the JUnit Jupiter API and the JUnit Jupiter <code>TestEngine</code> implementation similar to the
following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;dependencies&gt;</span>
    <span class="comment">&lt;!-- ... --&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-api<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>5.6.0<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>5.6.0<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Maven Surefire and Maven Failsafe can run JUnit 4 based tests alongside Jupiter tests as
long as you configure <code>test</code> scoped dependencies on JUnit 4 and the JUnit Vintage
<code>TestEngine</code> implementation similar to the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;dependencies&gt;</span>
    <span class="comment">&lt;!-- ... --&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>4.13<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.junit.vintage<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>junit-vintage-engine<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>5.6.0<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="running-tests-build-maven-filter-test-class-names"><a class="anchor" href="#running-tests-build-maven-filter-test-class-names"></a>Filtering by Test Class Names</h5>
<div class="paragraph">
<p>The Maven Surefire Plugin will scan for test classes whose fully qualified names match
the following patterns.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>**/Test*.java</code></p>
</li>
<li>
<p><code>**/*Test.java</code></p>
</li>
<li>
<p><code>**/*Tests.java</code></p>
</li>
<li>
<p><code>**/*TestCase.java</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Moreover, it will exclude all nested classes (including static member classes) by default.</p>
</div>
<div class="paragraph">
<p>Note, however, that you can override this default behavior by configuring explicit
<code>include</code> and <code>exclude</code> rules in your <code>pom.xml</code> file. For example, to keep Maven Surefire
from excluding static member classes, you can override its exclude rules as follows.</p>
</div>
<div class="listingblock">
<div class="title">Overriding exclude rules of Maven Surefire</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;excludes&gt;</span>
                    <span class="tag">&lt;exclude</span><span class="tag">/&gt;</span>
                <span class="tag">&lt;/excludes&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Please see the
<a href="https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html">Inclusions and Exclusions of Tests</a>
documentation for Maven Surefire for details.</p>
</div>
</div>
<div class="sect4">
<h5 id="running-tests-build-maven-filter-tags"><a class="anchor" href="#running-tests-build-maven-filter-tags"></a>Filtering by Tags</h5>
<div class="paragraph">
<p>You can filter tests by tags or <a href="#running-tests-tag-expressions">tag expressions</a> using
the following configuration properties.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to include <em>tags</em> or <em>tag expressions</em>, use <code>groups</code>.</p>
</li>
<li>
<p>to exclude <em>tags</em> or <em>tag expressions</em>, use <code>excludedGroups</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;groups&gt;</span>acceptance | !feature-a<span class="tag">&lt;/groups&gt;</span>
                <span class="tag">&lt;excludedGroups&gt;</span>integration, regression<span class="tag">&lt;/excludedGroups&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="running-tests-build-maven-config-params"><a class="anchor" href="#running-tests-build-maven-config-params"></a>Configuration Parameters</h5>
<div class="paragraph">
<p>You can set JUnit Platform <a href="#running-tests-config-params">configuration parameters</a> to
influence test discovery and execution by declaring the <code>configurationParameters</code>
property and providing key-value pairs using the Java <code>Properties</code> file syntax (as shown
below) or via the <code>junit-platform.properties</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;properties&gt;</span>
                    <span class="tag">&lt;configurationParameters&gt;</span>
                        junit.jupiter.conditions.deactivate = *
                        junit.jupiter.extensions.autodetection.enabled = true
                        junit.jupiter.testinstance.lifecycle.default = per_class
                    <span class="tag">&lt;/configurationParameters&gt;</span>
                <span class="tag">&lt;/properties&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-build-ant"><a class="anchor" href="#running-tests-build-ant"></a>4.2.3. Ant</h4>
<div class="paragraph">
<p>Starting with version <code>1.10.3</code> of <a href="https://ant.apache.org/">Ant</a>, a new
<a href="https://ant.apache.org/manual/Tasks/junitlauncher.html"><code>junitlauncher</code></a> task has
been introduced to provide native support for launching tests on the JUnit Platform. The
<code>junitlauncher</code> task is solely responsible for launching the JUnit Platform and passing
it the selected collection of tests. The JUnit Platform then delegates to registered test
engines to discover and execute the tests.</p>
</div>
<div class="paragraph">
<p>The <code>junitlauncher</code> task attempts to align as close as possible with native Ant
constructs such as
<a href="https://ant.apache.org/manual/Types/resources.html#collection">resource collections</a>
for allowing users to select the tests that they want executed by test engines. This
gives the task a consistent and natural feel when compared to many other core Ant tasks.</p>
</div>
<div class="paragraph">
<p>Starting with version <code>1.10.6</code> of Ant, the <code>junitlauncher</code> task supports
<a href="https://ant.apache.org/manual/Tasks/junitlauncher.html#fork">forking the tests in a separate JVM</a>.</p>
</div>
<div class="paragraph">
<p>The <code>build.xml</code> file in the <code><a href="https://github.com/junit-team/junit5-samples/tree/r5.6.0/junit5-jupiter-starter-ant">junit5-jupiter-starter-ant</a></code> project demonstrates how to use
the task and can serve as a starting point.</p>
</div>
<div class="sect4">
<h5 id="basic-usage"><a class="anchor" href="#basic-usage"></a>Basic Usage</h5>
<div class="paragraph">
<p>The following example demonstrates how to configure the <code>junitlauncher</code> task to select a
single test class (i.e., <code>org.myapp.test.MyFirstJUnit5Test</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;path</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">test.classpath</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- The location where you have your compiled classes --&gt;</span>
    <span class="tag">&lt;pathelement</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">${build.classes.dir}</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/path&gt;</span>

<span class="comment">&lt;!-- ... --&gt;</span>

<span class="tag">&lt;junitlauncher&gt;</span>
    <span class="tag">&lt;classpath</span> <span class="attribute-name">refid</span>=<span class="string"><span class="delimiter">"</span><span class="content">test.classpath</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;test</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">org.myapp.test.MyFirstJUnit5Test</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/junitlauncher&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>test</code> element allows you to specify a single test class that you want to be selected
and executed. The <code>classpath</code> element allows you to specify the classpath to be used to
launch the JUnit Platform. This classpath will also be used to locate test classes that
are part of the execution.</p>
</div>
<div class="paragraph">
<p>The following example demonstrates how to configure the <code>junitlauncher</code> task to select
test classes from multiple locations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;path</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">test.classpath</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
    <span class="comment">&lt;!-- The location where you have your compiled classes --&gt;</span>
    <span class="tag">&lt;pathelement</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">${build.classes.dir}</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/path&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span>
<span class="tag">&lt;junitlauncher&gt;</span>
    <span class="tag">&lt;classpath</span> <span class="attribute-name">refid</span>=<span class="string"><span class="delimiter">"</span><span class="content">test.classpath</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
    <span class="tag">&lt;testclasses</span> <span class="attribute-name">outputdir</span>=<span class="string"><span class="delimiter">"</span><span class="content">${output.dir}</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;fileset</span> <span class="attribute-name">dir</span>=<span class="string"><span class="delimiter">"</span><span class="content">${build.classes.dir}</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;include</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">org/example/**/demo/**/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/fileset&gt;</span>
        <span class="tag">&lt;fileset</span> <span class="attribute-name">dir</span>=<span class="string"><span class="delimiter">"</span><span class="content">${some.other.dir}</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;include</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">org/myapp/**/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/fileset&gt;</span>
    <span class="tag">&lt;/testclasses&gt;</span>
<span class="tag">&lt;/junitlauncher&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, the <code>testclasses</code> element allows you to select multiple test
classes that reside in different locations.</p>
</div>
<div class="paragraph">
<p>For further details on usage and configuration options please refer to the official Ant
documentation for the
<a href="https://ant.apache.org/manual/Tasks/junitlauncher.html"><code>junitlauncher</code> task</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-tests-console-launcher"><a class="anchor" href="#running-tests-console-launcher"></a>4.3. Console Launcher</h3>
<div class="paragraph">
<p>The <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.console/org/junit/platform/console/ConsoleLauncher.html">ConsoleLauncher</a></code> is a command-line Java application that lets you launch the JUnit
Platform from the console. For example, it can be used to run JUnit Vintage and JUnit
Jupiter tests and print test execution results to the console.</p>
</div>
<div class="paragraph">
<p>An executable <code>junit-platform-console-standalone-1.6.0.jar</code> with all
dependencies included is published in the <a href="https://search.maven.org/">Maven Central</a> repository under the
<a href="https://repo1.maven.org/maven2/org/junit/platform/junit-platform-console-standalone">junit-platform-console-standalone</a>
directory. You can <a href="https://docs.oracle.com/javase/tutorial/deployment/jar/run.html">run</a>
the standalone <code>ConsoleLauncher</code> as shown below.</p>
</div>
<div class="paragraph">
<p><code>java -jar junit-platform-console-standalone-1.6.0.jar &lt;<a href="#running-tests-console-launcher-options">Options</a>&gt;</code></p>
</div>
<div class="paragraph">
<p>Here’s an example of its output:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>├─ JUnit Vintage
│  └─ example.JUnit4Tests
│     └─ standardJUnit4Test ✔
└─ JUnit Jupiter
   ├─ StandardTests
   │  ├─ succeedingTest() ✔
   │  └─ skippedTest() ↷ for demonstration purposes
   └─ A special test case
      ├─ Custom test name containing spaces ✔
      ├─ ╯°□°）╯ ✔
      └─ 😱 ✔

Test run finished after 64 ms
[         5 containers found      ]
[         0 containers skipped    ]
[         5 containers started    ]
[         0 containers aborted    ]
[         5 containers successful ]
[         0 containers failed     ]
[         6 tests found           ]
[         1 tests skipped         ]
[         5 tests started         ]
[         0 tests aborted         ]
[         5 tests successful      ]
[         0 tests failed          ]</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Exit Code</div>
The <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.console/org/junit/platform/console/ConsoleLauncher.html">ConsoleLauncher</a></code> exits with a status code of <code>1</code> if any containers or tests
failed. If no tests are discovered and the <code>--fail-if-no-tests</code> command-line option is
supplied, the <code>ConsoleLauncher</code> exits with a status code of <code>2</code>. Otherwise the exit code
is <code>0</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="running-tests-console-launcher-options"><a class="anchor" href="#running-tests-console-launcher-options"></a>4.3.1. Options</h4>
<div class="listingblock">
<div class="content">
<pre>Thanks for using JUnit! Support its development at https://junit.org/sponsoring

Usage: ConsoleLauncher [-h] [--disable-ansi-colors] [--disable-banner]
                       [--fail-if-no-tests] [--scan-modules] [--scan-classpath[=PATH[;|:
                       PATH...]]]... [--details=MODE] [--details-theme=THEME]
                       [--reports-dir=DIR] [-c=CLASS]... [--config=KEY=VALUE]... [-cp=PATH
                       [;|:PATH...]]... [-d=DIR]... [-e=ID]... [-E=ID]...
                       [--exclude-package=PKG]... [-f=FILE]... [--include-package=PKG]...
                       [-m=NAME]... [-n=PATTERN]... [-N=PATTERN]... [-o=NAME]...
                       [-p=PKG]... [-r=RESOURCE]... [-t=TAG]... [-T=TAG]... [-u=URI]...
Launches the JUnit Platform from the console.
  -h, --help                 Display help information.
      --disable-ansi-colors  Disable ANSI colors in output (not supported by all
                               terminals).
      --disable-banner       Disable print out of the welcome message.
      --details=MODE         Select an output details mode for when tests are executed.
                               Use one of: none, summary, flat, tree, verbose. If 'none'
                               is selected, then only the summary and test failures are
                               shown. Default: tree.
      --details-theme=THEME  Select an output details tree theme for when tests are
                               executed. Use one of: ascii, unicode. Default: unicode.
      -cp, --classpath, --class-path=PATH[;|:PATH...]
                             Provide additional classpath entries -- for example, for
                               adding engines and their dependencies. This option can be
                               repeated.
      --fail-if-no-tests     Fail and return exit status code 2 if no tests are found.
      --reports-dir=DIR      Enable report output into a specified local directory (will
                               be created if it does not exist).
      --scan-modules         EXPERIMENTAL: Scan all resolved modules for test discovery.
  -o, --select-module=NAME   EXPERIMENTAL: Select single module for test discovery. This
                               option can be repeated.
      --scan-classpath, --scan-class-path[=PATH[;|:PATH...]]
                             Scan all directories on the classpath or explicit classpath
                               roots. Without arguments, only directories on the system
                               classpath as well as additional classpath entries supplied
                               via -cp (directories and JAR files) are scanned. Explicit
                               classpath roots that are not on the classpath will be
                               silently ignored. This option can be repeated.
  -u, --select-uri=URI       Select a URI for test discovery. This option can be repeated.
  -f, --select-file=FILE     Select a file for test discovery. This option can be
                               repeated.
  -d, --select-directory=DIR Select a directory for test discovery. This option can be
                               repeated.
  -p, --select-package=PKG   Select a package for test discovery. This option can be
                               repeated.
  -c, --select-class=CLASS   Select a class for test discovery. This option can be
                               repeated.
  -m, --select-method=NAME   Select a method for test discovery. This option can be
                               repeated.
  -r, --select-resource=RESOURCE
                             Select a classpath resource for test discovery. This option
                               can be repeated.
  -n, --include-classname=PATTERN
                             Provide a regular expression to include only classes whose
                               fully qualified names match. To avoid loading classes
                               unnecessarily, the default pattern only includes class
                               names that begin with "Test" or end with "Test" or
                               "Tests". When this option is repeated, all patterns will
                               be combined using OR semantics. Default: [^(Test.*|.+[.$]
                               Test.*|.*Tests?)$]
  -N, --exclude-classname=PATTERN
                             Provide a regular expression to exclude those classes whose
                               fully qualified names match. When this option is repeated,
                               all patterns will be combined using OR semantics.
      --include-package=PKG  Provide a package to be included in the test run. This
                               option can be repeated.
      --exclude-package=PKG  Provide a package to be excluded from the test run. This
                               option can be repeated.
  -t, --include-tag=TAG      Provide a tag or tag expression to include only tests whose
                               tags match. When this option is repeated, all patterns
                               will be combined using OR semantics.
  -T, --exclude-tag=TAG      Provide a tag or tag expression to exclude those tests whose
                               tags match. When this option is repeated, all patterns
                               will be combined using OR semantics.
  -e, --include-engine=ID    Provide the ID of an engine to be included in the test run.
                               This option can be repeated.
  -E, --exclude-engine=ID    Provide the ID of an engine to be excluded from the test
                               run. This option can be repeated.
      --config=KEY=VALUE     Set a configuration parameter for test discovery and
                               execution. This option can be repeated.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-console-launcher-argument-files"><a class="anchor" href="#running-tests-console-launcher-argument-files"></a>4.3.2. Argument Files (@-files)</h4>
<div class="paragraph">
<p>On some platforms you may run into system limitations on the length of a command line
when creating a command line with lots of options or with long arguments.</p>
</div>
<div class="paragraph">
<p>Since version 1.3, the <code>ConsoleLauncher</code> supports <em>argument files</em>, also known as
<em>@-files</em>. Argument files are files that themselves contain arguments to be passed to the
command. When the underlying <a href="https://github.com/remkop/picocli">picocli</a> command line
parser encounters an argument beginning with the character <code>@</code>, it expands the contents
of that file into the argument list.</p>
</div>
<div class="paragraph">
<p>The arguments within a file can be separated by spaces or newlines. If an argument
contains embedded whitespace, the whole argument should be wrapped in double or single
quotes — for example, <code>"-f=My Files/Stuff.java"</code>.</p>
</div>
<div class="paragraph">
<p>If the argument file does not exist or cannot be read, the argument will be treated
literally and will not be removed. This will likely result in an "unmatched argument"
error message. You can troubleshoot such errors by executing the command with the
<code>picocli.trace</code> system property set to <code>DEBUG</code>.</p>
</div>
<div class="paragraph">
<p>Multiple <em>@-files</em> may be specified on the command line. The specified path may be
relative to the current directory or absolute.</p>
</div>
<div class="paragraph">
<p>You can pass a real parameter with an initial <code>@</code> character by escaping it with an
additional <code>@</code> symbol. For example, <code>@@somearg</code> will become <code>@somearg</code> and will not be
subject to expansion.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-tests-junit-platform-runner"><a class="anchor" href="#running-tests-junit-platform-runner"></a>4.4. Using JUnit 4 to run the JUnit Platform</h3>
<div class="paragraph">
<p>The <code>JUnitPlatform</code> runner is a JUnit 4 based <code>Runner</code> which enables you to run any test
whose programming model is supported on the JUnit Platform in a JUnit 4 environment — for example, a JUnit Jupiter test class.</p>
</div>
<div class="paragraph">
<p>Annotating a class with <code>@RunWith(JUnitPlatform.class)</code> allows it to be run with IDEs and
build systems that support JUnit 4 but do not yet support the JUnit Platform directly.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Since the JUnit Platform has features that JUnit 4 does not have, the runner is
only able to support a subset of the JUnit Platform functionality, especially with regard
to reporting (see <a href="#running-tests-junit-platform-runner-technical-names">Display Names vs. Technical Names</a>). But for the
time being the <code>JUnitPlatform</code> runner is an easy way to get started.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="running-tests-junit-platform-runner-setup"><a class="anchor" href="#running-tests-junit-platform-runner-setup"></a>4.4.1. Setup</h4>
<div class="paragraph">
<p>You need the following artifacts and their dependencies on the classpath. See
<a href="#dependency-metadata">Dependency Metadata</a> for details regarding group IDs, artifact IDs, and versions.</p>
</div>
<div class="sect4">
<h5 id="explicit-dependencies"><a class="anchor" href="#explicit-dependencies"></a>Explicit Dependencies</h5>
<div class="ulist">
<ul>
<li>
<p><code>junit-platform-runner</code> in <em>test</em> scope: location of the <code>JUnitPlatform</code> runner</p>
</li>
<li>
<p><code>junit-4.13.jar</code> in <em>test</em> scope: to run tests using JUnit 4</p>
</li>
<li>
<p><code>junit-jupiter-api</code> in <em>test</em> scope: API for writing tests using JUnit Jupiter,
including <code>@Test</code>, etc.</p>
</li>
<li>
<p><code>junit-jupiter-engine</code> in <em>test runtime</em> scope: implementation of the <code>TestEngine</code> API
for JUnit Jupiter</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="transitive-dependencies"><a class="anchor" href="#transitive-dependencies"></a>Transitive Dependencies</h5>
<div class="ulist">
<ul>
<li>
<p><code>junit-platform-suite-api</code> in <em>test</em> scope</p>
</li>
<li>
<p><code>junit-platform-launcher</code> in <em>test</em> scope</p>
</li>
<li>
<p><code>junit-platform-engine</code> in <em>test</em> scope</p>
</li>
<li>
<p><code>junit-platform-commons</code> in <em>test</em> scope</p>
</li>
<li>
<p><code>opentest4j</code> in <em>test</em> scope</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-junit-platform-runner-technical-names"><a class="anchor" href="#running-tests-junit-platform-runner-technical-names"></a>4.4.2. Display Names vs. Technical Names</h4>
<div class="paragraph">
<p>To define a custom <em>display name</em> for the class run via <code>@RunWith(JUnitPlatform.class)</code>
simply annotate the class with <code>@SuiteDisplayName</code> and provide a custom value.</p>
</div>
<div class="paragraph">
<p>By default, <em>display names</em> will be used for test artifacts; however, when the
<code>JUnitPlatform</code> runner is used to execute tests with a build tool such as Gradle or
Maven, the generated test report often needs to include the <em>technical names</em> of test
artifacts — for example, fully qualified class names — instead of shorter display names
like the simple name of a test class or a custom display name containing special
characters. To enable technical names for reporting purposes, simply declare the
<code>@UseTechnicalNames</code> annotation alongside <code>@RunWith(JUnitPlatform.class)</code>.</p>
</div>
<div class="paragraph">
<p>Note that the presence of <code>@UseTechnicalNames</code> overrides any custom display name
configured via <code>@SuiteDisplayName</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-junit-platform-runner-single-test"><a class="anchor" href="#running-tests-junit-platform-runner-single-test"></a>4.4.3. Single Test Class</h4>
<div class="paragraph">
<p>One way to use the <code>JUnitPlatform</code> runner is to annotate a test class with
<code>@RunWith(JUnitPlatform.class)</code> directly. Please note that the test methods in the
following example are annotated with <code>org.junit.jupiter.api.Test</code> (JUnit Jupiter), not
<code>org.junit.Test</code> (JUnit 4). Moreover, in this case the test class must be <code>public</code>;
otherwise, some IDEs and build tools might not recognize it as a JUnit 4 test class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.fail</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.runner.JUnitPlatform</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.RunWith</span>;

<span class="annotation">@RunWith</span>(JUnitPlatform.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">JUnitPlatformClassDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> succeedingTest() {
        <span class="comment">/* no-op */</span>
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> failingTest() {
        fail(<span class="string"><span class="delimiter">"</span><span class="content">Failing for failing's sake.</span><span class="delimiter">"</span></span>);
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="running-tests-junit-platform-runner-test-suite"><a class="anchor" href="#running-tests-junit-platform-runner-test-suite"></a>4.4.4. Test Suite</h4>
<div class="paragraph">
<p>If you have multiple test classes you can create a test suite as can be seen in the
following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.junit.platform.runner.JUnitPlatform</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.suite.api.SelectPackages</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.suite.api.SuiteDisplayName</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.RunWith</span>;

<span class="annotation">@RunWith</span>(JUnitPlatform.class)
<span class="annotation">@SuiteDisplayName</span>(<span class="string"><span class="delimiter">"</span><span class="content">JUnit Platform Suite Demo</span><span class="delimiter">"</span></span>)
<span class="annotation">@SelectPackages</span>(<span class="string"><span class="delimiter">"</span><span class="content">example</span><span class="delimiter">"</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">JUnitPlatformSuiteDemo</span> {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>JUnitPlatformSuiteDemo</code> will discover and run all tests in the <code>example</code> package and
its subpackages. By default, it will only include test classes whose names either begin
with <code>Test</code> or end with <code>Test</code> or <code>Tests</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Additional Configuration Options</div>
There are more configuration options for discovering and filtering tests than just
<code>@SelectPackages</code>. Please consult the Javadoc of the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/package-summary.html">org.junit.platform.suite.api</a></code> package for
further details.
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Test classes and suites annotated with <code>@RunWith(JUnitPlatform.class)</code>
<strong>cannot</strong> be executed directly on the JUnit Platform (or as a "JUnit 5" test as
documented in some IDEs). Such classes and suites can only be executed using JUnit 4
infrastructure.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-tests-config-params"><a class="anchor" href="#running-tests-config-params"></a>4.5. Configuration Parameters</h3>
<div class="paragraph">
<p>In addition to instructing the platform which test classes and test engines to include,
which packages to scan, etc., it is sometimes necessary to provide additional custom
configuration parameters that are specific to a particular test engine or registered
extension. For example, the JUnit Jupiter <code>TestEngine</code> supports <em>configuration
parameters</em> for the following use cases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#writing-tests-test-instance-lifecycle-changing-default">Changing the Default Test Instance Lifecycle</a></p>
</li>
<li>
<p><a href="#extensions-registration-automatic-enabling">Enabling Automatic Extension Detection</a></p>
</li>
<li>
<p><a href="#extensions-conditions-deactivation">Deactivating Conditions</a></p>
</li>
<li>
<p><a href="#writing-tests-display-name-generator-default">Setting the Default Display Name Generator</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Configuration Parameters</em> are text-based key-value pairs that can be supplied to test
engines running on the JUnit Platform via one of the following mechanisms.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>configurationParameter()</code> and <code>configurationParameters()</code> methods in the
<code>LauncherDiscoveryRequestBuilder</code> which is used to build a request supplied to the
<a href="#launcher-api"><code>Launcher</code> API</a>. When running tests via one of the tools provided
by the JUnit Platform you can specify configuration parameters as follows:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#running-tests-console-launcher">Console Launcher</a>: use the <code>--config</code>
command-line option.</p>
</li>
<li>
<p><a href="#running-tests-build-gradle-config-params">Gradle</a>: use the
<code>systemProperty</code> or <code>systemProperties</code> DSL.</p>
</li>
<li>
<p><a href="#running-tests-build-maven-config-params">Maven Surefire provider</a>: use the
<code>configurationParameters</code> property.</p>
</li>
</ul>
</div>
</li>
<li>
<p>JVM system properties.</p>
</li>
<li>
<p>The JUnit Platform configuration file: a file named <code>junit-platform.properties</code> in the
root of the class path that follows the syntax rules for a Java <code>Properties</code> file.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Configuration parameters are looked up in the exact order defined above.
Consequently, configuration parameters supplied directly to the <code>Launcher</code> take
precedence over those supplied via system properties and the configuration file.
Similarly, configuration parameters supplied via system properties take precedence over
those supplied via the configuration file.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="running-tests-tag-expressions"><a class="anchor" href="#running-tests-tag-expressions"></a>4.6. Tag Expressions</h3>
<div class="paragraph">
<p>Tag expressions are boolean expressions with the operators <code>!</code>, <code>&amp;</code> and <code>|</code>. In addition,
<code>(</code> and <code>)</code> can be used to adjust for operator precedence.</p>
</div>
<div class="paragraph">
<p>Two special expressions are supported, <code>any()</code> and <code>none()</code>, which select all tests <em>with</em>
any tags at all, and all tests <em>without</em> any tags, respectively.
These special expressions may be combined with other expressions just like normal tags.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Operators (in descending order of precedence)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Associativity</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">right</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">and</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">left</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">or</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">left</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you are tagging your tests across multiple dimensions, tag expressions help you to
select which tests to execute. When tagging by test type (e.g., <em>micro</em>, <em>integration</em>,
<em>end-to-end</em>) and feature (e.g., <strong>product</strong>, <strong>catalog</strong>, <strong>shipping</strong>), the following tag
expressions can be useful.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tag Expression</th>
<th class="tableblock halign-left valign-top">Selection</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">product</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all tests for <strong>product</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">catalog | shipping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all tests for <strong>catalog</strong> plus all tests for <strong>shipping</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">catalog &amp; shipping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all tests for the intersection between <strong>catalog</strong> and <strong>shipping</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">product &amp; !end-to-end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all tests for <strong>product</strong>, but not the <em>end-to-end</em> tests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(micro | integration) &amp; (product | shipping)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all <em>micro</em> or <em>integration</em> tests for <strong>product</strong> or <strong>shipping</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="running-tests-capturing-output"><a class="anchor" href="#running-tests-capturing-output"></a>4.7. Capturing Standard Output/Error</h3>
<div class="paragraph">
<p>Since version 1.3, the JUnit Platform provides opt-in support for capturing output
printed to <code>System.out</code> and <code>System.err</code>. To enable it, simply set the
<code>junit.platform.output.capture.stdout</code> and/or <code>junit.platform.output.capture.stderr</code>
<a href="#running-tests-config-params">configuration parameter</a> to <code>true</code>. In addition, you may
configure the maximum number of buffered bytes to be used per executed test or container
using <code>junit.platform.output.capture.maxBuffer</code>.</p>
</div>
<div class="paragraph">
<p>If enabled, the JUnit Platform captures the corresponding output and publishes it as a
report entry using the <code>stdout</code> or <code>stderr</code> keys to all registered
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code> instances immediately before reporting the test or container as
finished.</p>
</div>
<div class="paragraph">
<p>Please note that the captured output will only contain output emitted by the thread that
was used to execute a container or test. Any output by other threads will be omitted
because particularly when
<a href="#writing-tests-parallel-execution">executing tests in parallel</a> it would be impossible
to attribute it to a specific test or container.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Capturing output is currently an <em>experimental</em> feature. You’re invited to give
it a try and provide feedback to the JUnit team so they can improve and eventually
<a href="#api-evolution">promote</a> this feature.
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extensions"><a class="anchor" href="#extensions"></a>5. Extension Model</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="extensions-overview"><a class="anchor" href="#extensions-overview"></a>5.1. Overview</h3>
<div class="paragraph">
<p>In contrast to the competing <code>Runner</code>, <code>TestRule</code>, and <code>MethodRule</code> extension points in
JUnit 4, the JUnit Jupiter extension model consists of a single, coherent concept: the
<code>Extension</code> API. Note, however, that <code>Extension</code> itself is just a marker interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="extensions-registration"><a class="anchor" href="#extensions-registration"></a>5.2. Registering Extensions</h3>
<div class="paragraph">
<p>Extensions can be registered <em>declaratively</em> via
<a href="#extensions-registration-declarative"><code>@ExtendWith</code></a>, <em>programmatically</em> via
<a href="#extensions-registration-programmatic"><code>@RegisterExtension</code></a>, or <em>automatically</em> via
Java’s <a href="#extensions-registration-automatic"><code>ServiceLoader</code></a> mechanism.</p>
</div>
<div class="sect3">
<h4 id="extensions-registration-declarative"><a class="anchor" href="#extensions-registration-declarative"></a>5.2.1. Declarative Extension Registration</h4>
<div class="paragraph">
<p>Developers can register one or more extensions <em>declaratively</em> by annotating a test
interface, test class, test method, or custom <em><a href="#writing-tests-meta-annotations">composed
annotation</a></em> with <code>@ExtendWith(…​)</code> and supplying class references for the extensions
to register.</p>
</div>
<div class="paragraph">
<p>For example, to register a custom <code>RandomParametersExtension</code> for a particular test
method, you would annotate the test method as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExtendWith</span>(RandomParametersExtension.class)
<span class="annotation">@Test</span>
<span class="type">void</span> test(<span class="annotation">@Random</span> <span class="type">int</span> i) {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To register a custom <code>RandomParametersExtension</code> for all tests in a particular class and
its subclasses, you would annotate the test class as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExtendWith</span>(RandomParametersExtension.class)
<span class="type">class</span> <span class="class">MyTests</span> {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple extensions can be registered together like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExtendWith</span>({ DatabaseExtension.class, WebServerExtension.class })
<span class="type">class</span> <span class="class">MyFirstTests</span> {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As an alternative, multiple extensions can be registered separately like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExtendWith</span>(DatabaseExtension.class)
<span class="annotation">@ExtendWith</span>(WebServerExtension.class)
<span class="type">class</span> <span class="class">MySecondTests</span> {
    <span class="comment">// ...</span>
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Extension Registration Order</div>
<div class="paragraph">
<p>Extensions registered declaratively via <code>@ExtendWith</code> will be executed in the order in
which they are declared in the source code. For example, the execution of tests in both
<code>MyFirstTests</code> and <code>MySecondTests</code> will be extended by the <code>DatabaseExtension</code> and
<code>WebServerExtension</code>, <strong>in exactly that order</strong>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="extensions-registration-programmatic"><a class="anchor" href="#extensions-registration-programmatic"></a>5.2.2. Programmatic Extension Registration</h4>
<div class="paragraph">
<p>Developers can register extensions <em>programmatically</em> by annotating fields in test classes
with <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/RegisterExtension.html">@RegisterExtension</a></code>.</p>
</div>
<div class="paragraph">
<p>When an extension is registered <em>declaratively</em> via
<a href="#extensions-registration-declarative"><code>@ExtendWith</code></a>, it can typically only be configured
via annotations. In contrast, when an extension is registered via <code>@RegisterExtension</code>, it
can be configured <em>programmatically</em> — for example, in order to pass arguments to the
extension’s constructor, a static factory method, or a builder API.</p>
</div>
<div id="extensions-registration-programmatic-order" class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Extension Registration Order</div>
<div class="paragraph">
<p>By default, extensions registered programmatically via <code>@RegisterExtension</code> will be
ordered using an algorithm that is deterministic but intentionally nonobvious. This
ensures that subsequent runs of a test suite execute extensions in the same order, thereby
allowing for repeatable builds. However, there are times when extensions need to be
registered in an explicit order. To achieve that, annotate <code>@RegisterExtension</code> fields
with <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Order.html">@Order</a></code>.</p>
</div>
<div class="paragraph">
<p>Any <code>@RegisterExtension</code> field not annotated with <code>@Order</code> will be ordered using the
<em>default</em> order which has a value of <code>Integer.MAX_VALUE / 2</code>. This allows <code>@Order</code>
annotated extension fields to be explicitly ordered before or after non-annotated
extension fields. Extensions with an explicit order value less than the default order
value will be registered before non-annotated extensions. Similarly, extensions with an
explicit order value greater than the default order value will be registered after
non-annotated extensions. For example, assigning an extension an explicit order value that
is greater than the default order value allows <em>before</em> callback extensions to be
registered last and <em>after</em> callback extensions to be registered first, relative to other
programmatically registered extensions.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>@RegisterExtension</code> fields must not be <code>private</code> or <code>null</code> (at evaluation time) but
may be either <code>static</code> or non-static.
</td>
</tr>
</tbody></table>
</div>
<div class="sect4">
<h5 id="extensions-registration-programmatic-static-fields"><a class="anchor" href="#extensions-registration-programmatic-static-fields"></a>Static Fields</h5>
<div class="paragraph">
<p>If a <code>@RegisterExtension</code> field is <code>static</code>, the extension will be registered after
extensions that are registered at the class level via <code>@ExtendWith</code>. Such <em>static
extensions</em> are not limited in which extension APIs they can implement. Extensions
registered via static fields may therefore implement class-level and instance-level
extension APIs such as <code>BeforeAllCallback</code>, <code>AfterAllCallback</code>,
<code>TestInstancePostProcessor</code>, and <code>TestInstancePreDestroyCallback</code> as well as method-level
extension APIs such as <code>BeforeEachCallback</code>, etc.</p>
</div>
<div class="paragraph">
<p>In the following example, the <code>server</code> field in the test class is initialized
programmatically by using a builder pattern supported by the <code>WebServerExtension</code>. The
configured <code>WebServerExtension</code> will be automatically registered as an extension at the
class level — for example, in order to start the server before all tests in the class
and then stop the server after all tests in the class have completed. In addition, static
lifecycle methods annotated with <code>@BeforeAll</code> or <code>@AfterAll</code> as well as <code>@BeforeEach</code>,
<code>@AfterEach</code>, and <code>@Test</code> methods can access the instance of the extension via the
<code>server</code> field if necessary.</p>
</div>
<div class="listingblock">
<div class="title">An extension registered via a static field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">WebServerDemo</span> {

    <span class="annotation">@RegisterExtension</span>
    <span class="directive">static</span> WebServerExtension server = WebServerExtension.builder()
        .enableSecurity(<span class="predefined-constant">false</span>)
        .build();

    <span class="annotation">@Test</span>
    <span class="type">void</span> getProductList() {
        WebClient webClient = <span class="keyword">new</span> WebClient();
        <span class="predefined-type">String</span> serverUrl = server.getServerUrl();
        <span class="comment">// Use WebClient to connect to web server using serverUrl and verify response</span>
        assertEquals(<span class="integer">200</span>, webClient.get(serverUrl + <span class="string"><span class="delimiter">"</span><span class="content">/products</span><span class="delimiter">"</span></span>).getResponseStatus());
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="extensions-registration-programmatic-static-fields-kotlin"><a class="anchor" href="#extensions-registration-programmatic-static-fields-kotlin"></a>Static Fields in Kotlin</h5>
<div class="paragraph">
<p>The Kotlin programming language does not have the concept of a <code>static</code> field. However,
the compiler can be instructed to generate static fields using annotations. Since, as
stated earlier, <code>@RegisterExtension</code> fields must not be <code>private</code> nor <code>null</code>, one
<strong>cannot</strong> use the <code>@JvmStatic</code> annotation in Kotlin as it generates <code>private</code> fields.
Rather, the <code>@JvmField</code> annotation must be used.</p>
</div>
<div class="paragraph">
<p>The following example is a version of the <code>WebServerDemo</code> from the previous section that
has been ported to Kotlin.</p>
</div>
<div class="listingblock">
<div class="title">Registering an extension via a static field in Kotlin</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">KotlinWebServerDemo</span> {

    companion object {
        <span class="annotation">@JvmField</span>
        <span class="annotation">@RegisterExtension</span>
        val server = WebServerExtension.builder()
                .enableSecurity(<span class="predefined-constant">false</span>)
                .build()
    }

    <span class="annotation">@Test</span>
    fun getProductList() {
        <span class="comment">// Use WebClient to connect to web server using serverUrl and verify response</span>
        val webClient = WebClient()
        val serverUrl = server.serverUrl
        assertEquals(<span class="integer">200</span>, webClient.get(<span class="string"><span class="delimiter">"</span><span class="inline"><span class="inline-delimiter">$</span>serverUrl</span><span class="content">/products</span><span class="delimiter">"</span></span>).responseStatus)
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="extensions-registration-programmatic-instance-fields"><a class="anchor" href="#extensions-registration-programmatic-instance-fields"></a>Instance Fields</h5>
<div class="paragraph">
<p>If a <code>@RegisterExtension</code> field is non-static (i.e., an instance field), the extension
will be registered after the test class has been instantiated and after each registered
<code>TestInstancePostProcessor</code> has been given a chance to post-process the test instance
(potentially injecting the instance of the extension to be used into the annotated
field). Thus, if such an <em>instance extension</em> implements class-level or instance-level
extension APIs such as <code>BeforeAllCallback</code>, <code>AfterAllCallback</code>, or
<code>TestInstancePostProcessor</code>, those APIs will not be honored. By default, an instance
extension will be registered <em>after</em> extensions that are registered at the method level
via <code>@ExtendWith</code>; however, if the test class is configured with
<code>@TestInstance(Lifecycle.PER_CLASS)</code> semantics, an instance extension will be registered
<em>before</em> extensions that are registered at the method level via <code>@ExtendWith</code>.</p>
</div>
<div class="paragraph">
<p>In the following example, the <code>docs</code> field in the test class is initialized
programmatically by invoking a custom <code>lookUpDocsDir()</code> method and supplying the result
to the static <code>forPath()</code> factory method in the <code>DocumentationExtension</code>. The configured
<code>DocumentationExtension</code> will be automatically registered as an extension at the method
level. In addition, <code>@BeforeEach</code>, <code>@AfterEach</code>, and <code>@Test</code> methods can access the
instance of the extension via the <code>docs</code> field if necessary.</p>
</div>
<div class="listingblock">
<div class="title">An extension registered via an instance field</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">DocumentationDemo</span> {

    <span class="directive">static</span> Path lookUpDocsDir() {
        <span class="comment">// return path to docs dir</span>
    }

    <span class="annotation">@RegisterExtension</span>
    DocumentationExtension docs = DocumentationExtension.forPath(lookUpDocsDir());

    <span class="annotation">@Test</span>
    <span class="type">void</span> generateDocumentation() {
        <span class="comment">// use this.docs ...</span>
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="extensions-registration-automatic"><a class="anchor" href="#extensions-registration-automatic"></a>5.2.3. Automatic Extension Registration</h4>
<div class="paragraph">
<p>In addition to <a href="#extensions-registration-declarative">declarative extension registration</a>
and <a href="#extensions-registration-programmatic">programmatic extension registration</a> support
using annotations, JUnit Jupiter also supports <em>global extension registration</em> via Java’s
<code>java.util.ServiceLoader</code> mechanism, allowing third-party extensions to be auto-detected
and automatically registered based on what is available in the classpath.</p>
</div>
<div class="paragraph">
<p>Specifically, a custom extension can be registered by supplying its fully qualified class
name in a file named <code>org.junit.jupiter.api.extension.Extension</code> within the
<code>/META-INF/services</code> folder in its enclosing JAR file.</p>
</div>
<div class="sect4">
<h5 id="extensions-registration-automatic-enabling"><a class="anchor" href="#extensions-registration-automatic-enabling"></a>Enabling Automatic Extension Detection</h5>
<div class="paragraph">
<p>Auto-detection is an advanced feature and is therefore not enabled by default. To enable
it, simply set the <code>junit.jupiter.extensions.autodetection.enabled</code> <em>configuration
parameter</em> to <code>true</code>. This can be supplied as a JVM system property, as a <em>configuration
parameter</em> in the <code>LauncherDiscoveryRequest</code> that is passed to the <code>Launcher</code>, or via the
JUnit Platform configuration file (see <a href="#running-tests-config-params">Configuration Parameters</a> for details).</p>
</div>
<div class="paragraph">
<p>For example, to enable auto-detection of extensions, you can start your JVM with the
following system property.</p>
</div>
<div class="paragraph">
<p><code>-Djunit.jupiter.extensions.autodetection.enabled=true</code></p>
</div>
<div class="paragraph">
<p>When auto-detection is enabled, extensions discovered via the <code>ServiceLoader</code> mechanism
will be added to the extension registry after JUnit Jupiter’s global extensions (e.g.,
support for <code>TestInfo</code>, <code>TestReporter</code>, etc.).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="extensions-registration-inheritance"><a class="anchor" href="#extensions-registration-inheritance"></a>5.2.4. Extension Inheritance</h4>
<div class="paragraph">
<p>Registered extensions are inherited within test class hierarchies with top-down
semantics. Similarly, extensions registered at the class-level are inherited at the
method-level. Furthermore, a specific extension implementation can only be registered
once for a given extension context and its parent contexts. Consequently, any attempt to
register a duplicate extension implementation will be ignored.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-conditions"><a class="anchor" href="#extensions-conditions"></a>5.3. Conditional Test Execution</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExecutionCondition.html">ExecutionCondition</a></code> defines the <code>Extension</code> API for programmatic, <em>conditional test
execution</em>.</p>
</div>
<div class="paragraph">
<p>An <code>ExecutionCondition</code> is <em>evaluated</em> for each container (e.g., a test class) to
determine if all the tests it contains should be executed based on the supplied
<code>ExtensionContext</code>. Similarly, an <code>ExecutionCondition</code> is <em>evaluated</em> for each test to
determine if a given test method should be executed based on the supplied
<code>ExtensionContext</code>.</p>
</div>
<div class="paragraph">
<p>When multiple <code>ExecutionCondition</code> extensions are registered, a container or test is
disabled as soon as one of the conditions returns <em>disabled</em>. Thus, there is no guarantee
that a condition is evaluated because another extension might have already caused a
container or test to be disabled. In other words, the evaluation works like the
short-circuiting boolean OR operator.</p>
</div>
<div class="paragraph">
<p>See the source code of <code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/DisabledCondition.java">DisabledCondition</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Disabled.html">@Disabled</a></code> for concrete examples.</p>
</div>
<div class="sect3">
<h4 id="extensions-conditions-deactivation"><a class="anchor" href="#extensions-conditions-deactivation"></a>5.3.1. Deactivating Conditions</h4>
<div class="paragraph">
<p>Sometimes it can be useful to run a test suite <em>without</em> certain conditions being active.
For example, you may wish to run tests even if they are annotated with <code>@Disabled</code> in
order to see if they are still <em>broken</em>. To do this, simply provide a pattern for the
<code>junit.jupiter.conditions.deactivate</code> <em>configuration parameter</em> to specify which
conditions should be deactivated (i.e., not evaluated) for the current test run. The
pattern can be supplied as a JVM system property, as a <em>configuration parameter</em> in the
<code>LauncherDiscoveryRequest</code> that is passed to the <code>Launcher</code>, or via the JUnit Platform
configuration file (see <a href="#running-tests-config-params">Configuration Parameters</a> for details).</p>
</div>
<div class="paragraph">
<p>For example, to deactivate JUnit’s <code>@Disabled</code> condition, you can start your JVM with the
following system property.</p>
</div>
<div class="paragraph">
<p><code>-Djunit.jupiter.conditions.deactivate=org.junit.*DisabledCondition</code></p>
</div>
<div class="sect4">
<h5 id="extensions-conditions-deactivation-patterns"><a class="anchor" href="#extensions-conditions-deactivation-patterns"></a>Pattern Matching Syntax</h5>
<div class="paragraph">
<p>If the <code>junit.jupiter.conditions.deactivate</code> pattern consists solely of an asterisk
(<code>*</code>), all conditions will be deactivated. Otherwise, the pattern will be used to match
against the fully qualified class name (<em>FQCN</em>) of each registered condition. Any dot
(<code>.</code>) in the pattern will match against a dot (<code>.</code>) or a dollar sign (<code>$</code>) in the FQCN.
Any asterisk (<code>*</code>) will match against one or more characters in the FQCN. All other
characters in the pattern will be matched one-to-one against the FQCN.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>*</code>: deactivates all conditions.</p>
</li>
<li>
<p><code>org.junit.*</code>: deactivates every condition under the <code>org.junit</code> base package and any
of its subpackages.</p>
</li>
<li>
<p><code>*.MyCondition</code>: deactivates every condition whose simple class name is exactly
<code>MyCondition</code>.</p>
</li>
<li>
<p><code>*System*</code>: deactivates every condition whose simple class name contains <code>System</code>.</p>
</li>
<li>
<p><code>org.example.MyCondition</code>: deactivates the condition whose FQCN is exactly
<code>org.example.MyCondition</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-test-instance-factories"><a class="anchor" href="#extensions-test-instance-factories"></a>5.4. Test Instance Factories</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestInstanceFactory.html">TestInstanceFactory</a></code> defines the API for <code>Extensions</code> that wish to <em>create</em> test class
instances.</p>
</div>
<div class="paragraph">
<p>Common use cases include acquiring the test instance from a dependency injection
framework or invoking a static factory method to create the test class instance.</p>
</div>
<div class="paragraph">
<p>If no <code>TestInstanceFactory</code> is registered, the framework will simply invoke the <em>sole</em>
constructor for the test class to instantiate it, potentially resolving constructor
arguments via registered <code>ParameterResolver</code> extensions.</p>
</div>
<div class="paragraph">
<p>Extensions that implement <code>TestInstanceFactory</code> can be registered on test interfaces,
top-level test classes, or <code>@Nested</code> test classes.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Registering multiple extensions that implement <code>TestInstanceFactory</code> for any single class
will result in an exception being thrown for all tests in that class, in any subclass,
and in any nested class. Note that any <code>TestInstanceFactory</code> registered in a superclass
or <em>enclosing</em> class (i.e., in the case of a <code>@Nested</code> test class) is <em>inherited</em>. It is
the user’s responsibility to ensure that only a single <code>TestInstanceFactory</code> is
registered for any specific test class.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="extensions-test-instance-post-processing"><a class="anchor" href="#extensions-test-instance-post-processing"></a>5.5. Test Instance Post-processing</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestInstancePostProcessor.html">TestInstancePostProcessor</a></code> defines the API for <code>Extensions</code> that wish to <em>post
process</em> test instances.</p>
</div>
<div class="paragraph">
<p>Common use cases include injecting dependencies into the test instance, invoking custom
initialization methods on the test instance, etc.</p>
</div>
<div class="paragraph">
<p>For a concrete example, consult the source code for the <code><a href="https://github.com/mockito/mockito/blob/release/2.x/subprojects/junit-jupiter/src/main/java/org/mockito/junit/jupiter/MockitoExtension.java">MockitoExtension</a></code> and the
<code><a href="https://github.com/spring-projects/spring-framework/tree/master/spring-test/src/main/java/org/springframework/test/context/junit/jupiter/SpringExtension.java">SpringExtension</a></code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="extensions-test-instance-pre-destroy-callback"><a class="anchor" href="#extensions-test-instance-pre-destroy-callback"></a>5.6. Test Instance Pre-destroy Callback</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestInstancePreDestroyCallback.html">TestInstancePreDestroyCallback</a></code> defines the API for <code>Extensions</code> that wish to process
test instances <em>after</em> they have been used in tests and <em>before</em> they are destroyed.</p>
</div>
<div class="paragraph">
<p>Common use cases include cleaning dependencies that have been injected into the
test instance, invoking custom de-initialization methods on the test instance, etc.</p>
</div>
</div>
<div class="sect2">
<h3 id="extensions-parameter-resolution"><a class="anchor" href="#extensions-parameter-resolution"></a>5.7. Parameter Resolution</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html">ParameterResolver</a></code> defines the <code>Extension</code> API for dynamically resolving parameters at
runtime.</p>
</div>
<div class="paragraph">
<p>If a <em>test class</em> constructor, <em>test method</em>, or <em>lifecycle method</em> (see
<a href="#writing-tests-classes-and-methods">Test Classes and Methods</a>) declares a parameter, the parameter must be
<em>resolved</em> at runtime by a <code>ParameterResolver</code>. A <code>ParameterResolver</code> can either be
built-in (see <code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/TestInfoParameterResolver.java">TestInfoParameterResolver</a></code>) or <a href="#extensions-registration">registered by
the user</a>. Generally speaking, parameters may be resolved by <em>name</em>, <em>type</em>,
<em>annotation</em>, or any combination thereof.</p>
</div>
<div class="paragraph">
<p>If you wish to implement a custom <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html">ParameterResolver</a></code> that resolves parameters based
solely on the type of the parameter, you may find it convenient to extend the
<code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-api/src/main/java/org/junit/jupiter/api/extension/support/TypeBasedParameterResolver.java">TypeBasedParameterResolver</a></code> which serves as a generic adapter for such use cases.</p>
</div>
<div class="paragraph">
<p>For concrete examples, consult the source code for <code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/execution/injection/sample/CustomTypeParameterResolver.java">CustomTypeParameterResolver</a></code>,
<code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/execution/injection/sample/CustomAnnotationParameterResolver.java">CustomAnnotationParameterResolver</a></code>, and <code><a href="https://github.com/junit-team/junit5/tree/r5.6.0/junit-jupiter-engine/src/test/java/org/junit/jupiter/engine/execution/injection/sample/MapOfListsTypeBasedParameterResolver.java">MapOfListsTypeBasedParameterResolver</a></code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to a bug in the byte code generated by <code>javac</code> on JDK versions prior to JDK 9,
looking up annotations on parameters directly via the core <code>java.lang.reflect.Parameter</code>
API will always fail for <em>inner class</em> constructors (e.g., a constructor in a <code>@Nested</code>
test class).</p>
</div>
<div class="paragraph">
<p>The <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterContext.html">ParameterContext</a></code> API supplied to <code>ParameterResolver</code> implementations therefore
includes the following convenience methods for correctly looking up annotations on
parameters. Extension authors are strongly encouraged to use these methods instead of
those provided in <code>java.lang.reflect.Parameter</code> in order to avoid this bug in the JDK.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>boolean isAnnotated(Class&lt;? extends Annotation&gt; annotationType)</code></p>
</li>
<li>
<p><code>Optional&lt;A&gt; findAnnotation(Class&lt;A&gt; annotationType)</code></p>
</li>
<li>
<p><code>List&lt;A&gt; findRepeatableAnnotations(Class&lt;A&gt; annotationType)</code></p>
</li>
</ul>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="extensions-test-result-processing"><a class="anchor" href="#extensions-test-result-processing"></a>5.8. Test Result Processing</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestWatcher.html">TestWatcher</a></code> defines the API for extensions that wish to process the results of <em>test
method</em> executions. Specifically, a <code>TestWatcher</code> will be invoked with contextual
information for the following events.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>testDisabled</code>: invoked after a disabled <em>test method</em> has been skipped</p>
</li>
<li>
<p><code>testSuccessful</code>: invoked after a <em>test method</em> has completed successfully</p>
</li>
<li>
<p><code>testAborted</code>: invoked after a <em>test method</em> has been aborted</p>
</li>
<li>
<p><code>testFailed</code>: invoked after a <em>test method</em> has failed</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In contrast to the definition of "test method" presented in
<a href="#writing-tests-classes-and-methods">Test Classes and Methods</a>, in this context <em>test method</em> refers to any
<code>@Test</code> method or <code>@TestTemplate</code> method (for example, a <code>@RepeatedTest</code> or
<code>@ParameterizedTest</code>).
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Extensions implementing this interface can be registered at the method level or at the
class level. In the latter case they will be invoked for any contained <em>test method</em>
including those in <code>@Nested</code> classes.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Any instances of <code>ExtensionContext.Store.CloseableResource</code> stored in the <code>Store</code> of the
provided <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.html">ExtensionContext</a></code> will be closed <em>before</em> methods in this API are invoked (see
<a href="#extensions-keeping-state">Keeping State in Extensions</a>). You can use the parent context’s <code>Store</code> to work with such
resources.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="extensions-lifecycle-callbacks"><a class="anchor" href="#extensions-lifecycle-callbacks"></a>5.9. Test Lifecycle Callbacks</h3>
<div class="paragraph">
<p>The following interfaces define the APIs for extending tests at various points in the
test execution lifecycle. Consult the following sections for examples and the Javadoc for
each of these interfaces in the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/package-summary.html">org.junit.jupiter.api.extension</a></code> package for further details.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeAllCallback.html">BeforeAllCallback</a></code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeEachCallback.html">BeforeEachCallback</a></code></p>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeTestExecutionCallback.html">BeforeTestExecutionCallback</a></code></p>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterTestExecutionCallback.html">AfterTestExecutionCallback</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterEachCallback.html">AfterEachCallback</a></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterAllCallback.html">AfterAllCallback</a></code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Implementing Multiple Extension APIs</div>
Extension developers may choose to implement any number of these interfaces
within a single extension. Consult the source code of the <code><a href="https://github.com/spring-projects/spring-framework/tree/master/spring-test/src/main/java/org/springframework/test/context/junit/jupiter/SpringExtension.java">SpringExtension</a></code> for a
concrete example.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="extensions-lifecycle-callbacks-before-after-execution"><a class="anchor" href="#extensions-lifecycle-callbacks-before-after-execution"></a>5.9.1. Before and After Test Execution Callbacks</h4>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/BeforeTestExecutionCallback.html">BeforeTestExecutionCallback</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/AfterTestExecutionCallback.html">AfterTestExecutionCallback</a></code> define the APIs for
<code>Extensions</code> that wish to add behavior that will be executed <em>immediately before</em> and
<em>immediately after</em> a test method is executed, respectively. As such, these callbacks are
well suited for timing, tracing, and similar use cases. If you need to implement
callbacks that are invoked <em>around</em> <code>@BeforeEach</code> and <code>@AfterEach</code> methods, implement
<code>BeforeEachCallback</code> and <code>AfterEachCallback</code> instead.</p>
</div>
<div class="paragraph">
<p>The following example shows how to use these callbacks to calculate and log the execution
time of a test method. <code>TimingExtension</code> implements both <code>BeforeTestExecutionCallback</code>
and <code>AfterTestExecutionCallback</code> in order to time and log the test execution.</p>
</div>
<div id="extensions-lifecycle-callbacks-timing-extension" class="listingblock">
<div class="title">An extension that times and logs the execution of test methods</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.lang.reflect.Method</span>;
<span class="keyword">import</span> <span class="include">java.util.logging.Logger</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.AfterTestExecutionCallback</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.BeforeTestExecutionCallback</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtensionContext</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtensionContext.Namespace</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtensionContext.Store</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">TimingExtension</span> <span class="directive">implements</span> BeforeTestExecutionCallback, AfterTestExecutionCallback {

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Logger</span> logger = <span class="predefined-type">Logger</span>.getLogger(TimingExtension.class.getName());

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> START_TIME = <span class="string"><span class="delimiter">"</span><span class="content">start time</span><span class="delimiter">"</span></span>;

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> beforeTestExecution(ExtensionContext context) <span class="directive">throws</span> <span class="exception">Exception</span> {
        getStore(context).put(START_TIME, <span class="predefined-type">System</span>.currentTimeMillis());
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> afterTestExecution(ExtensionContext context) <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="predefined-type">Method</span> testMethod = context.getRequiredTestMethod();
        <span class="type">long</span> startTime = getStore(context).remove(START_TIME, <span class="type">long</span>.class);
        <span class="type">long</span> duration = <span class="predefined-type">System</span>.currentTimeMillis() - startTime;

        logger.info(() -&gt;
            <span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">"</span><span class="content">Method [%s] took %s ms.</span><span class="delimiter">"</span></span>, testMethod.getName(), duration));
    }

    <span class="directive">private</span> Store getStore(ExtensionContext context) {
        <span class="keyword">return</span> context.getStore(Namespace.create(getClass(), context.getRequiredTestMethod()));
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the <code>TimingExtensionTests</code> class registers the <code>TimingExtension</code> via <code>@ExtendWith</code>,
its tests will have this timing applied when they execute.</p>
</div>
<div class="listingblock">
<div class="title">A test class that uses the example TimingExtension</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ExtendWith</span>(TimingExtension.class)
<span class="type">class</span> <span class="class">TimingExtensionTests</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> sleep20ms() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="predefined-type">Thread</span>.sleep(<span class="integer">20</span>);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> sleep50ms() <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="predefined-type">Thread</span>.sleep(<span class="integer">50</span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following is an example of the logging produced when <code>TimingExtensionTests</code> is run.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>INFO: Method [sleep20ms] took 24 ms.
INFO: Method [sleep50ms] took 53 ms.</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-exception-handling"><a class="anchor" href="#extensions-exception-handling"></a>5.10. Exception Handling</h3>
<div class="paragraph">
<p>Exceptions thrown during the test execution may be intercepted and handled accordingly
before propagating further, so that certain actions like error logging or resource releasing
may be defined in specialized <code>Extensions</code>. JUnit Jupiter offers API for <code>Extensions</code> that
wish to handle exceptions thrown during <code>@Test</code> methods via <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestExecutionExceptionHandler.html">TestExecutionExceptionHandler</a></code>
and for those thrown during one of test lifecycle methods (<code>@BeforeAll</code>, <code>@BeforeEach</code>,
<code>@AfterEach</code> and <code>@AfterAll</code>) via <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/LifecycleMethodExecutionExceptionHandler.html">LifecycleMethodExecutionExceptionHandler</a></code>.</p>
</div>
<div class="paragraph">
<p>The following example shows an extension which will swallow all instances of <code>IOException</code>
but rethrow any other type of exception.</p>
</div>
<div class="listingblock">
<div class="title">An exception handling extension that filters IOExceptions in test execution</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">IgnoreIOExceptionExtension</span> <span class="directive">implements</span> TestExecutionExceptionHandler {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> handleTestExecutionException(ExtensionContext context, <span class="predefined-type">Throwable</span> throwable)
            <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {

        <span class="keyword">if</span> (throwable <span class="keyword">instanceof</span> <span class="exception">IOException</span>) {
            <span class="keyword">return</span>;
        }
        <span class="keyword">throw</span> throwable;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another example shows how to record the state of an application under test exactly at
the point of unexpected exception being thrown during setup and cleanup. Note that unlike
relying on lifecycle callbacks, which may or may not be executed depending on the test
status, this solution guarantees execution immediately after failing <code>@BeforeAll</code>,
<code>@BeforeEach</code>, <code>@AfterEach</code> or <code>@AfterAll</code>.</p>
</div>
<div class="listingblock">
<div class="title">An exception handling extension that records application state on error</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">RecordStateOnErrorExtension</span> <span class="directive">implements</span> LifecycleMethodExecutionExceptionHandler {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> handleBeforeAllMethodExecutionException(ExtensionContext context, <span class="predefined-type">Throwable</span> ex)
            <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {
        memoryDumpForFurtherInvestigation(<span class="string"><span class="delimiter">"</span><span class="content">Failure recorded during class setup</span><span class="delimiter">"</span></span>);
        <span class="keyword">throw</span> ex;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> handleBeforeEachMethodExecutionException(ExtensionContext context, <span class="predefined-type">Throwable</span> ex)
            <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {
        memoryDumpForFurtherInvestigation(<span class="string"><span class="delimiter">"</span><span class="content">Failure recorded during test setup</span><span class="delimiter">"</span></span>);
        <span class="keyword">throw</span> ex;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> handleAfterEachMethodExecutionException(ExtensionContext context, <span class="predefined-type">Throwable</span> ex)
            <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {
        memoryDumpForFurtherInvestigation(<span class="string"><span class="delimiter">"</span><span class="content">Failure recorded during test cleanup</span><span class="delimiter">"</span></span>);
        <span class="keyword">throw</span> ex;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> handleAfterAllMethodExecutionException(ExtensionContext context, <span class="predefined-type">Throwable</span> ex)
            <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {
        memoryDumpForFurtherInvestigation(<span class="string"><span class="delimiter">"</span><span class="content">Failure recorded during class cleanup</span><span class="delimiter">"</span></span>);
        <span class="keyword">throw</span> ex;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple execution exception handlers may be invoked for the same lifecycle method in
order of declaration. If one of the handlers swallows the handled exception, subsequent
ones will not be executed, and no failure will be propagated to JUnit engine, as if the
exception was never thrown. Handlers may also choose to rethrow the exception or throw
a different one, potentially wrapping the original.</p>
</div>
<div class="paragraph">
<p>Extensions implementing <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/LifecycleMethodExecutionExceptionHandler.html">LifecycleMethodExecutionExceptionHandler</a></code> that wish to handle
exceptions thrown during <code>@BeforeAll</code> or <code>@AfterAll</code> need to be registered on a class level,
while handlers for <code>BeforeEach</code> and <code>AfterEach</code> may be also registered for individual
test methods.</p>
</div>
<div class="listingblock">
<div class="title">Registering multiple exception handling extensions</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Register handlers for @Test, @BeforeEach, @AfterEach as well as @BeforeAll and @AfterAll</span>
<span class="annotation">@ExtendWith</span>(ThirdExecutedHandler.class)
<span class="type">class</span> <span class="class">MultipleHandlersTestCase</span> {

    <span class="comment">// Register handlers for @Test, @BeforeEach, @AfterEach only</span>
    <span class="annotation">@ExtendWith</span>(SecondExecutedHandler.class)
    <span class="annotation">@ExtendWith</span>(FirstExecutedHandler.class)
    <span class="annotation">@Test</span>
    <span class="type">void</span> testMethod() {
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-intercepting-invocations"><a class="anchor" href="#extensions-intercepting-invocations"></a>5.11. Intercepting Invocations</h3>
<div class="paragraph">
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/InvocationInterceptor.html">InvocationInterceptor</a></code> defines the API for <code>Extensions</code> that wish to intercept calls to
test code.</p>
</div>
<div class="paragraph">
<p>The following example shows an extension that executes all test methods in Swing’s Event
Dispatch Thread.</p>
</div>
<div class="listingblock">
<div class="title">An extension that executes tests in a user-defined thread</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">SwingEdtInterceptor</span> <span class="directive">implements</span> InvocationInterceptor {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> interceptTestMethod(Invocation&lt;<span class="predefined-type">Void</span>&gt; invocation,
            ReflectiveInvocationContext&lt;<span class="predefined-type">Method</span>&gt; invocationContext,
            ExtensionContext extensionContext) <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {

        <span class="predefined-type">AtomicReference</span>&lt;<span class="predefined-type">Throwable</span>&gt; throwable = <span class="keyword">new</span> <span class="predefined-type">AtomicReference</span>&lt;&gt;();

        <span class="predefined-type">SwingUtilities</span>.invokeAndWait(() -&gt; {
            <span class="keyword">try</span> {
                invocation.proceed();
            }
            <span class="keyword">catch</span> (<span class="predefined-type">Throwable</span> t) {
                throwable.set(t);
            }
        });
        <span class="predefined-type">Throwable</span> t = throwable.get();
        <span class="keyword">if</span> (t != <span class="predefined-constant">null</span>) {
            <span class="keyword">throw</span> t;
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-test-templates"><a class="anchor" href="#extensions-test-templates"></a>5.12. Providing Invocation Contexts for Test Templates</h3>
<div class="paragraph">
<p>A <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestTemplate.html">@TestTemplate</a></code> method can only be executed when at least one
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html">TestTemplateInvocationContextProvider</a></code> is registered. Each such provider is responsible
for providing a <code>Stream</code> of <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestTemplateInvocationContext.html">TestTemplateInvocationContext</a></code> instances. Each context may
specify a custom display name and a list of additional extensions that will only be used
for the next invocation of the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestTemplate.html">@TestTemplate</a></code> method.</p>
</div>
<div class="paragraph">
<p>The following example shows how to write a test template as well as how to register and
implement a <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html">TestTemplateInvocationContextProvider</a></code>.</p>
</div>
<div class="listingblock">
<div class="title">A test template with accompanying extension</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; fruits = <span class="predefined-type">Arrays</span>.asList(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">lemon</span><span class="delimiter">"</span></span>);

<span class="annotation">@TestTemplate</span>
<span class="annotation">@ExtendWith</span>(MyTestTemplateInvocationContextProvider.class)
<span class="type">void</span> testTemplate(<span class="predefined-type">String</span> fruit) {
    assertTrue(fruits.contains(fruit));
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTestTemplateInvocationContextProvider</span>
        <span class="directive">implements</span> TestTemplateInvocationContextProvider {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> supportsTestTemplate(ExtensionContext context) {
        <span class="keyword">return</span> <span class="predefined-constant">true</span>;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> Stream&lt;TestTemplateInvocationContext&gt; provideTestTemplateInvocationContexts(
            ExtensionContext context) {

        <span class="keyword">return</span> Stream.of(invocationContext(<span class="string"><span class="delimiter">"</span><span class="content">apple</span><span class="delimiter">"</span></span>), invocationContext(<span class="string"><span class="delimiter">"</span><span class="content">banana</span><span class="delimiter">"</span></span>));
    }

    <span class="directive">private</span> TestTemplateInvocationContext invocationContext(<span class="predefined-type">String</span> parameter) {
        <span class="keyword">return</span> <span class="keyword">new</span> TestTemplateInvocationContext() {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="predefined-type">String</span> getDisplayName(<span class="type">int</span> invocationIndex) {
                <span class="keyword">return</span> parameter;
            }

            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="predefined-type">List</span>&lt;Extension&gt; getAdditionalExtensions() {
                <span class="keyword">return</span> <span class="predefined-type">Collections</span>.singletonList(<span class="keyword">new</span> ParameterResolver() {
                    <span class="annotation">@Override</span>
                    <span class="directive">public</span> <span class="type">boolean</span> supportsParameter(ParameterContext parameterContext,
                            ExtensionContext extensionContext) {
                        <span class="keyword">return</span> parameterContext.getParameter().getType().equals(<span class="predefined-type">String</span>.class);
                    }

                    <span class="annotation">@Override</span>
                    <span class="directive">public</span> <span class="predefined-type">Object</span> resolveParameter(ParameterContext parameterContext,
                            ExtensionContext extensionContext) {
                        <span class="keyword">return</span> parameter;
                    }
                });
            }
        };
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the test template will be invoked twice. The display names of the
invocations will be <code>apple</code> and <code>banana</code> as specified by the invocation context. Each
invocation registers a custom <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ParameterResolver.html">ParameterResolver</a></code> which is used to resolve the method
parameter. The output when using the <code>ConsoleLauncher</code> is as follows.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>└─ testTemplate(String) ✔
   ├─ apple ✔
   └─ banana ✔</pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestTemplateInvocationContextProvider.html">TestTemplateInvocationContextProvider</a></code> extension API is primarily intended for
implementing different kinds of tests that rely on repetitive invocation of a test-like
method albeit in different contexts — for example, with different parameters, by preparing
the test class instance differently, or multiple times without modifying the context.
Please refer to the implementations of <a href="#writing-tests-repeated-tests">Repeated Tests</a> or
<a href="#writing-tests-parameterized-tests">Parameterized Tests</a> which use this extension point to provide their
functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="extensions-keeping-state"><a class="anchor" href="#extensions-keeping-state"></a>5.13. Keeping State in Extensions</h3>
<div class="paragraph">
<p>Usually, an extension is instantiated only once. So the question becomes relevant: How do
you keep the state from one invocation of an extension to the next? The
<code>ExtensionContext</code> API provides a <code>Store</code> exactly for this purpose. Extensions may put
values into a store for later retrieval. See the
<code><a href="#extensions-lifecycle-callbacks-timing-extension">TimingExtension</a></code> for an example of
using the <code>Store</code> with a method-level scope. It is important to remember that values
stored in an <code>ExtensionContext</code> during test execution will not be available in the
surrounding <code>ExtensionContext</code>. Since <code>ExtensionContexts</code> may be nested, the scope of
inner contexts may also be limited. Consult the corresponding Javadoc for details on the
methods available for storing and retrieving values via the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/ExtensionContext.Store.html">Store</a></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title"><code>ExtensionContext.Store.CloseableResource</code></div>
An extension context store is bound to its extension context lifecycle. When an
extension context lifecycle ends it closes its associated store. All stored values
that are instances of <code>CloseableResource</code> are notified by
an invocation of their <code>close()</code> method.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="extensions-supported-utilities"><a class="anchor" href="#extensions-supported-utilities"></a>5.14. Supported Utilities in Extensions</h3>
<div class="paragraph">
<p>The <code>junit-platform-commons</code> artifact exposes a package named
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/package-summary.html">org.junit.platform.commons.support</a></code> that contains <em>maintained</em> utility methods for working
with annotations, classes, reflection, and classpath scanning tasks. <code>TestEngine</code> and
<code>Extension</code> authors are encouraged to use these supported methods in order to align with
the behavior of the JUnit Platform.</p>
</div>
<div class="sect3">
<h4 id="extensions-supported-utilities-annotations"><a class="anchor" href="#extensions-supported-utilities-annotations"></a>5.14.1. Annotation Support</h4>
<div class="paragraph">
<p><code>AnnotationSupport</code> provides static utility methods that operate on annotated elements
(e.g., packages, annotations, classes, interfaces, constructors, methods, and fields).
These include methods to check whether an element is annotated or meta-annotated with a
particular annotation, to search for specific annotations, and to find annotated methods
and fields in a class or interface. Some of these methods search on implemented
interfaces and within class hierarchies to find annotations. Consult the Javadoc for
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/AnnotationSupport.html">AnnotationSupport</a></code> for further details.</p>
</div>
</div>
<div class="sect3">
<h4 id="extensions-supported-utilities-classes"><a class="anchor" href="#extensions-supported-utilities-classes"></a>5.14.2. Class Support</h4>
<div class="paragraph">
<p><code>ClassSupport</code> provides static utility methods for working with classes (i.e., instances
of <code>java.lang.Class</code>). Consult the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ClassSupport.html">ClassSupport</a></code> for further details.</p>
</div>
</div>
<div class="sect3">
<h4 id="extensions-supported-utilities-reflection"><a class="anchor" href="#extensions-supported-utilities-reflection"></a>5.14.3. Reflection Support</h4>
<div class="paragraph">
<p><code>ReflectionSupport</code> provides static utility methods that augment the standard JDK
reflection and class-loading mechanisms. These include methods to scan the classpath in
search of classes matching specified predicates, to load and create new instances of a
class, and to find and invoke methods. Some of these methods traverse class hierarchies
to locate matching methods. Consult the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ReflectionSupport.html">ReflectionSupport</a></code> for further
details.</p>
</div>
</div>
<div class="sect3">
<h4 id="extensions-supported-utilities-modifier"><a class="anchor" href="#extensions-supported-utilities-modifier"></a>5.14.4. Modifier Support</h4>
<div class="paragraph">
<p><code>ModifierSupport</code> provides static utility methods for working with member and class
modifiers — for example, to determine if a member is declared as <code>public</code>, <code>private</code>,
<code>abstract</code>, <code>static</code>, etc. Consult the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.commons/org/junit/platform/commons/support/ModifierSupport.html">ModifierSupport</a></code> for further
details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-execution-order"><a class="anchor" href="#extensions-execution-order"></a>5.15. Relative Execution Order of User Code and Extensions</h3>
<div class="paragraph">
<p>When executing a test class that contains one or more test methods, a number of extension
callbacks are called in addition to the user-supplied test and lifecycle methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See also: <a href="#writing-tests-test-execution-order">Test Execution Order</a>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="extensions-execution-order-overview"><a class="anchor" href="#extensions-execution-order-overview"></a>5.15.1. User and Extension Code</h4>
<div class="paragraph">
<p>The following diagram illustrates the relative order of user-supplied code and extension
code. User-supplied test and lifecycle methods are shown in orange, with callback code
implemented by extensions shown in blue. The grey box denotes the execution of a single
test method and will be repeated for every test method in the test class.</p>
</div>
<div id="extensions-execution-order-diagram" class="imageblock">
<div class="content">
<img src="JUnit%205%20User%20Guide_fichiers/extensions_lifecycle.png" alt="extensions lifecycle">
</div>
<div class="title">User code and extension code</div>
</div>
<div class="paragraph">
<p>The following table further explains the sixteen steps in the
<a href="#extensions-execution-order-diagram">User code and extension code</a> diagram.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Step</th>
<th class="tableblock halign-left valign-top">Interface/Annotation</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.BeforeAllCallback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code executed before all tests of the container are executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation <code>org.junit.jupiter.api.BeforeAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user code executed before all tests of the container are executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.LifecycleMethodExecutionExceptionHandler
#handleBeforeAllMethodExecutionException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code for handling exceptions thrown from <code>@BeforeAll</code> methods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.BeforeEachCallback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code executed before each test is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation <code>org.junit.jupiter.api.BeforeEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user code executed before each test is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.LifecycleMethodExecutionExceptionHandler
#handleBeforeEachMethodExecutionException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code for handling exceptions thrown from <code>@BeforeEach</code> methods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.BeforeTestExecutionCallback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code executed immediately before a test is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation <code>org.junit.jupiter.api.Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user code of the actual test method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.TestExecutionExceptionHandler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code for handling exceptions thrown during a test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.AfterTestExecutionCallback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code executed immediately after test execution and its corresponding exception handlers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation <code>org.junit.jupiter.api.AfterEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user code executed after each test is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.LifecycleMethodExecutionExceptionHandler
#handleAfterEachMethodExecutionException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code for handling exceptions thrown from <code>@AfterEach</code> methods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.AfterEachCallback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code executed after each test is executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">annotation <code>org.junit.jupiter.api.AfterAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user code executed after all tests of the container are executed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.LifecycleMethodExecutionExceptionHandler
#handleAfterAllMethodExecutionException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code for handling exceptions thrown from <code>@AfterAll</code> methods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">interface <code>org.junit.jupiter.api.extension.AfterAllCallback</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extension code executed after all tests of the container are executed</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the simplest case only the actual test method will be executed (step 8); all other
steps are optional depending on the presence of user code or extension support for the
corresponding lifecycle callback. For further details on the various lifecycle callbacks
please consult the respective Javadoc for each annotation and extension.</p>
</div>
<div class="paragraph">
<p>All invocations of user code methods in the above table can additionally be intercepted
by implementing <a href="#extensions-intercepting-invocations"><code>InvocationInterceptor</code></a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="extensions-execution-order-wrapping-behavior"><a class="anchor" href="#extensions-execution-order-wrapping-behavior"></a>5.15.2. Wrapping Behavior of Callbacks</h4>
<div class="paragraph">
<p>JUnit Jupiter always guarantees <em>wrapping</em> behavior for multiple registered extensions
that implement lifecycle callbacks such as <code>BeforeAllCallback</code>, <code>AfterAllCallback</code>,
<code>BeforeEachCallback</code>, <code>AfterEachCallback</code>, <code>BeforeTestExecutionCallback</code>, and
<code>AfterTestExecutionCallback</code>.</p>
</div>
<div class="paragraph">
<p>That means that, given two extensions <code>Extension1</code> and <code>Extension2</code> with <code>Extension1</code>
registered before <code>Extension2</code>, any "before" callbacks implemented by <code>Extension1</code> are
guaranteed to execute <strong>before</strong> any "before" callbacks implemented by <code>Extension2</code>.
Similarly, given the two same two extensions registered in the same order, any "after"
callbacks implemented by <code>Extension1</code> are guaranteed to execute <strong>after</strong> any "after"
callbacks implemented by <code>Extension2</code>. <code>Extension1</code> is therefore said to <em>wrap</em>
<code>Extension2</code>.</p>
</div>
<div class="paragraph">
<p>JUnit Jupiter also guarantees <em>wrapping</em> behavior within class and interface hierarchies
for user-supplied <em>lifecycle methods</em> (see <a href="#writing-tests-classes-and-methods">Test Classes and Methods</a>).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@BeforeAll</code> methods are inherited from superclasses as long as they are not <em>hidden</em> or
<em>overridden</em>. Furthermore, <code>@BeforeAll</code> methods from superclasses will be executed
<strong>before</strong> <code>@BeforeAll</code> methods in subclasses.</p>
<div class="ulist">
<ul>
<li>
<p>Similarly, <code>@BeforeAll</code> methods declared in an interface are inherited as long as they
are not <em>hidden</em> or <em>overridden</em>, and <code>@BeforeAll</code> methods from an interface will be
executed <strong>before</strong> <code>@BeforeAll</code> methods in the class that implements the interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>@AfterAll</code> methods are inherited from superclasses as long as they are not <em>hidden</em> or
<em>overridden</em>. Furthermore, <code>@AfterAll</code> methods from superclasses will be executed
<strong>after</strong> <code>@AfterAll</code> methods in subclasses.</p>
<div class="ulist">
<ul>
<li>
<p>Similarly, <code>@AfterAll</code> methods declared in an interface are inherited as long as they
are not <em>hidden</em> or <em>overridden</em>, and <code>@AfterAll</code> methods from an interface will be
executed <strong>after</strong> <code>@AfterAll</code> methods in the class that implements the interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>@BeforeEach</code> methods are inherited from superclasses as long as they are not
<em>overridden</em>. Furthermore, <code>@BeforeEach</code> methods from superclasses will be executed
<strong>before</strong> <code>@BeforeEach</code> methods in subclasses.</p>
<div class="ulist">
<ul>
<li>
<p>Similarly, <code>@BeforeEach</code> methods declared as interface default methods are inherited as
long as they are not <em>overridden</em>, and <code>@BeforeEach</code> default methods will be executed
<strong>before</strong> <code>@BeforeEach</code> methods in the class that implements the interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>@AfterEach</code> methods are inherited from superclasses as long as they are not
<em>overridden</em>. Furthermore, <code>@AfterEach</code> methods from superclasses will be executed
<strong>after</strong> <code>@AfterEach</code> methods in subclasses.</p>
<div class="ulist">
<ul>
<li>
<p>Similarly, <code>@AfterEach</code> methods declared as interface default methods are inherited as
long as they are not <em>overridden</em>, and <code>@AfterEach</code> default methods will be executed
<strong>after</strong> <code>@AfterEach</code> methods in the class that implements the interface.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following examples demonstrate this behavior. Please note that the examples do not
actually do anything realistic. Instead, they mimic common scenarios for testing
interactions with the database. All methods imported statically from the <code>Logger</code> class
simply log contextual information in order to help us better understand the execution
order of user-supplied callback methods and callback methods in extensions.</p>
</div>
<div class="listingblock">
<div class="title">Extension1</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.afterEachCallback</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeEachCallback</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.AfterEachCallback</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.BeforeEachCallback</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtensionContext</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Extension1</span> <span class="directive">implements</span> BeforeEachCallback, AfterEachCallback {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> beforeEach(ExtensionContext context) {
        beforeEachCallback(<span class="local-variable">this</span>);
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> afterEach(ExtensionContext context) {
        afterEachCallback(<span class="local-variable">this</span>);
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Extension2</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.afterEachCallback</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeEachCallback</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.AfterEachCallback</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.BeforeEachCallback</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtensionContext</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Extension2</span> <span class="directive">implements</span> BeforeEachCallback, AfterEachCallback {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> beforeEach(ExtensionContext context) {
        beforeEachCallback(<span class="local-variable">this</span>);
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> afterEach(ExtensionContext context) {
        afterEachCallback(<span class="local-variable">this</span>);
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">AbstractDatabaseTests</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.afterAllMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.afterEachMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeAllMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeEachMethod</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterAll</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeAll</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;

<span class="comment">/**
 * Abstract base class for tests that use the database.
 */</span>
<span class="directive">abstract</span> <span class="type">class</span> <span class="class">AbstractDatabaseTests</span> {

    <span class="annotation">@BeforeAll</span>
    <span class="directive">static</span> <span class="type">void</span> createDatabase() {
        beforeAllMethod(AbstractDatabaseTests.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.createDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> connectToDatabase() {
        beforeEachMethod(AbstractDatabaseTests.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.connectToDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterEach</span>
    <span class="type">void</span> disconnectFromDatabase() {
        afterEachMethod(AbstractDatabaseTests.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.disconnectFromDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterAll</span>
    <span class="directive">static</span> <span class="type">void</span> destroyDatabase() {
        afterAllMethod(AbstractDatabaseTests.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.destroyDatabase()</span><span class="delimiter">"</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">DatabaseTestsDemo</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.afterEachMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeAllMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeEachMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.testMethod</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterAll</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeAll</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtendWith</span>;

<span class="comment">/**
 * Extension of {@link AbstractDatabaseTests} that inserts test data
 * into the database (after the database connection has been opened)
 * and deletes test data (before the database connection is closed).
 */</span>
<span class="annotation">@ExtendWith</span>({ Extension1.class, Extension2.class })
<span class="type">class</span> <span class="class">DatabaseTestsDemo</span> <span class="directive">extends</span> AbstractDatabaseTests {

    <span class="annotation">@BeforeAll</span>
    <span class="directive">static</span> <span class="type">void</span> beforeAll() {
        beforeAllMethod(DatabaseTestsDemo.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.beforeAll()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> insertTestDataIntoDatabase() {
        beforeEachMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.insertTestDataIntoDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> testDatabaseFunctionality() {
        testMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.testDatabaseFunctionality()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterEach</span>
    <span class="type">void</span> deleteTestDataFromDatabase() {
        afterEachMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.deleteTestDataFromDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterAll</span>
    <span class="directive">static</span> <span class="type">void</span> afterAll() {
        beforeAllMethod(DatabaseTestsDemo.class.getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.afterAll()</span><span class="delimiter">"</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the <code>DatabaseTestsDemo</code> test class is executed, the following is logged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@BeforeAll AbstractDatabaseTests.createDatabase()
@BeforeAll DatabaseTestsDemo.beforeAll()
  Extension1.beforeEach()
  Extension2.beforeEach()
    @BeforeEach AbstractDatabaseTests.connectToDatabase()
    @BeforeEach DatabaseTestsDemo.insertTestDataIntoDatabase()
      @Test DatabaseTestsDemo.testDatabaseFunctionality()
    @AfterEach DatabaseTestsDemo.deleteTestDataFromDatabase()
    @AfterEach AbstractDatabaseTests.disconnectFromDatabase()
  Extension2.afterEach()
  Extension1.afterEach()
@BeforeAll DatabaseTestsDemo.afterAll()
@AfterAll AbstractDatabaseTests.destroyDatabase()</pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram helps to shed further light on what actually goes on within
the <code>JupiterTestEngine</code> when the <code>DatabaseTestsDemo</code> test class is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="JUnit%205%20User%20Guide_fichiers/extensions_DatabaseTestsDemo.png" alt="extensions DatabaseTestsDemo">
</div>
<div class="title">DatabaseTestsDemo</div>
</div>
<div class="paragraph">
<p>JUnit Jupiter does <strong>not</strong> guarantee the execution order of multiple lifecycle methods
that are declared within a <em>single</em> test class or test interface. It may at times appear
that JUnit Jupiter invokes such methods in alphabetical order. However, that is not
precisely true. The ordering is analogous to the ordering for <code>@Test</code> methods within a
single test class.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Lifecycle methods that are declared within a <em>single</em> test class or test interface will be
ordered using an algorithm that is deterministic but intentionally non-obvious. This
ensures that subsequent runs of a test suite execute lifecycle methods in the same order,
thereby allowing for repeatable builds.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In addition, JUnit Jupiter does <strong>not</strong> support <em>wrapping</em> behavior for multiple lifecycle
methods declared within a single test class or test interface.</p>
</div>
<div class="paragraph">
<p>The following example demonstrates this behavior. Specifically, the lifecycle method
configuration is <em>broken</em> due to the order in which the locally declared lifecycle methods
are executed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Test data is inserted <em>before</em> the database connection has been opened, which results in
a failure to connect to the database.</p>
</li>
<li>
<p>The database connection is closed <em>before</em> deleting the test data, which results in a
failure to connect to the database.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">BrokenLifecycleMethodConfigDemo</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.afterEachMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.beforeEachMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">example.callbacks.Logger.testMethod</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.extension.ExtendWith</span>;

<span class="comment">/**
 * Example of "broken" lifecycle method configuration.
 *
 * &lt;p&gt;Test data is inserted before the database connection has been opened.
 *
 * &lt;p&gt;Database connection is closed before deleting test data.
 */</span>
<span class="annotation">@ExtendWith</span>({ Extension1.class, Extension2.class })
<span class="type">class</span> <span class="class">BrokenLifecycleMethodConfigDemo</span> {

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> connectToDatabase() {
        beforeEachMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.connectToDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@BeforeEach</span>
    <span class="type">void</span> insertTestDataIntoDatabase() {
        beforeEachMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.insertTestDataIntoDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> testDatabaseFunctionality() {
        testMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.testDatabaseFunctionality()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterEach</span>
    <span class="type">void</span> deleteTestDataFromDatabase() {
        afterEachMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.deleteTestDataFromDatabase()</span><span class="delimiter">"</span></span>);
    }

    <span class="annotation">@AfterEach</span>
    <span class="type">void</span> disconnectFromDatabase() {
        afterEachMethod(getClass().getSimpleName() + <span class="string"><span class="delimiter">"</span><span class="content">.disconnectFromDatabase()</span><span class="delimiter">"</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the <code>BrokenLifecycleMethodConfigDemo</code> test class is executed, the following is logged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Extension1.beforeEach()
Extension2.beforeEach()
  @BeforeEach BrokenLifecycleMethodConfigDemo.insertTestDataIntoDatabase()
  @BeforeEach BrokenLifecycleMethodConfigDemo.connectToDatabase()
    @Test BrokenLifecycleMethodConfigDemo.testDatabaseFunctionality()
  @AfterEach BrokenLifecycleMethodConfigDemo.disconnectFromDatabase()
  @AfterEach BrokenLifecycleMethodConfigDemo.deleteTestDataFromDatabase()
Extension2.afterEach()
Extension1.afterEach()</pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram helps to shed further light on what actually goes on within
the <code>JupiterTestEngine</code> when the <code>BrokenLifecycleMethodConfigDemo</code> test class is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="JUnit%205%20User%20Guide_fichiers/extensions_BrokenLifecycleMethodConfigDemo.png" alt="extensions BrokenLifecycleMethodConfigDemo">
</div>
<div class="title">BrokenLifecycleMethodConfigDemo</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to the aforementioned behavior, the JUnit Team recommends that developers declare at
most one of each type of <em>lifecycle method</em> (see <a href="#writing-tests-classes-and-methods">Test Classes and Methods</a>)
per test class or test interface unless there are no dependencies between such lifecycle
methods.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-topics"><a class="anchor" href="#advanced-topics"></a>6. Advanced Topics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="launcher-api"><a class="anchor" href="#launcher-api"></a>6.1. JUnit Platform Launcher API</h3>
<div class="paragraph">
<p>One of the prominent goals of JUnit 5 is to make the interface between JUnit and its
programmatic clients – build tools and IDEs – more powerful and stable. The purpose is to
decouple the internals of discovering and executing tests from all the filtering and
configuration that’s necessary from the outside.</p>
</div>
<div class="paragraph">
<p>JUnit 5 introduces the concept of a <code>Launcher</code> that can be used to discover, filter, and
execute tests. Moreover, third party test libraries – like Spock, Cucumber, and FitNesse
– can plug into the JUnit Platform’s launching infrastructure by providing a custom
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/TestEngine.html">TestEngine</a></code>.</p>
</div>
<div class="paragraph">
<p>The launcher API is in the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/package-summary.html">junit-platform-launcher</a></code> module.</p>
</div>
<div class="paragraph">
<p>An example consumer of the launcher API is the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.console/org/junit/platform/console/ConsoleLauncher.html">ConsoleLauncher</a></code> in the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.console/org/junit/platform/console/package-summary.html">junit-platform-console</a></code> project.</p>
</div>
<div class="sect3">
<h4 id="launcher-api-discovery"><a class="anchor" href="#launcher-api-discovery"></a>6.1.1. Discovering Tests</h4>
<div class="paragraph">
<p>Introducing <em>test discovery</em> as a dedicated feature of the platform itself will
(hopefully) free IDEs and build tools from most of the difficulties they had to go
through to identify test classes and test methods in the past.</p>
</div>
<div class="paragraph">
<p>Usage Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.ClassNameFilter.includeClassNamePatterns</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.DiscoverySelectors.selectClass</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.DiscoverySelectors.selectPackage</span>;

<span class="keyword">import</span> <span class="include">java.io.PrintWriter</span>;
<span class="keyword">import</span> <span class="include">java.nio.file.Path</span>;
<span class="keyword">import</span> <span class="include">java.nio.file.Paths</span>;

<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.Launcher</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.LauncherDiscoveryRequest</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.TestExecutionListener</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.TestPlan</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.core.LauncherConfig</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.core.LauncherDiscoveryRequestBuilder</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.core.LauncherFactory</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.listeners.SummaryGeneratingListener</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.launcher.listeners.TestExecutionSummary</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.reporting.legacy.xml.LegacyXmlReportGeneratingListener</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()
    .selectors(
        selectPackage(<span class="string"><span class="delimiter">"</span><span class="content">com.example.mytests</span><span class="delimiter">"</span></span>),
        selectClass(MyTestClass.class)
    )
    .filters(
        includeClassNamePatterns(<span class="string"><span class="delimiter">"</span><span class="content">.*Tests</span><span class="delimiter">"</span></span>)
    )
    .build();

Launcher launcher = LauncherFactory.create();

TestPlan testPlan = launcher.discover(request);</code></pre>
</div>
</div>
<div class="paragraph">
<p>There’s currently the possibility to select classes, methods, and all classes in a
package or even search for all tests in the classpath. Discovery takes place across all
participating test engines.</p>
</div>
<div class="paragraph">
<p>The resulting <code>TestPlan</code> is a hierarchical (and read-only) description of all engines,
classes, and test methods that fit the <code>LauncherDiscoveryRequest</code>. The client can
traverse the tree, retrieve details about a node, and get a link to the original source
(like class, method, or file position). Every node in the test plan has a <em>unique ID</em>
that can be used to invoke a particular test or group of tests.</p>
</div>
<div class="paragraph">
<p>Clients can register one or more <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/LauncherDiscoveryListener.html">LauncherDiscoveryListener</a></code> implementations to get
insights into events that occur during test discovery via the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/core/LauncherDiscoveryRequestBuilder.html">LauncherDiscoveryRequestBuilder</a></code>. The builder registers a default listener that can be
changed via the <code>junit.platform.discovery.listener.default</code> configuration parameter. If
the parameter is not set, test discovery will be aborted after the first failure is
encountered.</p>
</div>
</div>
<div class="sect3">
<h4 id="launcher-api-execution"><a class="anchor" href="#launcher-api-execution"></a>6.1.2. Executing Tests</h4>
<div class="paragraph">
<p>To execute tests, clients can use the same <code>LauncherDiscoveryRequest</code> as in the discovery
phase or create a new request. Test progress and reporting can be achieved by registering
one or more <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code> implementations with the <code>Launcher</code> as in the
following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()
    .selectors(
        selectPackage(<span class="string"><span class="delimiter">"</span><span class="content">com.example.mytests</span><span class="delimiter">"</span></span>),
        selectClass(MyTestClass.class)
    )
    .filters(
        includeClassNamePatterns(<span class="string"><span class="delimiter">"</span><span class="content">.*Tests</span><span class="delimiter">"</span></span>)
    )
    .build();

Launcher launcher = LauncherFactory.create();

<span class="comment">// Register a listener of your choice</span>
SummaryGeneratingListener listener = <span class="keyword">new</span> SummaryGeneratingListener();
launcher.registerTestExecutionListeners(listener);

launcher.execute(request);

TestExecutionSummary summary = listener.getSummary();
<span class="comment">// Do something with the TestExecutionSummary.</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>There is no return value for the <code>execute()</code> method, but you can easily use a listener to
aggregate the final results in an object of your own. For examples see the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/listeners/SummaryGeneratingListener.html">SummaryGeneratingListener</a></code> and <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.reporting/org/junit/platform/reporting/legacy/xml/LegacyXmlReportGeneratingListener.html">LegacyXmlReportGeneratingListener</a></code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="launcher-api-engines-custom"><a class="anchor" href="#launcher-api-engines-custom"></a>6.1.3. Plugging in your own Test Engine</h4>
<div class="paragraph">
<p>JUnit currently provides two <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/TestEngine.html">TestEngine</a></code> implementations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.engine/org/junit/jupiter/engine/package-summary.html">junit-jupiter-engine</a></code>: The core of JUnit Jupiter.</p>
</li>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.vintage.engine/org/junit/vintage/engine/package-summary.html">junit-vintage-engine</a></code>: A thin layer on top of JUnit 4 to allow running <em>vintage</em>
tests with the launcher infrastructure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Third parties may also contribute their own <code>TestEngine</code> by implementing the interfaces
in the <a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/package-summary.html">junit-platform-engine</a> module and <em>registering</em> their engine. By default, engine
registration is supported via Java’s <code>java.util.ServiceLoader</code> mechanism. For example,
the <code>junit-jupiter-engine</code> module registers its
<code>org.junit.jupiter.engine.JupiterTestEngine</code> in a file named
<code>org.junit.platform.engine.TestEngine</code> within the <code>/META-INF/services</code> in the
<code>junit-jupiter-engine</code> JAR.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/HierarchicalTestEngine.html">HierarchicalTestEngine</a></code> is a convenient abstract base implementation (used by
the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.engine/org/junit/jupiter/engine/package-summary.html">junit-jupiter-engine</a></code>) that only requires implementors to provide the logic for
test discovery. It implements execution of <code>TestDescriptors</code> that implement the <code>Node</code>
interface, including support for parallel execution.
</td>
</tr>
</tbody></table>
</div>
<div id="launcher-api-engines-custom-ids" class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">The <code>junit-</code> prefix is reserved for TestEngines from the JUnit Team</div>
<div class="paragraph">
<p>The JUnit Platform <code>Launcher</code> enforces that only <code>TestEngine</code> implementations published
by the JUnit Team may use the <code>junit-</code> prefix for their <code>TestEngine</code> IDs.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If any third-party <code>TestEngine</code> claims to be <code>junit-jupiter</code> or <code>junit-vintage</code>, an
exception will be thrown, immediately halting execution of the JUnit Platform.</p>
</li>
<li>
<p>If any third-party <code>TestEngine</code> uses the <code>junit-</code> prefix for its ID, a warning message
will be logged. Later releases of the JUnit Platform will throw an exception for such
violations.</p>
</li>
</ul>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="launcher-api-listeners-custom"><a class="anchor" href="#launcher-api-listeners-custom"></a>6.1.4. Plugging in your own Test Execution Listener</h4>
<div class="paragraph">
<p>In addition to the public <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/Launcher.html">Launcher</a></code> API method for registering test execution
listeners programmatically, by default custom <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code> implementations
will be discovered at runtime via Java’s <code>java.util.ServiceLoader</code> mechanism and
automatically registered with the <code>Launcher</code> created via the <code>LauncherFactory</code>. For
example, an <code>example.TestInfoPrinter</code> class implementing <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code> and
declared within the
<code>/META-INF/services/org.junit.platform.launcher.TestExecutionListener</code> file is loaded and
registered automatically.</p>
</div>
</div>
<div class="sect3">
<h4 id="launcher-api-listeners-reporting"><a class="anchor" href="#launcher-api-listeners-reporting"></a>6.1.5. JUnit Platform Reporting</h4>
<div class="paragraph">
<p>The <code>junit-platform-reporting</code> artifact contains <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code>
implementations that generate test reports. These listeners are typically used by IDEs
and build tools. The package <code>org.junit.platform.reporting.legacy.xml</code> currently contains
the following implementation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.reporting/org/junit/platform/reporting/legacy/xml/LegacyXmlReportGeneratingListener.html">LegacyXmlReportGeneratingListener</a></code> generates a separate XML report for each root in
the <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestPlan.html">TestPlan</a></code>. Note that the generated XML format is compatible with the de facto
standard for JUnit 4 based test reports that was made popular by the Ant build system.
The <code>LegacyXmlReportGeneratingListener</code> is used by the
<a href="#running-tests-console-launcher">Console Launcher</a> as well.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/package-summary.html">junit-platform-launcher</a></code> module also contains <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestExecutionListener.html">TestExecutionListener</a></code>
implementations that can be used for reporting purposes. See <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/listeners/LoggingListener.html">LoggingListener</a></code> and
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/listeners/SummaryGeneratingListener.html">SummaryGeneratingListener</a></code> for details.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="launcher-api-launcher-config"><a class="anchor" href="#launcher-api-launcher-config"></a>6.1.6. Configuring the Launcher</h4>
<div class="paragraph">
<p>If you require fine-grained control over automatic detection and registration of test
engines and test execution listeners, you may create an instance of <code>LauncherConfig</code> and
supply that to the <code>LauncherFactory.create(LauncherConfig)</code> method. Typically an instance
of <code>LauncherConfig</code> is created via the built-in fluent <em>builder</em> API, as demonstrated in
the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">LauncherConfig launcherConfig = LauncherConfig.builder()
    .enableTestEngineAutoRegistration(<span class="predefined-constant">false</span>)
    .enableTestExecutionListenerAutoRegistration(<span class="predefined-constant">false</span>)
    .addTestEngines(<span class="keyword">new</span> CustomTestEngine())
    .addTestExecutionListeners(<span class="keyword">new</span> LegacyXmlReportGeneratingListener(reportsDir, out))
    .addTestExecutionListeners(<span class="keyword">new</span> CustomTestExecutionListener())
    .build();

Launcher launcher = LauncherFactory.create(launcherConfig);

LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()
    .selectors(selectPackage(<span class="string"><span class="delimiter">"</span><span class="content">com.example.mytests</span><span class="delimiter">"</span></span>))
    .build();

launcher.execute(request);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testkit"><a class="anchor" href="#testkit"></a>6.2. JUnit Platform Test Kit</h3>
<div class="paragraph">
<p>The <code>junit-platform-testkit</code> artifact provides support for executing a test plan on the
JUnit Platform and then verifying the expected results. As of JUnit Platform 1.4, this
support is limited to the execution of a single <code>TestEngine</code> (see <a href="#testkit-engine">Engine Test Kit</a>).</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Although the Test Kit is currently an <a href="#api-evolution-experimental-apis"><em>experimental</em></a> feature, the JUnit Team invites you to try it out and provide feedback to
help improve the Test Kit APIs and eventually <a href="#api-evolution">promote</a> this feature.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="testkit-engine"><a class="anchor" href="#testkit-engine"></a>6.2.1. Engine Test Kit</h4>
<div class="paragraph">
<p>The <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/package-summary.html">org.junit.platform.testkit.engine</a></code> package provides support for executing a <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.launcher/org/junit/platform/launcher/TestPlan.html">TestPlan</a></code> for a
given <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/TestEngine.html">TestEngine</a></code> running on the JUnit Platform and then accessing the results via a
fluent API to verify the expected results. The key entry point into this API is the
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/EngineTestKit.html">EngineTestKit</a></code> which provides static factory methods named <code>engine()</code> and <code>execute()</code>.
It is recommended that you select one of the <code>engine()</code> variants to benefit from the
fluent API for building an <code>EngineDiscoveryRequest</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you prefer to use the <code>LauncherDiscoveryRequestBuilder</code> from the <code>Launcher</code> API
to build your <code>EngineDiscoveryRequest</code>, you must use one of the <code>execute()</code> variants in
<code>EngineTestKit</code>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The following test class written using JUnit Jupiter will be used in subsequent examples.</p>
</div>
<div id="testkit-engine-ExampleTestCase" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assumptions.assumeTrue</span>;

<span class="keyword">import</span> <span class="include">example.util.Calculator</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Disabled</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.MethodOrderer.OrderAnnotation</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Order</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestMethodOrder</span>;

<span class="annotation">@TestMethodOrder</span>(OrderAnnotation.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ExampleTestCase</span> {

    <span class="directive">private</span> <span class="directive">final</span> Calculator calculator = <span class="keyword">new</span> Calculator();

    <span class="annotation">@Test</span>
    <span class="annotation">@Disabled</span>(<span class="string"><span class="delimiter">"</span><span class="content">for demonstration purposes</span><span class="delimiter">"</span></span>)
    <span class="annotation">@Order</span>(<span class="integer">1</span>)
    <span class="type">void</span> skippedTest() {
        <span class="comment">// skipped ...</span>
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Order</span>(<span class="integer">2</span>)
    <span class="type">void</span> succeedingTest() {
        assertEquals(<span class="integer">42</span>, calculator.multiply(<span class="integer">6</span>, <span class="integer">7</span>));
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Order</span>(<span class="integer">3</span>)
    <span class="type">void</span> abortedTest() {
        assumeTrue(<span class="string"><span class="delimiter">"</span><span class="content">abc</span><span class="delimiter">"</span></span>.contains(<span class="string"><span class="delimiter">"</span><span class="content">Z</span><span class="delimiter">"</span></span>), <span class="string"><span class="delimiter">"</span><span class="content">abc does not contain Z</span><span class="delimiter">"</span></span>);
        <span class="comment">// aborted ...</span>
    }

    <span class="annotation">@Test</span>
    <span class="annotation">@Order</span>(<span class="integer">4</span>)
    <span class="type">void</span> failingTest() {
        <span class="comment">// The following throws an ArithmeticException: "/ by zero"</span>
        calculator.divide(<span class="integer">1</span>, <span class="integer">0</span>);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the sake of brevity, the following sections demonstrate how to test JUnit’s own
<code>JupiterTestEngine</code> whose unique engine ID is <code>"junit-jupiter"</code>. If you want to test your
own <code>TestEngine</code> implementation, you need to use its unique engine ID. Alternatively, you
may test your own <code>TestEngine</code> by supplying an instance of it to the
<code>EngineTestKit.engine(TestEngine)</code> static factory method.</p>
</div>
</div>
<div class="sect3">
<h4 id="testkit-engine-statistics"><a class="anchor" href="#testkit-engine-statistics"></a>6.2.2. Asserting Statistics</h4>
<div class="paragraph">
<p>One of the most common features of the Test Kit is the ability to assert statistics
against events fired during the execution of a <code>TestPlan</code>. The following tests demonstrate
how to assert statistics for <em>containers</em> and <em>tests</em> in the JUnit Jupiter <code>TestEngine</code>.
For details on what statistics are available, consult the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/EventStatistics.html">EventStatistics</a></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.DiscoverySelectors.selectClass</span>;

<span class="keyword">import</span> <span class="include">example.ExampleTestCase</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.testkit.engine.EngineTestKit</span>;

<span class="type">class</span> <span class="class">EngineTestKitStatisticsDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> verifyJupiterContainerStats() {
        EngineTestKit
            .engine(<span class="string"><span class="delimiter">"</span><span class="content">junit-jupiter</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
            .selectors(selectClass(ExampleTestCase.class)) <i class="conum" data-value="2"></i><b>(2)</b>
            .execute() <i class="conum" data-value="3"></i><b>(3)</b>
            .containerEvents() <i class="conum" data-value="4"></i><b>(4)</b>
            .assertStatistics(stats -&gt; stats.started(<span class="integer">2</span>).succeeded(<span class="integer">2</span>)); <i class="conum" data-value="5"></i><b>(5)</b>
    }

    <span class="annotation">@Test</span>
    <span class="type">void</span> verifyJupiterTestStats() {
        EngineTestKit
            .engine(<span class="string"><span class="delimiter">"</span><span class="content">junit-jupiter</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
            .selectors(selectClass(ExampleTestCase.class)) <i class="conum" data-value="2"></i><b>(2)</b>
            .execute() <i class="conum" data-value="3"></i><b>(3)</b>
            .testEvents() <i class="conum" data-value="6"></i><b>(6)</b>
            .assertStatistics(stats -&gt;
                stats.skipped(<span class="integer">1</span>).started(<span class="integer">3</span>).succeeded(<span class="integer">1</span>).aborted(<span class="integer">1</span>).failed(<span class="integer">1</span>)); <i class="conum" data-value="7"></i><b>(7)</b>
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Select the JUnit Jupiter <code>TestEngine</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Select the <a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> test class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Execute the <code>TestPlan</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Filter by <em>container</em> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Assert statistics for <em>container</em> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Filter by <em>test</em> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Assert statistics for <em>test</em> events.</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the <code>verifyJupiterContainerStats()</code> test method, the counts for the <code>started</code> and
<code>succeeded</code> statistics are <code>2</code> since the <code>JupiterTestEngine</code> and the
<a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> class are both considered containers.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="testkit-engine-events"><a class="anchor" href="#testkit-engine-events"></a>6.2.3. Asserting Events</h4>
<div class="paragraph">
<p>If you find that <a href="#testkit-engine-statistics">asserting statistics</a> alone is insufficient
for verifying the expected behavior of test execution, you can work directly with the
recorded <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/Event.html">Event</a></code> elements and perform assertions against them.</p>
</div>
<div class="paragraph">
<p>For example, if you want to verify the reason that the <code>skippedTest()</code> method in
<a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> was skipped, you can do that as
follows.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>assertThatEvents()</code> method in the following example is a shortcut for
<code>org.assertj.core.api.Assertions.assertThat(events.list())</code> from the <a href="https://joel-costigliola.github.io/assertj/">AssertJ</a> assertion
library.</p>
</div>
<div class="paragraph">
<p>For details on what <em>conditions</em> are available for use with AssertJ assertions against
events, consult the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/EventConditions.html">EventConditions</a></code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.DiscoverySelectors.selectMethod</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.event</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.skippedWithReason</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.test</span>;

<span class="keyword">import</span> <span class="include">example.ExampleTestCase</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.testkit.engine.EngineTestKit</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.testkit.engine.Events</span>;

<span class="type">class</span> <span class="class">EngineTestKitSkippedMethodDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> verifyJupiterMethodWasSkipped() {
        <span class="predefined-type">String</span> methodName = <span class="string"><span class="delimiter">"</span><span class="content">skippedTest</span><span class="delimiter">"</span></span>;

        Events testEvents = EngineTestKit <i class="conum" data-value="5"></i><b>(5)</b>
            .engine(<span class="string"><span class="delimiter">"</span><span class="content">junit-jupiter</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
            .selectors(selectMethod(ExampleTestCase.class, methodName)) <i class="conum" data-value="2"></i><b>(2)</b>
            .execute() <i class="conum" data-value="3"></i><b>(3)</b>
            .testEvents(); <i class="conum" data-value="4"></i><b>(4)</b>

        testEvents.assertStatistics(stats -&gt; stats.skipped(<span class="integer">1</span>)); <i class="conum" data-value="6"></i><b>(6)</b>

        testEvents.assertThatEvents() <i class="conum" data-value="7"></i><b>(7)</b>
            .haveExactly(<span class="integer">1</span>, event(test(methodName),
                skippedWithReason(<span class="string"><span class="delimiter">"</span><span class="content">for demonstration purposes</span><span class="delimiter">"</span></span>)));
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Select the JUnit Jupiter <code>TestEngine</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Select the <code>skippedTest()</code> method in the <a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> test class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Execute the <code>TestPlan</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Filter by <em>test</em> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Save the <em>test</em> <code>Events</code> to a local variable.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Optionally assert the expected statistics.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Assert that the recorded <em>test</em> events contain exactly one skipped test named
<code>skippedTest</code> with <code>"for demonstration purposes"</code> as the <em>reason</em>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If you want to verify the type of exception thrown from the <code>failingTest()</code> method in
<a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a>, you can do that as follows.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For details on what <em>conditions</em> are available for use with AssertJ assertions against
events and execution results, consult the Javadoc for <code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/EventConditions.html">EventConditions</a></code> and
<code><a href="https://junit.org/junit5/docs/current/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/TestExecutionResultConditions.html">TestExecutionResultConditions</a></code>, respectively.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.DiscoverySelectors.selectClass</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.event</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.finishedWithFailure</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.test</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.TestExecutionResultConditions.instanceOf</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.TestExecutionResultConditions.message</span>;

<span class="keyword">import</span> <span class="include">example.ExampleTestCase</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.testkit.engine.EngineTestKit</span>;

<span class="type">class</span> <span class="class">EngineTestKitFailedMethodDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> verifyJupiterMethodFailed() {
        EngineTestKit.engine(<span class="string"><span class="delimiter">"</span><span class="content">junit-jupiter</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
            .selectors(selectClass(ExampleTestCase.class)) <i class="conum" data-value="2"></i><b>(2)</b>
            .execute() <i class="conum" data-value="3"></i><b>(3)</b>
            .testEvents() <i class="conum" data-value="4"></i><b>(4)</b>
            .assertThatEvents().haveExactly(<span class="integer">1</span>, <i class="conum" data-value="5"></i><b>(5)</b>
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">failingTest</span><span class="delimiter">"</span></span>),
                    finishedWithFailure(
                        instanceOf(<span class="exception">ArithmeticException</span>.class), message(<span class="string"><span class="delimiter">"</span><span class="content">/ by zero</span><span class="delimiter">"</span></span>))));
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Select the JUnit Jupiter <code>TestEngine</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Select the <a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> test class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Execute the <code>TestPlan</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Filter by <em>test</em> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Assert that the recorded <em>test</em> events contain exactly one failing test named
<code>failingTest</code> with an exception of type <code>ArithmeticException</code> and an error message
equal to <code>"/ by zero"</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Although typically unnecessary, there are times when you need to verify <strong>all</strong> of the
events fired during the execution of a <code>TestPlan</code>. The following test demonstrates how to
achieve this via the <code>assertEventsMatchExactly()</code> method in the <code>EngineTestKit</code> API.</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Since <code>assertEventsMatchExactly()</code> matches conditions exactly in the order in which the
events were fired, <a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> has been
annotated with <code>@TestMethodOrder(OrderAnnotation.class)</code> and each test method has been
annotated with <code>@Order(…​)</code>. This allows us to enforce the order in which the test
methods are executed, which in turn allows our <code>verifyAllJupiterEvents()</code> test to be
reliable.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.engine.discovery.DiscoverySelectors.selectClass</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.abortedWithReason</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.container</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.engine</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.event</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.finishedSuccessfully</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.finishedWithFailure</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.skippedWithReason</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.started</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.EventConditions.test</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.TestExecutionResultConditions.instanceOf</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.platform.testkit.engine.TestExecutionResultConditions.message</span>;

<span class="keyword">import</span> <span class="include">java.io.StringWriter</span>;
<span class="keyword">import</span> <span class="include">java.io.Writer</span>;

<span class="keyword">import</span> <span class="include">example.ExampleTestCase</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.platform.testkit.engine.EngineTestKit</span>;
<span class="keyword">import</span> <span class="include">org.opentest4j.TestAbortedException</span>;

<span class="type">class</span> <span class="class">EngineTestKitAllEventsDemo</span> {

    <span class="annotation">@Test</span>
    <span class="type">void</span> verifyAllJupiterEvents() {
        <span class="predefined-type">Writer</span> writer = <span class="comment">// create a java.io.Writer for debug output</span>

        EngineTestKit.engine(<span class="string"><span class="delimiter">"</span><span class="content">junit-jupiter</span><span class="delimiter">"</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
            .selectors(selectClass(ExampleTestCase.class)) <i class="conum" data-value="2"></i><b>(2)</b>
            .execute() <i class="conum" data-value="3"></i><b>(3)</b>
            .allEvents() <i class="conum" data-value="4"></i><b>(4)</b>
            .debug(writer) <i class="conum" data-value="5"></i><b>(5)</b>
            .assertEventsMatchExactly( <i class="conum" data-value="6"></i><b>(6)</b>
                event(engine(), started()),
                event(container(ExampleTestCase.class), started()),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">skippedTest</span><span class="delimiter">"</span></span>), skippedWithReason(<span class="string"><span class="delimiter">"</span><span class="content">for demonstration purposes</span><span class="delimiter">"</span></span>)),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">succeedingTest</span><span class="delimiter">"</span></span>), started()),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">succeedingTest</span><span class="delimiter">"</span></span>), finishedSuccessfully()),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">abortedTest</span><span class="delimiter">"</span></span>), started()),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">abortedTest</span><span class="delimiter">"</span></span>),
                    abortedWithReason(instanceOf(TestAbortedException.class),
                        message(m -&gt; m.contains(<span class="string"><span class="delimiter">"</span><span class="content">abc does not contain Z</span><span class="delimiter">"</span></span>)))),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">failingTest</span><span class="delimiter">"</span></span>), started()),
                event(test(<span class="string"><span class="delimiter">"</span><span class="content">failingTest</span><span class="delimiter">"</span></span>), finishedWithFailure(
                    instanceOf(<span class="exception">ArithmeticException</span>.class), message(<span class="string"><span class="delimiter">"</span><span class="content">/ by zero</span><span class="delimiter">"</span></span>))),
                event(container(ExampleTestCase.class), finishedSuccessfully()),
                event(engine(), finishedSuccessfully()));
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Select the JUnit Jupiter <code>TestEngine</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Select the <a href="#testkit-engine-ExampleTestCase"><code>ExampleTestCase</code></a> test class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Execute the <code>TestPlan</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Filter by <em>all</em> events.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Print all events to the supplied <code>writer</code> for debugging purposes. Debug information
can also be written to an <code>OutputStream</code> such as <code>System.out</code> or <code>System.err</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Assert <em>all</em> events in exactly the order in which they were fired by the test engine.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The <code>debug()</code> invocation from the preceding example results in output similar to the
following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>All Events:
    Event [type = STARTED, testDescriptor = JupiterEngineDescriptor: [engine:junit-jupiter], timestamp = 2018-12-14T12:45:14.082280Z, payload = null]
    Event [type = STARTED, testDescriptor = ClassTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase], timestamp = 2018-12-14T12:45:14.089339Z, payload = null]
    Event [type = SKIPPED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:skippedTest()], timestamp = 2018-12-14T12:45:14.094314Z, payload = 'for demonstration purposes']
    Event [type = STARTED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:succeedingTest()], timestamp = 2018-12-14T12:45:14.095182Z, payload = null]
    Event [type = FINISHED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:succeedingTest()], timestamp = 2018-12-14T12:45:14.104922Z, payload = TestExecutionResult [status = SUCCESSFUL, throwable = null]]
    Event [type = STARTED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:abortedTest()], timestamp = 2018-12-14T12:45:14.106121Z, payload = null]
    Event [type = FINISHED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:abortedTest()], timestamp = 2018-12-14T12:45:14.109956Z, payload = TestExecutionResult [status = ABORTED, throwable = org.opentest4j.TestAbortedException: Assumption failed: abc does not contain Z]]
    Event [type = STARTED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:failingTest()], timestamp = 2018-12-14T12:45:14.110680Z, payload = null]
    Event [type = FINISHED, testDescriptor = TestMethodTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase]/[method:failingTest()], timestamp = 2018-12-14T12:45:14.111217Z, payload = TestExecutionResult [status = FAILED, throwable = java.lang.ArithmeticException: / by zero]]
    Event [type = FINISHED, testDescriptor = ClassTestDescriptor: [engine:junit-jupiter]/[class:example.ExampleTestCase], timestamp = 2018-12-14T12:45:14.113731Z, payload = TestExecutionResult [status = SUCCESSFUL, throwable = null]]
    Event [type = FINISHED, testDescriptor = JupiterEngineDescriptor: [engine:junit-jupiter], timestamp = 2018-12-14T12:45:14.113806Z, payload = TestExecutionResult [status = SUCCESSFUL, throwable = null]]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api-evolution"><a class="anchor" href="#api-evolution"></a>7. API Evolution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the major goals of JUnit 5 is to improve maintainers' capabilities to evolve JUnit
despite its being used in many projects. With JUnit 4 a lot of stuff that was originally
added as an internal construct only got used by external extension writers and tool
builders. That made changing JUnit 4 especially difficult and sometimes impossible.</p>
</div>
<div class="paragraph">
<p>That’s why JUnit 5 introduces a defined lifecycle for all publicly available interfaces,
classes, and methods.</p>
</div>
<div class="sect2">
<h3 id="api-evolution-version-and-status"><a class="anchor" href="#api-evolution-version-and-status"></a>7.1. API Version and Status</h3>
<div class="paragraph">
<p>Every published artifact has a version number <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code>, and all publicly
available interfaces, classes, and methods are annotated with <a href="https://apiguardian-team.github.io/apiguardian/docs/current/api/">@API</a> from the
<a href="https://github.com/apiguardian-team/apiguardian">@API Guardian</a> project. The annotation’s <code>status</code> attribute can be assigned one of the
following values.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INTERNAL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must not be used by any code other than JUnit itself. Might be removed without prior notice.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEPRECATED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Should no longer be used; might disappear in the next minor release.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EXPERIMENTAL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intended for new, experimental features where we are looking for feedback.<br>
                     Use this element with caution; it might be promoted to <code>MAINTAINED</code> or
                     <code>STABLE</code> in the future, but might also be removed without prior notice, even in a patch.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MAINTAINED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intended for features that will not be changed in a backwards-
                     incompatible way for <strong>at least</strong> the next minor release of the current
                     major version. If scheduled for removal, it will be demoted to <code>DEPRECATED</code> first.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STABLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intended for features that will not be changed in a backwards-
                     incompatible way in the current major version (<code>5.*</code>).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the <code>@API</code> annotation is present on a type, it is considered to be applicable for all
public members of that type as well. A member is allowed to declare a different <code>status</code>
value of lower stability.</p>
</div>
</div>
<div class="sect2">
<h3 id="api-evolution-experimental-apis"><a class="anchor" href="#api-evolution-experimental-apis"></a>7.2. Experimental APIs</h3>
<div class="paragraph">
<p>The following table lists which APIs are currently designated as <em>experimental</em> via
<code>@API(status = EXPERIMENTAL)</code>. Caution should be taken when relying on such APIs.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Package Name</th>
<th class="tableblock halign-left valign-top">Type Name</th>
<th class="tableblock halign-left valign-top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AssertionsKt</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DisplayNameGeneration</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DisplayNameGenerator</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MethodDescriptor</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MethodOrderer</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MethodOrdererContext</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Order</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestMethodOrder</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Timeout</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InvocationInterceptor</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Invocation</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LifecycleMethodExecutionExceptionHandler</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReflectiveInvocationContext</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestInstanceFactory</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestInstanceFactoryContext</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestInstancePreDestroyCallback</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestInstances</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestInstantiationException</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestWatcher</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.extension.support</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TypeBasedParameterResolver</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.io</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TempDir</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Execution</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExecutionMode</code> <em>(enum)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ResourceAccessMode</code> <em>(enum)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ResourceLock</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ResourceLocks</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.api.parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Resources</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.migrationsupport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EnableJUnit4MigrationSupport</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.migrationsupport.conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IgnoreCondition</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.migrationsupport.rules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EnableRuleMigrationSupport</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.migrationsupport.rules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExpectedExceptionSupport</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.migrationsupport.rules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExternalResourceSupport</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.migrationsupport.rules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VerifierSupport</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ParameterizedTest</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.aggregator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AggregateWith</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.aggregator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentAccessException</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.aggregator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsAccessor</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.aggregator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsAccessorKt</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.aggregator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsAggregationException</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.aggregator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsAggregator</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentConversionException</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentConverter</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertWith</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JavaTimeConversionPattern</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleArgumentConverter</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Arguments</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsProvider</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArgumentsSources</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CsvFileSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CsvParsingException</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CsvSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EmptySource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EnumSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MethodSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NullAndEmptySource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NullEnum</code> <em>(enum)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NullSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.provider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ValueSource</code> <em>(annotation)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.jupiter.params.support</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AnnotationConsumer</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.console</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConsoleLauncherToolProvider</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EngineDiscoveryListener</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SelectorResolutionResult</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PrefixedConfigurationParameters</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EngineDiscoveryRequestResolver</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Builder</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InitializationContext</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SelectorResolver</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Context</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Match</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Resolution</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DefaultParallelExecutionConfigurationStrategy</code> <em>(enum)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExclusiveResource</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ForkJoinPoolHierarchicalTestExecutorService</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HierarchicalTestExecutorService</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExecutionMode</code> <em>(enum)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Invocation</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ParallelExecutionConfiguration</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ParallelExecutionConfigurationStrategy</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ResourceLock</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SameThreadHierarchicalTestExecutorService</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.launcher</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EngineDiscoveryResult</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.launcher</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LauncherConstants</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.launcher</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LauncherDiscoveryListener</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.launcher.core</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LauncherConfig</code> <em>(interface)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.launcher.listeners.discovery</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LauncherDiscoveryListeners</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.reporting.legacy.xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LegacyXmlReportGeneratingListener</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EngineExecutionResults</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EngineTestKit</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Event</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EventConditions</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EventStatistics</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EventType</code> <em>(enum)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Events</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Execution</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Executions</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TerminationInfo</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.testkit.engine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TestExecutionResultConditions</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="api-evolution-deprecated-apis"><a class="anchor" href="#api-evolution-deprecated-apis"></a>7.3. Deprecated APIs</h3>
<div class="paragraph">
<p>The following table lists which APIs are currently designated as <em>deprecated</em> via
<code>@API(status = DEPRECATED)</code>. You should avoid using deprecated APIs whenever possible,
since such APIs will likely be removed in an upcoming release.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Package Name</th>
<th class="tableblock halign-left valign-top">Type Name</th>
<th class="tableblock halign-left valign-top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.commons.util</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PreconditionViolationException</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.filter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ClasspathScanningSupport</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.engine.support.hierarchical</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SingleTestExecutor</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.junit.platform.launcher.listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LegacyReportingUtils</code> <em>(class)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.6</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="api-evolution-tooling"><a class="anchor" href="#api-evolution-tooling"></a>7.4. @API Tooling Support</h3>
<div class="paragraph">
<p>The <a href="https://github.com/apiguardian-team/apiguardian">@API Guardian</a> project plans to provide tooling support for publishers and consumers
of APIs annotated with <a href="https://apiguardian-team.github.io/apiguardian/docs/current/api/">@API</a>. For example, the tooling support will likely provide a
means to check if JUnit APIs are being used in accordance with <code>@API</code> annotation
declarations.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributors"><a class="anchor" href="#contributors"></a>8. Contributors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Browse the <a href="https://github.com/junit-team/junit5/graphs/contributors">current list of contributors</a> directly on GitHub.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-notes"><a class="anchor" href="#release-notes"></a>9. Release Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The release notes are available <a href="https://junit.org/junit5/docs/current/release-notes/index.html#release-notes">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix"><a class="anchor" href="#appendix"></a>10. Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="dependency-metadata"><a class="anchor" href="#dependency-metadata"></a>10.1. Dependency Metadata</h3>
<div class="paragraph">
<p>Artifacts for final releases and milestones are deployed to <a href="https://search.maven.org/">Maven Central</a>, and snapshot
artifacts are deployed to Sonatype’s <a href="https://oss.sonatype.org/content/repositories/snapshots">snapshots repository</a> under
<a href="https://oss.sonatype.org/content/repositories/snapshots/org/junit/">/org/junit</a>.</p>
</div>
<div class="sect3">
<h4 id="dependency-metadata-junit-platform"><a class="anchor" href="#dependency-metadata-junit-platform"></a>10.1.1. JUnit Platform</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Group ID</strong>: <code>org.junit.platform</code></p>
</li>
<li>
<p><strong>Version</strong>: <code>1.6.0</code></p>
</li>
<li>
<p><strong>Artifact IDs</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>junit-platform-commons</code></dt>
<dd>
<p>Common APIs and support utilities for the JUnit Platform. Any API annotated with
<code>@API(status = INTERNAL)</code> is intended solely for usage within the JUnit framework
itself. <em>Any usage of internal APIs by external parties is not supported!</em></p>
</dd>
<dt class="hdlist1"><code>junit-platform-console</code></dt>
<dd>
<p>Support for discovering and executing tests on the JUnit Platform from the console.
See <a href="#running-tests-console-launcher">Console Launcher</a> for details.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-console-standalone</code></dt>
<dd>
<p>An executable JAR with all dependencies included is provided in Maven Central under the
<a href="https://repo1.maven.org/maven2/org/junit/platform/junit-platform-console-standalone">junit-platform-console-standalone</a>
directory. See <a href="#running-tests-console-launcher">Console Launcher</a> for details.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-engine</code></dt>
<dd>
<p>Public API for test engines. See <a href="#launcher-api-engines-custom">Plugging in your own Test Engine</a> for details.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-launcher</code></dt>
<dd>
<p>Public API for configuring and launching test plans — typically used by IDEs and
build tools. See <a href="#launcher-api">JUnit Platform Launcher API</a> for details.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-reporting</code></dt>
<dd>
<p><code>TestExecutionListener</code> implementations that generate test reports — typically used
by IDEs and build tools. See <a href="#launcher-api-listeners-reporting">JUnit Platform Reporting</a> for details.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-runner</code></dt>
<dd>
<p>Runner for executing tests and test suites on the JUnit Platform in a JUnit 4
environment. See <a href="#running-tests-junit-platform-runner">Using JUnit 4 to run the JUnit Platform</a> for details.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-suite-api</code></dt>
<dd>
<p>Annotations for configuring test suites on the JUnit Platform. Supported by the
<a href="#running-tests-junit-platform-runner">JUnitPlatform runner</a> and possibly by
third-party <code>TestEngine</code> implementations.</p>
</dd>
<dt class="hdlist1"><code>junit-platform-testkit</code></dt>
<dd>
<p>Provides support for executing a test plan for a given <code>TestEngine</code> and then
accessing the results via a fluent API to verify the expected results.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="dependency-metadata-junit-jupiter"><a class="anchor" href="#dependency-metadata-junit-jupiter"></a>10.1.2. JUnit Jupiter</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Group ID</strong>: <code>org.junit.jupiter</code></p>
</li>
<li>
<p><strong>Version</strong>: <code>5.6.0</code></p>
</li>
<li>
<p><strong>Artifact IDs</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>junit-jupiter</code></dt>
<dd>
<p>JUnit Jupiter aggregator artifact that transitively pulls in dependencies on
<code>junit-jupiter-api</code>, <code>junit-jupiter-params</code>, and <code>junit-jupiter-engine</code> for
simplified dependency management in build tools such as Gradle and Maven.</p>
</dd>
<dt class="hdlist1"><code>junit-jupiter-api</code></dt>
<dd>
<p>JUnit Jupiter API for <a href="#writing-tests">writing tests</a> and <a href="#extensions">extensions</a>.</p>
</dd>
<dt class="hdlist1"><code>junit-jupiter-engine</code></dt>
<dd>
<p>JUnit Jupiter test engine implementation; only required at runtime.</p>
</dd>
<dt class="hdlist1"><code>junit-jupiter-params</code></dt>
<dd>
<p>Support for <a href="#writing-tests-parameterized-tests">parameterized tests</a> in JUnit Jupiter.</p>
</dd>
<dt class="hdlist1"><code>junit-jupiter-migrationsupport</code></dt>
<dd>
<p>Support for migrating from JUnit 4 to JUnit Jupiter; only required for support for
JUnit 4’s <code>@Ignore</code> annotation and for running selected JUnit 4 rules.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="dependency-metadata-junit-vintage"><a class="anchor" href="#dependency-metadata-junit-vintage"></a>10.1.3. JUnit Vintage</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Group ID</strong>: <code>org.junit.vintage</code></p>
</li>
<li>
<p><strong>Version</strong>: <code>5.6.0</code></p>
</li>
<li>
<p><strong>Artifact ID</strong>:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>junit-vintage-engine</code></dt>
<dd>
<p>JUnit Vintage test engine implementation that allows one to run <em>vintage</em> JUnit tests
on the JUnit Platform. <em>Vintage</em> tests include those written using JUnit 3 or JUnit 4
APIs or tests written using testing frameworks built on those APIs.</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="dependency-metadata-junit-bom"><a class="anchor" href="#dependency-metadata-junit-bom"></a>10.1.4. Bill of Materials (BOM)</h4>
<div class="paragraph">
<p>The <em>Bill of Materials</em> POM provided under the following Maven coordinates can be used to
ease dependency management when referencing multiple of the above artifacts using
<a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies">Maven</a>
or <a href="https://docs.gradle.org/current/userguide/managing_transitive_dependencies.html#sec:bom_import">Gradle</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Group ID</strong>: <code>org.junit</code></p>
</li>
<li>
<p><strong>Artifact ID</strong>: <code>junit-bom</code></p>
</li>
<li>
<p><strong>Version</strong>: <code>5.6.0</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="dependency-metadata-dependencies"><a class="anchor" href="#dependency-metadata-dependencies"></a>10.1.5. Dependencies</h4>
<div class="paragraph">
<p>Most of the above artifacts have a dependency in their published Maven POMs on the
following <em>@API Guardian</em> JAR.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Group ID</strong>: <code>org.apiguardian</code></p>
</li>
<li>
<p><strong>Artifact ID</strong>: <code>apiguardian-api</code></p>
</li>
<li>
<p><strong>Version</strong>: <code>1.1.0</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, most of the above artifacts have a direct or transitive dependency on the
following <em>OpenTest4J</em> JAR.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Group ID</strong>: <code>org.opentest4j</code></p>
</li>
<li>
<p><strong>Artifact ID</strong>: <code>opentest4j</code></p>
</li>
<li>
<p><strong>Version</strong>: <code>1.2.0</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dependency-diagram"><a class="anchor" href="#dependency-diagram"></a>10.2. Dependency Diagram</h3>
<div class="imageblock">
<div class="content">
<img src="JUnit%205%20User%20Guide_fichiers/component-diagram.svg" alt="component diagram" width="1746" height="596">
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 5.6.0<br>
Last updated 2020-01-19 14:10:28 CET
</div>
</div>
<script src="JUnit%205%20User%20Guide_fichiers/tocbot.js"></script>
<script>
    /* Tocbot dynamic TOC, works with tocbot 3.0.2 */
    /* Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 */
    var oldtoc = document.getElementById('toctitle').nextElementSibling;
    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: 'h1, h2, h3, h4, h5',
        smoothScroll: false });
    var handleTocOnResize = function() {
        var width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                smoothScroll: false });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: 'h1, h2, h3, h4, h5',
                smoothScroll: false });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>

</body></html>